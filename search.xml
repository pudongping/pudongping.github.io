<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>é’ˆå¯¹ hyperf æ¡†æ¶å®ç°ç®€å•é™æµå™¨ï¼Œç±»ä¼¼ laravel æ¡†æ¶ throttle ä¸­é—´ä»¶åŠŸèƒ½</title>
      <link href="posts/f2f7e2ee.html"/>
      <url>posts/f2f7e2ee.html</url>
      
        <content type="html"><![CDATA[<h1 id="é’ˆå¯¹-hyperf-æ¡†æ¶å®ç°ç®€å•é™æµå™¨ï¼Œç±»ä¼¼-laravel-æ¡†æ¶-throttle-ä¸­é—´ä»¶åŠŸèƒ½"><a href="#é’ˆå¯¹-hyperf-æ¡†æ¶å®ç°ç®€å•é™æµå™¨ï¼Œç±»ä¼¼-laravel-æ¡†æ¶-throttle-ä¸­é—´ä»¶åŠŸèƒ½" class="headerlink" title="é’ˆå¯¹ hyperf æ¡†æ¶å®ç°ç®€å•é™æµå™¨ï¼Œç±»ä¼¼ laravel æ¡†æ¶ throttle ä¸­é—´ä»¶åŠŸèƒ½"></a>é’ˆå¯¹ hyperf æ¡†æ¶å®ç°ç®€å•é™æµå™¨ï¼Œç±»ä¼¼ laravel æ¡†æ¶ throttle ä¸­é—´ä»¶åŠŸèƒ½</h1><h2 id="é™æµå™¨çš„æ¦‚å¿µ"><a href="#é™æµå™¨çš„æ¦‚å¿µ" class="headerlink" title="é™æµå™¨çš„æ¦‚å¿µ"></a>é™æµå™¨çš„æ¦‚å¿µ</h2><p>æ‰€è°“é™æµå™¨ï¼ŒæŒ‡çš„æ˜¯é™åˆ¶è®¿é—®æŒ‡å®šæœåŠ¡/è·¯ç”±çš„æµé‡ï¼Œé€šä¿—ç‚¹è¯´ï¼Œå°±æ˜¯é™åˆ¶å•ä½æ—¶é—´å†…è®¿é—®æŒ‡å®šæœåŠ¡/è·¯ç”±çš„æ¬¡æ•°ï¼ˆé¢‘ç‡ï¼‰ï¼Œ<br>ä»ç³»ç»Ÿæ¶æ„è§’åº¦çœ‹ï¼Œé€šè¿‡é™æµå™¨å¯ä»¥æœ‰æ•ˆé¿å…çŸ­æ—¶é—´å†…çš„å¼‚å¸¸é«˜å¹¶å‘è¯·æ±‚å¯¼è‡´ç³»ç»Ÿè´Ÿè½½è¿‡é«˜ï¼Œä»è€Œè¾¾åˆ°ä¿æŠ¤ç³»ç»Ÿçš„ç›®çš„ï¼Œ<br>å¦å¤–å¯¹äºä¸€äº›æ—¥å¸¸çš„ä¸šåŠ¡åŠŸèƒ½ï¼Œä¹Ÿå¯ä»¥é€šè¿‡é™æµå™¨é¿å…åƒåœ¾æµé‡ï¼Œæ¯”å¦‚å‘é€çŸ­ä¿¡æœåŠ¡ã€ç”¨æˆ·æ³¨å†Œã€æ–‡ç« å‘å¸ƒã€ç”¨æˆ·è¯„è®ºç­‰ï¼Œ<br>é€šè¿‡é™æµå¯ä»¥æœ‰æ•ˆé˜»æ­¢åƒåœ¾ç”¨æˆ·çš„æ‰¹é‡æ³¨å†Œå’Œå‘å¸ƒã€‚</p><h2 id="ç®€å•å®ç°æ–¹æ¡ˆ"><a href="#ç®€å•å®ç°æ–¹æ¡ˆ" class="headerlink" title="ç®€å•å®ç°æ–¹æ¡ˆ"></a>ç®€å•å®ç°æ–¹æ¡ˆ</h2><blockquote><p>è¿™é‡Œé‡‡ç”¨äº† <code>redis</code> ä½œä¸ºå­˜å‚¨å™¨ï¼Œä»¥ä¸‹å†…å®¹å…¨éƒ¨åŸºäº <code>redis</code> è€Œè¨€ã€‚</p></blockquote><ul><li>é€šè¿‡ <code>setex</code> æŒ‡ä»¤åˆå§‹åŒ–é™æµå™¨çš„é”®ï¼ˆåŸºäºç”¨æˆ· IDã€IP åœ°å€ç­‰æ ‡è¯†æ¥æºçš„å˜é‡è¿›è¡Œæ‹¼æ¥ï¼‰ã€å¹¶è®¾ç½®æœ‰æ•ˆæœŸï¼ˆä½œä¸ºä¸€ä¸ªè®¡æ—¶å™¨ï¼‰ï¼›</li><li>é¦–æ¬¡è®¿é—®æŸä¸ªæœåŠ¡/è·¯ç”±æ—¶ï¼Œé€šè¿‡ <code>increment</code> æŒ‡ä»¤åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„ç»Ÿè®¡é”®å€¼å¯¹ï¼ˆä½œä¸ºä¸€ä¸ªè®¡æ•°å™¨ï¼‰ï¼Œåç»­åœ¨è®¡æ—¶å™¨æœ‰æ•ˆæœŸå†…è®¿é—®åŒä¸€ä¸ªæœåŠ¡/è·¯ç”±ï¼Œé€šè¿‡ <code>increment</code> æŒ‡ä»¤å¯¹é”®å€¼åšè‡ªå¢æ“ä½œï¼›</li><li>å½“è¯¥æœåŠ¡/è·¯ç”±çš„è®¿é—®æ¬¡æ•°è¶…è¿‡é™æµå™¨è®¾ç½®çš„è®¿é—®ä¸Šé™ï¼Œåˆ™æ‹’ç»åç»­è®¿é—®ã€‚</li></ul><h2 id="æ³¨æ„-âš ï¸"><a href="#æ³¨æ„-âš ï¸" class="headerlink" title="æ³¨æ„ âš ï¸"></a>æ³¨æ„ âš ï¸</h2><blockquote><p>ä»¥ä¸‹åŠŸèƒ½å®ç°ä»£ç ä¸­ä½¿ç”¨åˆ°äº†å¾ˆå¤šåŠ©æ‰‹å‡½æ•°ï¼Œå»ºè®®é¦–å…ˆå‚è€ƒæˆ‘çš„ <a href="https://pudongping.github.io/posts/79e7b1a4.html">hyperf æ¡†æ¶å¸¸ç”¨çš„åŠ©æ‰‹å‡½æ•°</a> ä¸€æ–‡ï¼ŒæŸ¥çœ‹å…·ä½“çš„åŠ©æ‰‹å‡½æ•°ã€‚<br>å…¶ä¸­ <code>auth()</code> æ–¹æ³•ä¸ºè·å–å½“å‰ç™»å½•çš„ç”¨æˆ·ä¿¡æ¯ã€‚</p></blockquote><h2 id="Talk-is-cheap-show-me-the-code-ğŸ˜œ"><a href="#Talk-is-cheap-show-me-the-code-ğŸ˜œ" class="headerlink" title="Talk is cheap, show me the code. ğŸ˜œ"></a>Talk is cheap, show me the code. ğŸ˜œ</h2><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token comment">/** * èŠ‚æµå¤„ç† * ç”¨é€”ï¼šé™åˆ¶è®¿é—®é¢‘ç‡ * åšæ³•ï¼šé™åˆ¶å•ä½æ—¶é—´å†…è®¿é—®æŒ‡å®šæœåŠ¡/è·¯ç”±çš„æ¬¡æ•°ï¼ˆé¢‘ç‡ï¼‰ */</span><span class="token keyword">declare</span><span class="token punctuation">(</span>strict_types<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">namespace</span> <span class="token package">App<span class="token punctuation">\</span>Helper</span><span class="token punctuation">;</span><span class="token keyword">use</span> <span class="token package">Carbon<span class="token punctuation">\</span>Carbon</span><span class="token punctuation">;</span><span class="token keyword">use</span> <span class="token package">Psr<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Message<span class="token punctuation">\</span>ResponseInterface</span><span class="token punctuation">;</span><span class="token keyword">use</span> <span class="token package">Hyperf<span class="token punctuation">\</span>Utils<span class="token punctuation">\</span>Context</span><span class="token punctuation">;</span><span class="token keyword">use</span> <span class="token package">App<span class="token punctuation">\</span>Exception<span class="token punctuation">\</span>ApiException</span><span class="token punctuation">;</span><span class="token keyword">use</span> <span class="token package">App<span class="token punctuation">\</span>Constants<span class="token punctuation">\</span>ErrorCode</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">ThrottleRequestsHelper</span><span class="token punctuation">{</span>    <span class="token comment">/**     * ç”¨äºåšè®¡æ—¶å™¨çš„ç¼“å­˜keyåç¼€     *     * @var string     */</span>    <span class="token keyword">protected</span> <span class="token variable">$keySuffix</span> <span class="token operator">=</span> <span class="token string single-quoted-string">':timer'</span><span class="token punctuation">;</span>    <span class="token comment">/**     * å¤„ç†èŠ‚æµ     *     * @param int $maxAttempts  åœ¨æŒ‡å®šæ—¶é—´å†…å…è®¸çš„æœ€å¤§è¯·æ±‚æ¬¡æ•°     * @param int $decaySeconds  å•ä½æ—¶é—´ï¼ˆsï¼‰     * @param string $prefix  è®¡æ•°å™¨ç¼“å­˜keyå‰ç¼€     */</span>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">handle</span><span class="token punctuation">(</span><span class="token keyword type-hint">int</span> <span class="token variable">$maxAttempts</span> <span class="token operator">=</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token keyword type-hint">int</span> <span class="token variable">$decaySeconds</span> <span class="token operator">=</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token keyword type-hint">string</span> <span class="token variable">$prefix</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'dfo:throttle'</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token variable">$key</span> <span class="token operator">=</span> <span class="token variable">$prefix</span> <span class="token operator">.</span> <span class="token string single-quoted-string">':'</span> <span class="token operator">.</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">resolveRequestSignature</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// è®¡æ•°å™¨çš„ç¼“å­˜key</span>        <span class="token comment">// å•ä½æ—¶é—´å†…å·²ç»è¶…è¿‡äº†è®¿é—®æ¬¡æ•°æ—¶</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">tooManyAttempts</span><span class="token punctuation">(</span><span class="token variable">$key</span><span class="token punctuation">,</span> <span class="token variable">$maxAttempts</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">throw</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">buildException</span><span class="token punctuation">(</span><span class="token variable">$key</span><span class="token punctuation">,</span> <span class="token variable">$maxAttempts</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">hit</span><span class="token punctuation">(</span><span class="token variable">$key</span><span class="token punctuation">,</span> <span class="token variable">$decaySeconds</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">setHeaders</span><span class="token punctuation">(</span><span class="token variable">$key</span><span class="token punctuation">,</span> <span class="token variable">$maxAttempts</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">/**     * ç”Ÿæˆç¼“å­˜ key     *     * @return string     */</span>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">resolveRequestSignature</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token variable">$str</span> <span class="token operator">=</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'|'</span> <span class="token operator">.</span> <span class="token function">getClientIp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$user</span> <span class="token operator">=</span> <span class="token function">auth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token variable">$str</span> <span class="token operator">.=</span> <span class="token string single-quoted-string">'|'</span> <span class="token operator">.</span> <span class="token punctuation">(</span><span class="token keyword type-casting">string</span><span class="token punctuation">)</span><span class="token variable">$user</span><span class="token operator">-&gt;</span><span class="token property">user_id</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token function">sha1</span><span class="token punctuation">(</span><span class="token variable">$str</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">/**     * åœ¨æŒ‡å®šæ—¶é—´å†…å¢åŠ æŒ‡å®šé”®çš„è®¡æ•°å™¨     *     * @param string $key  è®¡æ•°å™¨çš„ç¼“å­˜key     * @param int $decaySeconds  æŒ‡å®šæ—¶é—´ï¼ˆSï¼‰     * @return int  è®¡æ•°å™¨å…·ä½“å¢åŠ åˆ°å¤šå°‘å€¼     */</span>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">hit</span><span class="token punctuation">(</span><span class="token keyword type-hint">string</span> <span class="token variable">$key</span><span class="token punctuation">,</span> <span class="token keyword type-hint">int</span> <span class="token variable">$decaySeconds</span> <span class="token operator">=</span> <span class="token number">60</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token comment">// è®¡æ—¶å™¨çš„æœ‰æ•ˆæœŸæ—¶é—´æˆ³</span>        <span class="token variable">$expirationTime</span> <span class="token operator">=</span> <span class="token class-name static-context">Carbon</span><span class="token operator">::</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">addRealSeconds</span><span class="token punctuation">(</span><span class="token variable">$decaySeconds</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">getTimestamp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// è®¡æ—¶å™¨</span>        <span class="token function">redis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">setex</span><span class="token punctuation">(</span><span class="token variable">$key</span> <span class="token operator">.</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">keySuffix</span><span class="token punctuation">,</span> <span class="token variable">$decaySeconds</span><span class="token punctuation">,</span> <span class="token variable">$expirationTime</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// è®¡æ•°å™¨</span>        <span class="token variable">$numbers</span> <span class="token operator">=</span> <span class="token function">redis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">incr</span><span class="token punctuation">(</span><span class="token variable">$key</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// è¿”å›å¢åŠ åˆ°å¤šå°‘çš„å…·ä½“æ•°å­—</span>        <span class="token keyword">return</span> <span class="token variable">$numbers</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">/**     * åˆ¤æ–­è®¿é—®æ¬¡æ•°æ˜¯å¦å·²ç»è¾¾åˆ°äº†ä¸´ç•Œå€¼     *     * @param string $key  è®¡æ•°å™¨çš„ç¼“å­˜key     * @param int $maxAttempts  åœ¨æŒ‡å®šæ—¶é—´å†…å…è®¸çš„æœ€å¤§è¯·æ±‚æ¬¡æ•°     * @return bool     */</span>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">tooManyAttempts</span><span class="token punctuation">(</span><span class="token keyword type-hint">string</span> <span class="token variable">$key</span><span class="token punctuation">,</span> <span class="token keyword type-hint">int</span> <span class="token variable">$maxAttempts</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token comment">// è·å–è®¡æ•°å™¨çš„å€¼ï¼Œå¦‚æœè®¡æ•°å™¨ä¸å­˜åœ¨ï¼Œåˆ™åˆå§‹åŒ–è®¡æ•°å™¨çš„å€¼ä¸º 0</span>        <span class="token comment">// è·å–ä¸€ä¸ªä¸å­˜åœ¨çš„é”®æ—¶ï¼Œä¼šç›´æ¥è¿”å› false</span>        <span class="token variable">$counterNumber</span> <span class="token operator">=</span> <span class="token function">redis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token variable">$key</span><span class="token punctuation">)</span> <span class="token operator">?</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token comment">// åˆ¤æ–­è®¡æ—¶å™¨æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœè®¡æ—¶å™¨ä¸å­˜åœ¨ï¼Œåˆ™å¯¹åº”çš„è®¡æ•°å™¨æ²¡æœ‰å­˜åœ¨çš„æ„ä¹‰ï¼ˆå­˜åœ¨è¿‡å¤šçš„è®¡æ•°å™¨ä¼šå ç”¨ redis ç©ºé—´ï¼‰</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">redis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token variable">$key</span> <span class="token operator">.</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">keySuffix</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// å­˜åœ¨ç¼“å­˜keyæ—¶è¿”å› int =&gt; 1ï¼Œä¸å­˜åœ¨æ—¶è¿”å› int =&gt; 0</span>            <span class="token comment">// æœ‰è¯¥é”®åä¸”åˆ é™¤æˆåŠŸè¿”å› int =&gt; 1ï¼Œæ— è¯¥é”®åæ—¶è¿”å› int =&gt; 0</span>            <span class="token function">redis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">del</span><span class="token punctuation">(</span><span class="token variable">$key</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// åˆ é™¤è®¡æ•°å™¨ç¼“å­˜ï¼Œé˜²æ­¢è®¡æ—¶å™¨å¤±æ•ˆåï¼Œä¸‹ä¸€æ¬¡ç”¨æˆ·è®¿é—®æ—¶ä¸æ˜¯ä» 1 å¼€å§‹è®¡æ•°</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$counterNumber</span> <span class="token operator">&gt;=</span> <span class="token variable">$maxAttempts</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// åˆ¤æ–­è®¡æ•°å™¨åœ¨å•ä½æ—¶é—´å†…æ˜¯å¦è¾¾åˆ°äº†ä¸´ç•Œå€¼</span>                <span class="token keyword">return</span> <span class="token constant boolean">true</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token constant boolean">false</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">/**     * è¶…è¿‡è®¿é—®æ¬¡æ•°é™åˆ¶æ—¶ï¼Œæ„å»ºå¼‚å¸¸ä¿¡æ¯     *     * @param string $key  è®¡æ•°å™¨çš„ç¼“å­˜key     * @param int $maxAttempts  åœ¨æŒ‡å®šæ—¶é—´å†…å…è®¸çš„æœ€å¤§è¯·æ±‚æ¬¡æ•°     * @return ApiException     */</span>    <span class="token keyword">protected</span> <span class="token keyword">function</span> <span class="token function">buildException</span><span class="token punctuation">(</span><span class="token keyword type-hint">string</span> <span class="token variable">$key</span><span class="token punctuation">,</span> <span class="token keyword type-hint">int</span> <span class="token variable">$maxAttempts</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token comment">// è·ç¦»å…è®¸ä¸‹ä¸€æ¬¡è¯·æ±‚è¿˜æœ‰å¤šå°‘ç§’</span>        <span class="token variable">$retryAfter</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">getTimeUntilNextRetry</span><span class="token punctuation">(</span><span class="token variable">$key</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">setHeaders</span><span class="token punctuation">(</span><span class="token variable">$key</span><span class="token punctuation">,</span> <span class="token variable">$maxAttempts</span><span class="token punctuation">,</span> <span class="token variable">$retryAfter</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 429 Too Many Requests</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ApiException</span><span class="token punctuation">(</span><span class="token class-name static-context">ErrorCode</span><span class="token operator">::</span><span class="token constant">REQUEST_FREQUENTLY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">/**     * è®¾ç½®è¿”å›å¤´æ•°æ®     *     * @param string $key  è®¡æ•°å™¨çš„ç¼“å­˜key     * @param int $maxAttempts  åœ¨æŒ‡å®šæ—¶é—´å†…å…è®¸çš„æœ€å¤§è¯·æ±‚æ¬¡æ•°     * @param int|null $retryAfter  è·ç¦»ä¸‹æ¬¡é‡è¯•è¯·æ±‚éœ€è¦ç­‰å¾…çš„æ—¶é—´ï¼ˆsï¼‰     */</span>    <span class="token keyword">protected</span> <span class="token keyword">function</span> <span class="token function">setHeaders</span><span class="token punctuation">(</span><span class="token keyword type-hint">string</span> <span class="token variable">$key</span><span class="token punctuation">,</span> <span class="token keyword type-hint">int</span> <span class="token variable">$maxAttempts</span><span class="token punctuation">,</span> <span class="token operator">?</span><span class="token keyword type-hint">int</span> <span class="token variable">$retryAfter</span> <span class="token operator">=</span> <span class="token constant">null</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token comment">// è®¾ç½®è¿”å›å¤´æ•°æ®</span>        <span class="token variable">$headers</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">getHeaders</span><span class="token punctuation">(</span>            <span class="token variable">$maxAttempts</span><span class="token punctuation">,</span>            <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">calculateRemainingAttempts</span><span class="token punctuation">(</span><span class="token variable">$key</span><span class="token punctuation">,</span> <span class="token variable">$maxAttempts</span><span class="token punctuation">,</span> <span class="token variable">$retryAfter</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment">// è®¡ç®—å‰©ä½™è®¿é—®æ¬¡æ•°</span>            <span class="token variable">$retryAfter</span>        <span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// æ·»åŠ è¿”å›å¤´æ•°æ®åˆ°è¯·æ±‚å¤´ä¸­</span>        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">addHeaders</span><span class="token punctuation">(</span><span class="token variable">$headers</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">/**     * è·å–è¿”å›å¤´æ•°æ®     *     * @param int $maxAttempts  åœ¨æŒ‡å®šæ—¶é—´å†…å…è®¸çš„æœ€å¤§è¯·æ±‚æ¬¡æ•°     * @param int $remainingAttempts  åœ¨æŒ‡å®šæ—¶é—´æ®µå†…å‰©ä¸‹çš„è¯·æ±‚æ¬¡æ•°     * @param int|null $retryAfter  è·ç¦»ä¸‹æ¬¡é‡è¯•è¯·æ±‚éœ€è¦ç­‰å¾…çš„æ—¶é—´ï¼ˆsï¼‰     * @return int[]     */</span>    <span class="token keyword">protected</span> <span class="token keyword">function</span> <span class="token function">getHeaders</span><span class="token punctuation">(</span><span class="token keyword type-hint">int</span> <span class="token variable">$maxAttempts</span><span class="token punctuation">,</span> <span class="token keyword type-hint">int</span> <span class="token variable">$remainingAttempts</span><span class="token punctuation">,</span> <span class="token operator">?</span><span class="token keyword type-hint">int</span> <span class="token variable">$retryAfter</span> <span class="token operator">=</span> <span class="token constant">null</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token variable">$headers</span> <span class="token operator">=</span> <span class="token punctuation">[</span>            <span class="token string single-quoted-string">'X-RateLimit-Limit'</span> <span class="token operator">=&gt;</span> <span class="token variable">$maxAttempts</span><span class="token punctuation">,</span>  <span class="token comment">// åœ¨æŒ‡å®šæ—¶é—´å†…å…è®¸çš„æœ€å¤§è¯·æ±‚æ¬¡æ•°</span>            <span class="token string single-quoted-string">'X-RateLimit-Remaining'</span> <span class="token operator">=&gt;</span> <span class="token variable">$remainingAttempts</span><span class="token punctuation">,</span>  <span class="token comment">// åœ¨æŒ‡å®šæ—¶é—´æ®µå†…å‰©ä¸‹çš„è¯·æ±‚æ¬¡æ•°</span>        <span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> <span class="token function">is_null</span><span class="token punctuation">(</span><span class="token variable">$retryAfter</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// åªæœ‰å½“ç”¨æˆ·è®¿é—®é¢‘æ¬¡è¶…è¿‡äº†æœ€å¤§é¢‘æ¬¡ä¹‹åæ‰ä¼šè¿”å›ä»¥ä¸‹ä¸¤ä¸ªè¿”å›å¤´å­—æ®µ</span>            <span class="token variable">$headers</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'Retry-After'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$retryAfter</span><span class="token punctuation">;</span>  <span class="token comment">// è·ç¦»ä¸‹æ¬¡é‡è¯•è¯·æ±‚éœ€è¦ç­‰å¾…çš„æ—¶é—´ï¼ˆsï¼‰</span>            <span class="token variable">$headers</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'X-RateLimit-Reset'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token class-name static-context">Carbon</span><span class="token operator">::</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">addRealSeconds</span><span class="token punctuation">(</span><span class="token variable">$retryAfter</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">getTimestamp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// è·ç¦»ä¸‹æ¬¡é‡è¯•è¯·æ±‚éœ€è¦ç­‰å¾…çš„æ—¶é—´æˆ³ï¼ˆsï¼‰</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token variable">$headers</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">/**     * æ·»åŠ è¯·æ±‚å¤´æ•°æ®     *     * @param array $headers     */</span>    <span class="token keyword">protected</span> <span class="token keyword">function</span> <span class="token function">addHeaders</span><span class="token punctuation">(</span><span class="token keyword type-hint">array</span> <span class="token variable">$headers</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token variable">$response</span> <span class="token operator">=</span> <span class="token class-name static-context">Context</span><span class="token operator">::</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name static-context">ResponseInterface</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$headers</span> <span class="token keyword">as</span> <span class="token variable">$key</span> <span class="token operator">=&gt;</span> <span class="token variable">$header</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token variable">$response</span> <span class="token operator">=</span> <span class="token variable">$response</span><span class="token operator">-&gt;</span><span class="token function">withHeader</span><span class="token punctuation">(</span><span class="token variable">$key</span><span class="token punctuation">,</span> <span class="token variable">$header</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token class-name static-context">Context</span><span class="token operator">::</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token class-name static-context">ResponseInterface</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">/**     * è®¡ç®—è·ç¦»å…è®¸ä¸‹ä¸€æ¬¡è¯·æ±‚è¿˜æœ‰å¤šå°‘ç§’     *     * @param string $key     * @return false|int|mixed|string     */</span>    <span class="token keyword">protected</span> <span class="token keyword">function</span> <span class="token function">getTimeUntilNextRetry</span><span class="token punctuation">(</span><span class="token keyword type-hint">string</span> <span class="token variable">$key</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token comment">// åœ¨ $this-&gt;tooManyAttempts() æ–¹æ³•ä¸­å·²ç»åˆ¤æ–­äº†è®¡æ—¶å™¨çš„ç¼“å­˜ key æ˜¯å¦å­˜åœ¨ï¼Œå› æ­¤åœ¨è¿™é‡Œæ¯‹éœ€å†æ¬¡ç´¯èµ˜åˆ¤æ–­</span>        <span class="token comment">// è®¡æ—¶å™¨çš„æœ‰æ•ˆæœŸå‡å»å½“å‰æ—¶é—´æˆ³</span>        <span class="token keyword">return</span> <span class="token function">redis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token variable">$key</span> <span class="token operator">.</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">keySuffix</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token class-name static-context">Carbon</span><span class="token operator">::</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">getTimestamp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">/**     * è®¡ç®—å‰©ä½™è®¿é—®æ¬¡æ•°     *     * @param string $key è®¡æ•°å™¨çš„ç¼“å­˜key     * @param int $maxAttempts  åœ¨æŒ‡å®šæ—¶é—´å†…å…è®¸çš„æœ€å¤§è¯·æ±‚æ¬¡æ•°     * @param int|null $retryAfter  è·ç¦»ä¸‹æ¬¡é‡è¯•è¯·æ±‚éœ€è¦ç­‰å¾…çš„æ—¶é—´ï¼ˆsï¼‰     * @return false|int|mixed|string     */</span>    <span class="token keyword">protected</span> <span class="token keyword">function</span> <span class="token function">calculateRemainingAttempts</span><span class="token punctuation">(</span><span class="token keyword type-hint">string</span> <span class="token variable">$key</span><span class="token punctuation">,</span> <span class="token keyword type-hint">int</span> <span class="token variable">$maxAttempts</span><span class="token punctuation">,</span> <span class="token operator">?</span><span class="token keyword type-hint">int</span> <span class="token variable">$retryAfter</span> <span class="token operator">=</span> <span class="token constant">null</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">is_null</span><span class="token punctuation">(</span><span class="token variable">$retryAfter</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment">// è·å–ä¸€ä¸ªä¸å­˜åœ¨çš„é”®æ—¶ï¼Œä¼šç›´æ¥è¿”å› false</span>            <span class="token variable">$counterNumber</span> <span class="token operator">=</span> <span class="token function">redis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token variable">$key</span><span class="token punctuation">)</span> <span class="token operator">?</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token variable">$maxAttempts</span> <span class="token operator">-</span> <span class="token variable">$counterNumber</span><span class="token punctuation">;</span>  <span class="token comment">// å‰©ä½™è®¿é—®æ¬¡æ•°</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hyperf </tag>
            
            <tag> PHP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hyperf æ¡†æ¶å¸¸ç”¨çš„åŠ©æ‰‹å‡½æ•°</title>
      <link href="posts/79e7b1a4.html"/>
      <url>posts/79e7b1a4.html</url>
      
        <content type="html"><![CDATA[<p>ä»¥ä¸‹åˆ—å‡ºéƒ¨åˆ† hyperf å¸¸ç”¨çš„åŠ©æ‰‹å‡½æ•°</p><blockquote><p>å…¶ä¸­è¦æ˜¯æƒ³è·å–å½“å‰è¯·æ±‚çš„è·¯ç”±æ‰€å¯¹åº”çš„æ§åˆ¶å™¨å’Œæ–¹æ³•ï¼Œè¯·ç›´æ¥è°ƒç”¨ <code>get_current_action()</code> æ–¹æ³•</p></blockquote><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token keyword">declare</span><span class="token punctuation">(</span>strict_types<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">/** * è‡ªå®šä¹‰åŠ©æ‰‹å‡½æ•° */</span><span class="token keyword">use</span> <span class="token package">Hyperf<span class="token punctuation">\</span>Utils<span class="token punctuation">\</span>ApplicationContext</span><span class="token punctuation">;</span><span class="token keyword">use</span> <span class="token package">Hyperf<span class="token punctuation">\</span>Redis<span class="token punctuation">\</span>Redis</span><span class="token punctuation">;</span><span class="token keyword">use</span> <span class="token package">Hyperf<span class="token punctuation">\</span>Contract<span class="token punctuation">\</span>StdoutLoggerInterface</span><span class="token punctuation">;</span><span class="token keyword">use</span> <span class="token package">Hyperf<span class="token punctuation">\</span>Logger<span class="token punctuation">\</span>LoggerFactory</span><span class="token punctuation">;</span><span class="token keyword">use</span> <span class="token package">Hyperf<span class="token punctuation">\</span>HttpServer<span class="token punctuation">\</span>Contract<span class="token punctuation">\</span>RequestInterface</span><span class="token punctuation">;</span><span class="token keyword">use</span> <span class="token package">Hyperf<span class="token punctuation">\</span>HttpServer<span class="token punctuation">\</span>Contract<span class="token punctuation">\</span>ResponseInterface</span><span class="token punctuation">;</span><span class="token keyword">use</span> <span class="token package">Hyperf<span class="token punctuation">\</span>HttpServer<span class="token punctuation">\</span>Router<span class="token punctuation">\</span>Dispatched</span><span class="token punctuation">;</span><span class="token keyword">use</span> <span class="token package">Hyperf<span class="token punctuation">\</span>Server<span class="token punctuation">\</span>ServerFactory</span><span class="token punctuation">;</span><span class="token keyword">use</span> <span class="token package">Swoole<span class="token punctuation">\</span>Websocket<span class="token punctuation">\</span>Frame</span><span class="token punctuation">;</span><span class="token keyword">use</span> <span class="token package">Swoole<span class="token punctuation">\</span>WebSocket<span class="token punctuation">\</span>Server</span> <span class="token keyword">as</span> WebSocketServer<span class="token punctuation">;</span><span class="token keyword">use</span> <span class="token package">Psr<span class="token punctuation">\</span>SimpleCache<span class="token punctuation">\</span>CacheInterface</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> <span class="token function">function_exists</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'container'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">/**     * è·å–å®¹å™¨å¯¹è±¡     *     * @return \Psr\Container\ContainerInterface     */</span>    <span class="token keyword">function</span> <span class="token function">container</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token class-name static-context">ApplicationContext</span><span class="token operator">::</span><span class="token function">getContainer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> <span class="token function">function_exists</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'redis'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">/**     *  è·å– Redis åç¨‹å®¢æˆ·ç«¯     *     * @return Redis|mixed     */</span>    <span class="token keyword">function</span> <span class="token function">redis</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token function">container</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name static-context">Redis</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> <span class="token function">function_exists</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'std_out_log'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">/**     * æ§åˆ¶å°æ—¥å¿—     *     * @return StdoutLoggerInterface|mixed     */</span>    <span class="token keyword">function</span> <span class="token function">std_out_log</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token function">container</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name static-context">StdoutLoggerInterface</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> <span class="token function">function_exists</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'logger'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">/**     * æ–‡ä»¶æ—¥å¿—     *     * @return \Psr\Log\LoggerInterface     */</span>    <span class="token keyword">function</span> <span class="token function">logger</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token function">container</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name static-context">LoggerFactory</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> <span class="token function">function_exists</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'request'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">/**     * request å®ä¾‹     *     * @return RequestInterface|mixed     */</span>    <span class="token keyword">function</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token function">container</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name static-context">RequestInterface</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> <span class="token function">function_exists</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'response'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">/**     * response å®ä¾‹     *     * @return ResponseInterface|mixed     */</span>    <span class="token keyword">function</span> <span class="token function">response</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token function">container</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name static-context">ResponseInterface</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> <span class="token function">function_exists</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'server'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">/**     * åŸºäº swoole server çš„ server å®ä¾‹     *     * @return \Swoole\Coroutine\Server|\Swoole\Server     */</span>    <span class="token keyword">function</span> <span class="token function">server</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token function">container</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name static-context">ServerFactory</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">getServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">getServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> <span class="token function">function_exists</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'frame'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">/**     * websocket frame å®ä¾‹     *     * @return mixed|Frame     */</span>    <span class="token keyword">function</span> <span class="token function">frame</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token function">container</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name static-context">Frame</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> <span class="token function">function_exists</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'websocket'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">/**     * websocket å®ä¾‹     *     * @return mixed|WebSocketServer     */</span>    <span class="token keyword">function</span> <span class="token function">websocket</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token function">container</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name static-context">WebSocketServer</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> <span class="token function">function_exists</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'cache'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">/**     * ç®€å•çš„ç¼“å­˜å®ä¾‹     *     * @return mixed|CacheInterface     */</span>    <span class="token keyword">function</span> <span class="token function">cache</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token function">container</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name static-context">CacheInterface</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> <span class="token function">function_exists</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'get_current_action'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">/**     * è·å–å½“å‰è¯·æ±‚çš„æ§åˆ¶å™¨å’Œæ–¹æ³•     *     * @return array     */</span>    <span class="token keyword">function</span> <span class="token function">get_current_action</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword return-type">array</span>    <span class="token punctuation">{</span>        <span class="token variable">$obj</span> <span class="token operator">=</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token class-name static-context">Dispatched</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">property_exists</span><span class="token punctuation">(</span><span class="token variable">$obj</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'handler'</span><span class="token punctuation">)</span>            <span class="token operator">&amp;&amp;</span> <span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$obj</span><span class="token operator">-&gt;</span><span class="token property">handler</span><span class="token punctuation">)</span>            <span class="token operator">&amp;&amp;</span> <span class="token function">property_exists</span><span class="token punctuation">(</span><span class="token variable">$obj</span><span class="token operator">-&gt;</span><span class="token property">handler</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'callback'</span><span class="token punctuation">)</span>        <span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token variable">$action</span> <span class="token operator">=</span> <span class="token variable">$obj</span><span class="token operator">-&gt;</span><span class="token property">handler</span><span class="token operator">-&gt;</span><span class="token property">callback</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name class-name-fully-qualified"><span class="token punctuation">\</span>Exception</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'The route is undifined! Please check!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token variable">$errMsg</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'The controller and method are not found! Please check!'</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">is_array</span><span class="token punctuation">(</span><span class="token variable">$action</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">list</span><span class="token punctuation">(</span><span class="token variable">$controller</span><span class="token punctuation">,</span> <span class="token variable">$method</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token variable">$action</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">elseif</span> <span class="token punctuation">(</span><span class="token function">is_string</span><span class="token punctuation">(</span><span class="token variable">$action</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">strstr</span><span class="token punctuation">(</span><span class="token variable">$action</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'::'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">list</span><span class="token punctuation">(</span><span class="token variable">$controller</span><span class="token punctuation">,</span> <span class="token variable">$method</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">explode</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'::'</span><span class="token punctuation">,</span> <span class="token variable">$action</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">elseif</span> <span class="token punctuation">(</span><span class="token function">strstr</span><span class="token punctuation">(</span><span class="token variable">$action</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'@'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">list</span><span class="token punctuation">(</span><span class="token variable">$controller</span><span class="token punctuation">,</span> <span class="token variable">$method</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">explode</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'@'</span><span class="token punctuation">,</span> <span class="token variable">$action</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                <span class="token keyword">list</span><span class="token punctuation">(</span><span class="token variable">$controller</span><span class="token punctuation">,</span> <span class="token variable">$method</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token constant boolean">false</span><span class="token punctuation">,</span> <span class="token constant boolean">false</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token function">logger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token variable">$errMsg</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token function">std_out_log</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token variable">$errMsg</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            <span class="token keyword">list</span><span class="token punctuation">(</span><span class="token variable">$controller</span><span class="token punctuation">,</span> <span class="token variable">$method</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token constant boolean">false</span><span class="token punctuation">,</span> <span class="token constant boolean">false</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token function">logger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token variable">$errMsg</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">std_out_log</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token variable">$errMsg</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token function">compact</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'controller'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'method'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hyperf </tag>
            
            <tag> PHP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨äºšé©¬é€Šäº‘ AWS é…ç½®æœåŠ¡å™¨å¹¶ä½¿ç”¨ xshell è¿œç¨‹è¿æ¥</title>
      <link href="posts/34efcb18.html"/>
      <url>posts/34efcb18.html</url>
      
        <content type="html"><![CDATA[<h1 id="ä½¿ç”¨äºšé©¬é€Šäº‘-AWS-é…ç½®æœåŠ¡å™¨å¹¶ä½¿ç”¨-xshell-è¿œç¨‹è¿æ¥"><a href="#ä½¿ç”¨äºšé©¬é€Šäº‘-AWS-é…ç½®æœåŠ¡å™¨å¹¶ä½¿ç”¨-xshell-è¿œç¨‹è¿æ¥" class="headerlink" title="ä½¿ç”¨äºšé©¬é€Šäº‘ AWS é…ç½®æœåŠ¡å™¨å¹¶ä½¿ç”¨ xshell è¿œç¨‹è¿æ¥"></a>ä½¿ç”¨äºšé©¬é€Šäº‘ AWS é…ç½®æœåŠ¡å™¨å¹¶ä½¿ç”¨ xshell è¿œç¨‹è¿æ¥</h1><h2 id="å¦‚æœä¹‹å‰ä½¿ç”¨äºšé©¬é€Šäº‘é…ç½®æœåŠ¡å™¨æ²¡æœ‰é…ç½®æˆåŠŸï¼Œé‚£ä¹ˆè¯·æŒ‰ç…§ä¸‹é¢çš„æ–¹å¼åˆ é™¤æ‰å®ä¾‹"><a href="#å¦‚æœä¹‹å‰ä½¿ç”¨äºšé©¬é€Šäº‘é…ç½®æœåŠ¡å™¨æ²¡æœ‰é…ç½®æˆåŠŸï¼Œé‚£ä¹ˆè¯·æŒ‰ç…§ä¸‹é¢çš„æ–¹å¼åˆ é™¤æ‰å®ä¾‹" class="headerlink" title="å¦‚æœä¹‹å‰ä½¿ç”¨äºšé©¬é€Šäº‘é…ç½®æœåŠ¡å™¨æ²¡æœ‰é…ç½®æˆåŠŸï¼Œé‚£ä¹ˆè¯·æŒ‰ç…§ä¸‹é¢çš„æ–¹å¼åˆ é™¤æ‰å®ä¾‹"></a>å¦‚æœä¹‹å‰ä½¿ç”¨äºšé©¬é€Šäº‘é…ç½®æœåŠ¡å™¨æ²¡æœ‰é…ç½®æˆåŠŸï¼Œé‚£ä¹ˆè¯·æŒ‰ç…§ä¸‹é¢çš„æ–¹å¼åˆ é™¤æ‰å®ä¾‹</h2><ul><li><a href="https://us-east-2.console.aws.amazon.com/ec2/home?region=us-east-2#Instances:">æ‰“å¼€å½“å‰å®ä¾‹åˆ—è¡¨</a></li></ul><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-bd64bb68e37736b9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ä½ è‡ªå·±çš„å®ä¾‹åˆ—è¡¨"></p><ul><li>ç»ˆæ­¢ä½ æƒ³è¦åˆ é™¤çš„å®ä¾‹ï¼ˆæˆ‘çœ‹æ–‡æ¡£è¯´çš„æ˜¯ï¼Œç»ˆæ­¢å®ä¾‹å…¶å®å°±è¡¨ç¤ºåˆ é™¤äº†å®ä¾‹ï¼Œç»ˆæ­¢å®ä¾‹ä¼šåˆ é™¤æ‰æœåŠ¡å™¨ä¸­çš„æ–‡ä»¶ï¼Œä½†æ˜¯åœæ­¢å®ä¾‹ä¸ä¼šï¼‰</li></ul><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-fa7c851c14f1977f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ç»ˆæ­¢å®ä¾‹"></p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-688dde3c0f03d746.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ç»ˆæ­¢å®ä¾‹ä¼šåˆ é™¤æ‰æœåŠ¡å™¨ä¸­çš„æ‰€æœ‰æ–‡ä»¶"></p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-6d0c8540ccaaf4e7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ç»ˆæ­¢åçš„çŠ¶æ€"></p><ul><li>å¦‚æœæƒ³å½»åº•åˆ é™¤æ‰å®ä¾‹ï¼Œè¿˜éœ€è¦åˆ é™¤æ‰ ã€Œå·ã€ï¼ˆä¸æ‰‹åŠ¨åˆ é™¤çš„è¯ï¼Œäºšé©¬é€Šäº‘ä¹Ÿä¼šè¿‡ä¸€æ®µæ—¶é—´è‡ªåŠ¨åˆ é™¤ï¼‰</li></ul><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-16fbeb3feda581a5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="é€‰æ‹©å·ç»„"></p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-8273f1d73ddf2641.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="å®ä¾‹åˆ—è¡¨ä¹Ÿä¼šè¿‡ä¸€æ®µæ—¶é—´è‡ªåŠ¨åˆ é™¤"></p><h2 id="æ¥ä¸‹æ¥å¼€å§‹é…ç½®æ–°çš„æœåŠ¡å™¨"><a href="#æ¥ä¸‹æ¥å¼€å§‹é…ç½®æ–°çš„æœåŠ¡å™¨" class="headerlink" title="æ¥ä¸‹æ¥å¼€å§‹é…ç½®æ–°çš„æœåŠ¡å™¨"></a>æ¥ä¸‹æ¥å¼€å§‹é…ç½®æ–°çš„æœåŠ¡å™¨</h2><ul><li><p>åˆ›å»ºä¸€ä¸ªæ–°çš„å®ä¾‹<br><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-94887efe4899baba.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ç›´æ¥åœ¨å®ä¾‹æ§åˆ¶å°ä¸Šé¢å¯åŠ¨ä¸€ä¸ªæ–°çš„å®ä¾‹"></p></li><li><p>é…ç½®æœåŠ¡å™¨<br><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-a0a7f77087175125.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æŒ‰ç…§è¿™äº›æ­¥éª¤ä¸€æ­¥ä¸€æ­¥çš„æ¥ï¼Œé€‰æ‹©ä½ è‡ªå·±çš„è‡ªå®šä¹‰é…ç½®å°±å¯ä»¥äº†"></p></li><li><p>é€‰æ‹©ç¡¬ç›˜ç©ºé—´å¤§å°ï¼ˆæŒ‰éœ€é€‰æ‹©å°±å¥½ï¼Œå¦‚æœè¶…è¿‡äº†å¥—é¤å¤–çš„ç¡¬ç›˜ç©ºé—´ä¼šæ”¶è´¹ï¼Œå»ºè®®è¿˜æ˜¯å…ˆæ£€æŸ¥è‡ªå·±çš„å¥—é¤æœ€å¤§ç¡¬ç›˜ç©ºé—´ï¼‰</p></li></ul><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-15d94915c460e4bf.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="è®¾ç½®ç¡¬ç›˜ç©ºé—´å¤§å°"></p><ul><li>æœ€æœ€æœ€é‡è¦çš„æ­¥éª¤å°±æ˜¯ï¼Œä¸€å®šè¦é€‰æ‹©å¯†é’¥å¯¹æˆ–è€…ç›´æ¥åœ¨è¿™é‡Œç”Ÿæˆå¯†é’¥å¯¹ï¼Œå¹¶ä¸”ä¸€å®šè¦ä¸‹è½½å¯†é’¥å¯¹ï¼Œå› ä¸ºå¯†é’¥å¯¹åªå…è®¸ä¸‹è½½ä¸€æ¬¡ï¼Œé”™è¿‡äº†ï¼Œç­‰äºä½ è¿™ä¸ªå®ä¾‹å°±æ— æ³•ç™»å½•äº†ã€‚äºšé©¬é€Šäº‘é»˜è®¤å…³é—­äº†è´¦å·å¯†ç è¿æ¥ ssh æœåŠ¡ï¼Œåˆæ¬¡è¿æ¥åªå…è®¸å¯†é’¥å¯¹ã€‚</li></ul><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-e95c5b055cfa982b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="é€‰æ‹©å·²ç”Ÿæˆçš„å¯†é’¥å¯¹æˆ–è€…ç›´æ¥åœ¨è¿™é‡Œç”Ÿæˆ"></p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-b0479e4003995376.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æˆ‘æ²¡æœ‰æå‰ç”Ÿæˆå¯†é’¥å¯¹ï¼Œå› æ­¤æˆ‘åœ¨è¿™é‡Œç›´æ¥ç”Ÿæˆä¸€ä¸ªå¯†é’¥å¯¹"></p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-7a22bfdf90b62c72.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ä¸‹è½½å¯†é’¥å¯¹"></p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-b4845a5e820c5f57.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ‰“å¼€å®ä¾‹"></p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-bc31ca359b59438a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="å·²ç»å®‰è£…å¥½äº†æœåŠ¡å™¨"></p><h2 id="æ¥ä¸‹æ¥è®²è§£ä½¿ç”¨-xshell-è¿æ¥äºšé©¬é€Šäº‘æœåŠ¡å™¨"><a href="#æ¥ä¸‹æ¥è®²è§£ä½¿ç”¨-xshell-è¿æ¥äºšé©¬é€Šäº‘æœåŠ¡å™¨" class="headerlink" title="æ¥ä¸‹æ¥è®²è§£ä½¿ç”¨ xshell è¿æ¥äºšé©¬é€Šäº‘æœåŠ¡å™¨"></a>æ¥ä¸‹æ¥è®²è§£ä½¿ç”¨ xshell è¿æ¥äºšé©¬é€Šäº‘æœåŠ¡å™¨</h2><blockquote><p>å»ºè®®è¿˜æ˜¯å…ˆçœ‹ä¸€ä¸‹æ–‡æ¡£ï¼š<a href="https://docs.aws.amazon.com/zh_cn/AWSEC2/latest/UserGuide/managing-users.html">https://docs.aws.amazon.com/zh_cn/AWSEC2/latest/UserGuide/managing-users.html</a></p></blockquote><ul><li>æ ¹æ®ä½ é€‰æ‹©çš„ç³»ç»Ÿå¯»æ‰¾åˆ°äºšé©¬é€Šäº‘é»˜è®¤ç»™ä½ åˆ›å»ºçš„è´¦æˆ·å</li></ul><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-1bfd9833871ee335.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æˆ‘é€‰æ‹©çš„æ˜¯ redhat ç³»ç»Ÿï¼Œå› æ­¤ç”¨æˆ·åæ˜¯ ec2-user æˆ– root"></p><ul><li>æ‰“å¼€ xshell ï¼Œé…ç½®ç”¨æˆ·èº«ä»½éªŒè¯</li></ul><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-a62480d370da6f50.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="é…ç½®ç”¨æˆ·èº«ä»½éªŒè¯"></p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-7823047ee33c0a5b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="å¯¼å…¥å¯†é’¥å¯¹"></p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-d8f8286d1d98330a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="é€‰ä¸­å¯†é’¥å¯¹"></p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-78459d37d9fa3827.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ•ˆæœå¦‚ä¸‹"></p><ul><li>é…ç½®è¿æ¥</li></ul><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-46b2bcf9a3277ade.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="å¤åˆ¶å…±æœ‰ DNS"></p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-3125ba8d0bec81fb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="é…ç½®è¿æ¥"></p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-6eee19e6b21804b6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="è¿æ¥æˆåŠŸ"></p><h2 id="äºšé©¬é€Šäº‘é»˜è®¤å…³é—­äº†-root-è¿æ¥-sshï¼Œæ¥ä¸‹æ¥è®²è§£å¦‚ä½•ä½¿ç”¨-root-ç”¨æˆ·ç™»å½•-ssh"><a href="#äºšé©¬é€Šäº‘é»˜è®¤å…³é—­äº†-root-è¿æ¥-sshï¼Œæ¥ä¸‹æ¥è®²è§£å¦‚ä½•ä½¿ç”¨-root-ç”¨æˆ·ç™»å½•-ssh" class="headerlink" title="äºšé©¬é€Šäº‘é»˜è®¤å…³é—­äº† root è¿æ¥ sshï¼Œæ¥ä¸‹æ¥è®²è§£å¦‚ä½•ä½¿ç”¨ root ç”¨æˆ·ç™»å½• ssh"></a>äºšé©¬é€Šäº‘é»˜è®¤å…³é—­äº† root è¿æ¥ sshï¼Œæ¥ä¸‹æ¥è®²è§£å¦‚ä½•ä½¿ç”¨ root ç”¨æˆ·ç™»å½• ssh</h2><ol><li>æ›´æ”¹ root ç”¨æˆ·å¯†ç </li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">passwd</span> root<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="2"><li>åˆ‡æ¢åˆ° root ç”¨æˆ·</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">su</span> - æˆ–è€…<span class="token function">su</span> root<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-31aaa46c330d2e75.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ä¿®æ”¹ root ç”¨æˆ·å¯†ç "></p><ol start="3"><li>ä¿®æ”¹ sshd_config é…ç½®æ–‡ä»¶</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">vim</span> /etc/ssh/sshd_config<span class="token comment"># å¦‚æœæç¤ºæ²¡æœ‰ vim ç¼–è¾‘å™¨ï¼Œåˆ™å¯ä»¥ç›´æ¥ä½¿ç”¨ vi ç¼–è¾‘å™¨</span><span class="token function">vi</span> /etc/ssh/sshd_config<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-2e587674dfadf7b9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ç¼–è¾‘ sshd æœåŠ¡ä¸»é…ç½®æ–‡ä»¶"></p><ol start="4"><li>å¼€å¯å¯†ç éªŒè¯</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">PasswordAuthentication <span class="token function">yes</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-0cd7175dbad6da90.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æŸ¥çœ‹æ˜¯å¦å…è®¸å¯†ç éªŒè¯"></p><ol start="5"><li>è®¾å®šæ˜¯å¦å…è®¸rootç®¡ç†å‘˜ç›´æ¥ç™»å½•</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">PermitRootLogin <span class="token function">yes</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-76801d3921d2d1b3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æŸ¥çœ‹æ˜¯å¦å…è®¸ root ç®¡ç†å‘˜ç›´æ¥ç™»å½•"></p><ol start="6"><li>é‡å¯ sshd æœåŠ¡</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># é‡å¯ sshd æœåŠ¡</span>systemctl restart sshd<span class="token comment"># å°† sshd æœåŠ¡åŠ å…¥åˆ°å¼€æœºå¯åŠ¨é¡¹ä¸­</span>systemctl <span class="token builtin class-name">enable</span> sshd<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="7"><li>æµ‹è¯•è¿æ¥</li></ol><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-096bb85b62b21053.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ä½¿ç”¨å…¬ç½‘ ip å’Œ root ç”¨æˆ·è¿æ¥ ssh"></p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-8bdb83fbbe69a83e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ä½¿ç”¨ root è´¦å·å¯†ç è¿æ¥ ssh"></p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-d29f7e82e877c3e5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="è‡³æ­¤ï¼Œä½¿ç”¨ root ç”¨æˆ·è¿æ¥æˆåŠŸ"></p>]]></content>
      
      
      <categories>
          
          <category> æœåŠ¡å™¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> æœåŠ¡å™¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨ python3 å†™çš„æ–‡æ¡£æ ¼å¼è½¬æ¢å°å·¥å…·</title>
      <link href="posts/6cc526bb.html"/>
      <url>posts/6cc526bb.html</url>
      
        <content type="html"><![CDATA[<h1 id="document-converter-ï¼ˆæ–‡æ¡£æ ¼å¼äº’è½¬å·¥å…·ï¼‰"><a href="#document-converter-ï¼ˆæ–‡æ¡£æ ¼å¼äº’è½¬å·¥å…·ï¼‰" class="headerlink" title="document-converter ï¼ˆæ–‡æ¡£æ ¼å¼äº’è½¬å·¥å…·ï¼‰"></a>document-converter ï¼ˆæ–‡æ¡£æ ¼å¼äº’è½¬å·¥å…·ï¼‰</h1><h2 id="é¡¹ç›®å‘èµ·åˆè¡·"><a href="#é¡¹ç›®å‘èµ·åˆè¡·" class="headerlink" title="é¡¹ç›®å‘èµ·åˆè¡·"></a>é¡¹ç›®å‘èµ·åˆè¡·</h2><p>è¿‘æœŸæœ‰æœ‹å‹è¦æˆ‘å¸®å¿™å°† pdf æ ¼å¼æ–‡æ¡£æ•°æ®æå–æˆ docx æ ¼å¼ï¼Œå¹³æ—¶æˆ‘è‡ªå·±è¦ä¹ˆå°±é€šè¿‡ç¼–è¾‘å™¨è½¬æ¢äº†ï¼Œè¦ä¹ˆå°±é€šè¿‡å‘½ä»¤è¡Œè½¬æ¢ï¼Œä½†è¿™ç§æ–¹å¼å¯¹äºä¸€äº›æœ‹å‹æ¥è¯´ä¸æ˜¯å¾ˆå‹å¥½ï¼Œæ•…æ­¤æœ‰æ­¤é¡¹ç›®ã€‚</p><p>ç›®å‰åªæ”¯æŒ docx å’Œ pdf äº’è½¬ï¼Œåç»­æœ‰æ—¶é—´äº†ï¼Œä¼šè€ƒè™‘æ”¯æŒå¤šç§å¸¸ç”¨æ–‡æ¡£æ ¼å¼äº’è½¬ï¼Œå¦‚æœä½ å¯¹è¿™æ„Ÿå…´è¶£ï¼Œæ¬¢è¿æ PR ï¼</p><h2 id="é¡¹ç›®ç‰¹æ€§"><a href="#é¡¹ç›®ç‰¹æ€§" class="headerlink" title="é¡¹ç›®ç‰¹æ€§"></a>é¡¹ç›®ç‰¹æ€§</h2><ul><li>ä½¿ç”¨ python3 ç¼–å†™çš„ docxã€pdf äº’è½¬å·¥å…·ã€‚</li><li>æ”¯æŒå¤šçº¿ç¨‹ã€‚</li><li>æ”¯æŒè·¨å¹³å°ï¼ˆmacOSã€Windowsã€Linuxï¼‰ã€‚</li><li>æ‰¹é‡ docx æ–‡æ¡£è½¬ pdf æ ¼å¼ï¼ˆæ•ˆæœè‰¯å¥½ï¼‰ã€‚</li><li>æ‰¹é‡ pdf æ–‡æ¡£è½¬ docx æ ¼å¼ï¼ˆå°è¯•è¿‡å¤šä¸ªæ‰©å±•åº“ï¼Œé—æ†¾çš„æ˜¯å‡ä¸æ”¯æŒå›¾ç‰‡æå–ï¼‰ã€‚</li><li>åç»­æœ‰æ—¶é—´äº†ï¼Œä¼šè€ƒè™‘æ”¯æŒå¤šç§å¸¸ç”¨çš„æ–‡æ¡£æ ¼å¼äº’è½¬ã€‚</li></ul><h2 id="æ•ˆæœå›¾"><a href="#æ•ˆæœå›¾" class="headerlink" title="æ•ˆæœå›¾"></a>æ•ˆæœå›¾</h2><p>å‘½ä»¤è¡Œæç¤º</p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-155e22f797a6ee6f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ–‡æ¡£ç®€ä»‹"></p><p>æ‰¹é‡ docx è½¬ pdf</p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-3df6914674c7e060.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="docxè½¬pdf"></p><p>æ‰¹é‡ pdf è½¬ docx</p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-800ff9980abdb59a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="pdfè½¬docx"></p><h2 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h2><ol><li>å…‹éš†æºä»£ç </li></ol><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"># GitHubgit clone https://github.com/pudongping/document-converter.git# giteegit clone https://gitee.com/pudongping/document-converter.git<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li>è¿›å…¥é¡¹ç›®æ ¹ç›®å½•ï¼Œå¹¶å®‰è£…ç›¸å…³ä¾èµ–æ‰©å±•</li></ol><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">cd document-converter &amp;&amp; sudo pip install -r requirements.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="3"><li>ä½¿ç”¨æ–‡æ¡£æ ¼å¼è½¬æ¢</li></ol><p>ä¸¾ä¸ªä¾‹å­æ¥è¯´ï¼Œå¦‚æœæ­¤æ—¶æˆ‘æƒ³å°† <code>n</code> ä¸ª <code>.docx</code> æ ¼å¼çš„æ–‡æ¡£è½¬æ¢æˆ <code>.pdf</code> æ ¼å¼çš„æ–‡æ¡£ï¼Œé‚£ä¹ˆæˆ‘éœ€è¦è¿™ä¹ˆæ“ä½œï¼š</p><ul><li>å°†è¿™ <code>n</code> ä¸ª <code>.docx</code> æ–‡æ¡£å¤åˆ¶åˆ°æ­¤é¡¹ç›®çš„ <code>data/input/docxs</code> ç›®å½•ï¼ˆå¦‚æœæƒ³è½¬ <code>.pdf</code> æ ¼å¼çš„æ–‡æ¡£ï¼Œåˆ™éœ€è¦å°†æ–‡æ¡£å¤åˆ¶åˆ° <code>data/input/pdfs</code> ç›®å½•ï¼‰</li><li>åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ <code>python3 main.py --docx-to-pdf</code> å‘½ä»¤ï¼Œä¸”ç­‰å¾…å‘½ä»¤æ‰§è¡Œç»“æŸï¼ˆä½ å¯ä»¥å»æ³¡æ¯å’–å•¡ï¼Œä¹‹åé™é™ç­‰å¾…ï¼Œä¸€èˆ¬æ¥è¯´ä¼šå¾ˆå¿«ï¼Œå› ä¸ºæ”¯æŒå¤šçº¿ç¨‹ï¼‰</li><li>ä¹‹ååœ¨ <code>data/output/pdfs</code> ç›®å½•æŸ¥çœ‹å·²ç»è½¬æ¢å¥½çš„æ–‡æ¡£ã€‚è‡³æ­¤ï¼Œå®Œæ¯•ï¼</li></ul><ol start="4"><li>å‘½ä»¤ä»‹ç»</li></ol><table><thead><tr><th>å‘½ä»¤</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>python3 main.py â€“version</td><td>æ˜¾ç¤ºå½“å‰åº”ç”¨çš„ç‰ˆæœ¬å·</td></tr><tr><td>python3 main.py â€“help æˆ–è€… python3 main.py -h</td><td>æ˜¾ç¤ºå¸®åŠ©æ–‡æ¡£</td></tr><tr><td>python3 main.py â€“docx-to-pdf</td><td>æ‰§è¡Œ docx æ–‡æ¡£è½¬æˆ pdf æ ¼å¼çš„æ–‡æ¡£</td></tr><tr><td>python3 main.py â€“pdf-to-docx</td><td>æ‰§è¡Œ pdf æ–‡æ¡£è½¬æˆ docx æ ¼å¼çš„æ–‡æ¡£</td></tr></tbody></table><h2 id="é¡¹ç›®ç›®å½•ä»‹ç»"><a href="#é¡¹ç›®ç›®å½•ä»‹ç»" class="headerlink" title="é¡¹ç›®ç›®å½•ä»‹ç»"></a>é¡¹ç›®ç›®å½•ä»‹ç»</h2><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">â”œâ”€â”€ LICENSEâ”œâ”€â”€ Pipfileâ”œâ”€â”€ README.md  é¡¹ç›®ä»‹ç»æ–‡æ¡£â”œâ”€â”€ app  ä»£ç ç›®å½•â”‚&nbsp;&nbsp; â”œâ”€â”€ __init__.pyâ”‚&nbsp;&nbsp; â”œâ”€â”€ config  é…ç½®æ–‡ä»¶ç›®å½•â”‚&nbsp;&nbsp; â”‚&nbsp;&nbsp; â”œâ”€â”€ __init__.pyâ”‚&nbsp;&nbsp; â”‚&nbsp;&nbsp; â””â”€â”€ app.py  é…ç½®ç›¸å…³â”‚&nbsp;&nbsp; â”œâ”€â”€ converter  è½¬æ¢ç›¸å…³ä»£ç ç›®å½•â”‚&nbsp;&nbsp; â”‚&nbsp;&nbsp; â”œâ”€â”€ __init__.pyâ”‚&nbsp;&nbsp; â”‚&nbsp;&nbsp; â”œâ”€â”€ converter_docx.py  *æ–‡æ¡£è½¬ docx æ ¼å¼ç›¸å…³ä»£ç â”‚&nbsp;&nbsp; â”‚&nbsp;&nbsp; â””â”€â”€ converter_pdf.py   *æ–‡æ¡£è½¬ pdf æ ¼å¼ç›¸å…³ä»£ç â”‚&nbsp;&nbsp; â””â”€â”€ helper.py  åŠ©æ‰‹å‡½æ•°â”œâ”€â”€ data  æ•°æ®ç›¸å…³â”‚&nbsp;&nbsp; â”œâ”€â”€ input  éœ€è¦è½¬æ¢çš„æ–‡æ¡£ç›®å½•â”‚&nbsp;&nbsp; â”‚&nbsp;&nbsp; â”œâ”€â”€ docxs  å¦‚æœéœ€è¦å°† docx æ–‡æ¡£è½¬æ¢æˆå…¶ä»–æ ¼å¼ï¼Œåˆ™é»˜è®¤éœ€è¦å°†æ–‡æ¡£æ”¾å…¥æ­¤ç›®å½•ä¸‹â”‚&nbsp;&nbsp; â”‚&nbsp;&nbsp; â”‚&nbsp;&nbsp; â”œâ”€â”€ æ–‡æ¡£1.docxâ”‚&nbsp;&nbsp; â”‚&nbsp;&nbsp; â”‚&nbsp;&nbsp; â””â”€â”€ æ–‡æ¡£2.docxâ”‚&nbsp;&nbsp; â”‚&nbsp;&nbsp; â””â”€â”€ pdfs  å¦‚æœéœ€è¦å°† pdf æ–‡æ¡£è½¬æ¢æˆå…¶ä»–æ ¼å¼ï¼Œåˆ™é»˜è®¤éœ€è¦å°†æ–‡æ¡£æ”¾å…¥æ­¤ç›®å½•ä¸‹â”‚&nbsp;&nbsp; â”‚&nbsp;&nbsp;     â”œâ”€â”€ alex1.pdfâ”‚&nbsp;&nbsp; â”‚&nbsp;&nbsp;     â””â”€â”€ sample.pdfâ”‚&nbsp;&nbsp; â””â”€â”€ output  æ–‡æ¡£è½¬æ¢åå­˜æ”¾çš„æ–‡æ¡£ç›®å½•â”‚&nbsp;&nbsp;     â”œâ”€â”€ docxs  æ‰€æœ‰ç»è¿‡è½¬æ¢åçš„ docx æ–‡æ¡£é»˜è®¤ä¼šæ”¾åˆ°æ­¤ç›®å½•ä¸‹â”‚&nbsp;&nbsp;     â”‚&nbsp;&nbsp; â”œâ”€â”€ alex1.pdf.docxâ”‚&nbsp;&nbsp;     â”‚&nbsp;&nbsp; â””â”€â”€ sample.pdf.docxâ”‚&nbsp;&nbsp;     â””â”€â”€ pdfs  æ‰€æœ‰ç»è¿‡è½¬æ¢åçš„ pdf æ–‡æ¡£é»˜è®¤ä¼šæ”¾åˆ°æ­¤ç›®å½•ä¸‹â”‚&nbsp;&nbsp;         â”œâ”€â”€ æ–‡æ¡£1.docx.pdfâ”‚&nbsp;&nbsp;         â””â”€â”€ æ–‡æ¡£2.docx.pdfâ”œâ”€â”€ main.py  é¡¹ç›®å…¥å£æ–‡ä»¶â”œâ”€â”€ requirements.txt  é¡¹ç›®ä¾èµ–å…³ç³»æ¸…å•â””â”€â”€ runtime  é¡¹ç›®è¿è¡Œç›¸å…³    â””â”€â”€ logs  æ—¥å¿—ç›®å½•        â””â”€â”€ 202104            â””â”€â”€ converter-2021-04-24.log  ä»¥å¤©ä¸ºå•ä½è®°å½•çš„æ“ä½œæ—¥å¿—<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="License"><a href="#License" class="headerlink" title="License"></a>License</h2><p>æºä»£ç åŸºäº <a href="https://opensource.org/licenses/MIT">MIT</a> åè®®å‘å¸ƒã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ubiquitous-nodejs</title>
      <link href="posts/6b5490ac.html"/>
      <url>posts/6b5490ac.html</url>
      
        <content type="html"><![CDATA[<p align="center">    </p><h1 align="center"><a href="https://pudodngping.com">ubiquitous-nodejs</a></h1>    <p align="center">âš¡ ubiquity-nodejs æ˜¯ä¸€ä¸ªåŸºäº node.js çš„ web è„šæ‰‹æ¶ã€‚ğŸ˜˜ æ”¯æŒæ¨¡ç‰ˆæ¸²æŸ“ã€Restful APIã€ORM ç­‰ç‰¹æ€§ï¼Œéµå¾ª MVC æ¶æ„ã€‚</p><p></p><h2 id="å¦‚ä½•éƒ¨ç½²é¡¹ç›®ï¼Ÿ"><a href="#å¦‚ä½•éƒ¨ç½²é¡¹ç›®ï¼Ÿ" class="headerlink" title="å¦‚ä½•éƒ¨ç½²é¡¹ç›®ï¼Ÿ"></a>å¦‚ä½•éƒ¨ç½²é¡¹ç›®ï¼Ÿ</h2><p>ä»“åº“åœ°å€ï¼š</p><ul><li><a href="https://github.com/pudongping/ubiquitous-nodejs.git">GitHub</a></li><li><a href="https://gitee.com/pudongping/ubiquitous-nodejs.git">Gitee</a></li></ul><p>æœ¬åœ°éƒ¨ç½²</p><ol><li>ç›´æ¥ä½¿ç”¨ git æ‹‰å–é¡¹ç›®æºç ï¼Œå¹¶è¿›å…¥é¡¹ç›®æ ¹ç›®å½•</li></ol><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">git</span> clone https://gitee.com/pudongping/ubiquitous-nodejs.git ubiquitous <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> ./ubiquitous<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="2"><li>å®‰è£…é¡¹ç›®ä¾èµ–åŒ…</li></ol><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">npm</span> <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="3"><li>å¡«å†™é…ç½®ä¿¡æ¯</li></ol><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token comment"># å¤åˆ¶å¼€å‘ç¯å¢ƒé…ç½®æ–‡ä»¶</span><span class="token function">cp</span> ./config/development.js.example ./config/development.js<span class="token comment"># å¤åˆ¶ç”Ÿäº§ç¯å¢ƒé…ç½®æ–‡ä»¶</span><span class="token function">cp</span> ./config/production.js.example ./config/production.js<span class="token comment"># å¤åˆ¶æµ‹è¯•ç¯å¢ƒé…ç½®æ–‡ä»¶</span><span class="token function">cp</span> ./config/test.js.example ./config/test.js<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="4"><li>å¯¼å…¥åˆå§‹æ•°æ®è¡¨<blockquote><p>è¿™é‡Œåªæ˜¯ä¸ºäº†æ¼”ç¤º restful api çš„ CRUD åŠŸèƒ½ï¼Œæ•…æ­¤åˆ›å»ºäº†ä¸€ä¸ªåˆå§‹æ•°æ®åº“ã€‚</p></blockquote></li></ol><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token comment"># è¿æ¥æ•°æ®åº“</span>mysql -h <span class="token operator">&lt;</span>your-mysql-host<span class="token operator">&gt;</span> -u <span class="token operator">&lt;</span>your-mysql-account<span class="token operator">&gt;</span> -p <span class="token operator">&lt;</span>your-mysql-password<span class="token operator">&gt;</span><span class="token punctuation">;</span><span class="token comment"># å¯¼å…¥åˆå§‹æ•°æ®è¡¨</span><span class="token builtin class-name">source</span> ./database/ubiquitous.sql<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="5"><li>å¯åŠ¨é¡¹ç›®<blockquote><p>ä»¥ä¸‹æ–¹å¼æ‰§è¡Œä»»æ„ä¸€æ¡å‘½ä»¤å³å¯</p></blockquote></li></ol><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token comment"># ç›´æ¥ä½¿ç”¨ node æ‰§è¡Œé¡¹ç›®å…¥å£æ–‡ä»¶çš„æ–¹å¼</span>node --use_strict app.js<span class="token comment"># ä½¿ç”¨ npm æ‰§è¡Œ</span><span class="token comment"># è¿è¡Œå¼€å‘ç¯å¢ƒ</span><span class="token function">npm</span> start<span class="token comment"># æˆ–è€…</span><span class="token function">npm</span> run dev<span class="token comment"># è¿è¡Œç”Ÿäº§ç¯å¢ƒ</span><span class="token function">npm</span> run prod<span class="token comment"># è¿è¡Œæµ‹è¯•ç¯å¢ƒ</span><span class="token function">npm</span> run <span class="token builtin class-name">test</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="6"><li>æ­å»ºå®Œæ¯•ï¼enjoy it! âœŒï¸<blockquote><p>å¯ä»¥æ‰“å¼€æµè§ˆå™¨è®¿é—® <code>localhost:9500</code> æˆ–è€… <code>127.0.0.1:9500</code> è¿›è¡Œè®¿é—®ï¼Œå³å¯çœ‹åˆ°é¦–é¡µæ¬¢è¿è¯­ã€‚</p></blockquote></li></ol><h2 id="å…³äºé¡¹ç›®ç›®å½•"><a href="#å…³äºé¡¹ç›®ç›®å½•" class="headerlink" title="å…³äºé¡¹ç›®ç›®å½•"></a>å…³äºé¡¹ç›®ç›®å½•</h2><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">â”œâ”€â”€ LICENSE  Licenseâ”œâ”€â”€ README.md  é¡¹ç›®è¯´æ˜æ–‡æ¡£â”œâ”€â”€ app.js  é¡¹ç›®å…¥å£æ–‡ä»¶â”œâ”€â”€ bootstrap  é¡¹ç›®å¯åŠ¨ç›®å½•â”‚   â”œâ”€â”€ boot.js  å¯åŠ¨æ–‡ä»¶â”‚   â”œâ”€â”€ db.js  æ•°æ®åº“å°è£…â”‚   â”œâ”€â”€ rest.js  restful api æ–¹æ³•å°è£…â”‚   â”œâ”€â”€ static-files.js  é™æ€æ–‡ä»¶å¤„ç†æ–¹æ³•å°è£…â”‚   â””â”€â”€ templating.js  æ¨¡ç‰ˆå¤„ç†æ–¹æ³•å°è£…â”œâ”€â”€ config  é…ç½®æ–‡ä»¶ç›®å½•â”‚   â”œâ”€â”€ development.js  å¼€å‘ç¯å¢ƒé…ç½®æ–‡ä»¶â”‚   â”œâ”€â”€ development.js.example  å¼€å‘ç¯å¢ƒé…ç½®æ–‡ä»¶æ¨¡ç‰ˆâ”‚   â”œâ”€â”€ production.js.example  ç”Ÿäº§ç¯å¢ƒé…ç½®æ–‡ä»¶æ¨¡ç‰ˆâ”‚   â””â”€â”€ test.js.example  æµ‹è¯•ç¯å¢ƒé…ç½®æ–‡ä»¶æ¨¡æ¿â”œâ”€â”€ constants  å¸¸é‡æ–‡ä»¶â”‚   â””â”€â”€ ErrorCode.js  api é”™è¯¯ç å¸¸é‡â”œâ”€â”€ controllers  æ§åˆ¶å™¨ç›®å½•â”‚   â”œâ”€â”€ auth  auth æ¨¡å—ç›®å½•â”‚   â”‚   â””â”€â”€ user_controller.js  ç”¨æˆ·æ§åˆ¶å™¨ï¼ˆè¿™é‡Œä½œä¸ºæ¼”ç¤º restful api å†™çš„ demoï¼‰â”‚   â””â”€â”€ home_controller.js  é¦–é¡µæ§åˆ¶å™¨ ï¼ˆè¿™é‡Œä½œä¸ºæ¼”ç¤ºæ¨¡ç‰ˆè°ƒç”¨å†™çš„ demoï¼‰â”œâ”€â”€ database  æ•°æ®æ–‡ä»¶ç›®å½•â”‚   â””â”€â”€ ubiquitous.sql  åˆå§‹åŒ–æ•°æ®åº“æ–‡ä»¶â”œâ”€â”€ lib  å·¥å…·ç›®å½•â”‚   â”œâ”€â”€ api_error.js  è‡ªå®šä¹‰é”™è¯¯å¼‚å¸¸ç±»â”‚   â””â”€â”€ helper.js  åŠ©æ‰‹å‡½æ•°â”œâ”€â”€ loader.js  é¡¹ç›®åŠ è½½æ–‡ä»¶ï¼ˆè¿™é‡Œå®šä¹‰é¡¹ç›®å…¨å±€å˜é‡ï¼‰â”œâ”€â”€ models  æ¨¡å‹ç›®å½•â”‚   â”œâ”€â”€ WebSite.js  ç«™ç‚¹æ¨¡å‹æ–‡ä»¶â”‚   â”œâ”€â”€ auth  auth æ¨¡å—æ¨¡å‹ç›®å½•â”‚   â”‚   â””â”€â”€ User.js  ç”¨æˆ·æ¨¡å‹æ–‡ä»¶â”‚   â””â”€â”€ model.js  è‡ªåŠ¨åŒ–æ‰«æåŠ è½½æ‰€æœ‰çš„æ¨¡å‹â”œâ”€â”€ package-lock.json  æ’ä»¶åŒ…æè¿°é”æ–‡ä»¶â”œâ”€â”€ package.json  æ’ä»¶åŒ…æè¿°æ–‡ä»¶â”œâ”€â”€ routes  è·¯ç”±ç›®å½•â”‚   â”œâ”€â”€ api.js  restful api è·¯ç”±ç›®å½•â”‚   â””â”€â”€ web.js  web è·¯ç”±ç›®å½•â”œâ”€â”€ services  æœåŠ¡å±‚ç›®å½•â”‚   â””â”€â”€ auth  auth æ¨¡å—æœåŠ¡å±‚ç›®å½•â”‚       â””â”€â”€ user_service.js  ç”¨æˆ·æœåŠ¡å±‚æ–‡ä»¶â”œâ”€â”€ static  é™æ€æ–‡ä»¶ç›®å½•â”‚   â”œâ”€â”€ css  æ ·å¼æ–‡ä»¶ç›®å½•â”‚   â”‚   â”œâ”€â”€ googleapis-fonts.cssâ”‚   â”‚   â””â”€â”€ iview.cssâ”‚   â”œâ”€â”€ fonts  å­—ä½“æ–‡ä»¶ç›®å½•â”‚   â””â”€â”€ js  js æ–‡ä»¶ç›®å½•â”‚       â”œâ”€â”€ iview.min.jsâ”‚       â””â”€â”€ vue.min.jsâ””â”€â”€ views  è§†å›¾å±‚æ–‡ä»¶ç›®å½•    â”œâ”€â”€ base.html  è§†å›¾åŸºç¡€æ–‡ä»¶    â”œâ”€â”€ home  home æ¨¡å—è§†å›¾æ–‡ä»¶ç›®å½•    â”‚   â””â”€â”€ hello.html    â””â”€â”€ home.html  é¦–é¡µè§†å›¾æ–‡ä»¶<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="é¡¹ç›®æ‰€ä½¿ç”¨ä¾èµ–åŒ…"><a href="#é¡¹ç›®æ‰€ä½¿ç”¨ä¾èµ–åŒ…" class="headerlink" title="é¡¹ç›®æ‰€ä½¿ç”¨ä¾èµ–åŒ…"></a>é¡¹ç›®æ‰€ä½¿ç”¨ä¾èµ–åŒ…</h2><table><thead><tr><th>æ’ä»¶åŒ…</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><a href="https://koa.bootcss.com/">koa</a></td><td>ä½¿ç”¨ Koa2 ä½œä¸º web æ¡†æ¶</td></tr><tr><td><a href="https://github.com/koajs/router">koa-router</a></td><td>å¤„ç† url</td></tr><tr><td><a href="https://github.com/koajs/bodyparser">koa-bodyparser</a></td><td>è§£æåŸå§‹ request çš„ body</td></tr><tr><td><a href="https://mozilla.github.io/nunjucks/cn/templating.html">nunjucks</a></td><td>æ¨¡ç‰ˆå¼•æ“</td></tr><tr><td><a href="https://github.com/kentcdodds/cross-env#readme">cross-env</a></td><td>ç¯å¢ƒè„šæœ¬çš„è·¨å¹³å°è®¾ç½®</td></tr><tr><td><a href="https://github.com/normalize/mz#readme">mz</a></td><td>æ”¯æŒ Promise çš„ fs æ¨¡å—</td></tr><tr><td><a href="https://github.com/broofa/mime#readme">mime</a></td><td>è¯»å–æ–‡ä»¶çš„ mime</td></tr><tr><td><a href="https://github.com/sidorares/node-mysql2#readme">mysql2</a></td><td>Node.js çš„ mysql é©±åŠ¨ç¨‹åº</td></tr><tr><td><a href="https://www.sequelize.com.cn/">sequelize</a></td><td>Node.js çš„ ORM æ¡†æ¶</td></tr><tr><td><a href="http://momentjs.cn/">moment</a></td><td>æ—¥æœŸå¤„ç†</td></tr></tbody></table><h2 id="ä½¿ç”¨æ¼”ç¤º"><a href="#ä½¿ç”¨æ¼”ç¤º" class="headerlink" title="ä½¿ç”¨æ¼”ç¤º"></a>ä½¿ç”¨æ¼”ç¤º</h2><ul><li>å¦‚æœéœ€è¦ä½¿ç”¨æ¨¡ç‰ˆå¼•æ“çš„æ–¹å¼ï¼Œè¯·æŸ¥çœ‹ <code>controllers/home_controller.js</code> æ–‡ä»¶ã€‚</li><li>å¦‚æœéœ€è¦ä½¿ç”¨ api çš„æ–¹å¼ï¼Œè¯·æŸ¥çœ‹ <code>controllers/auth/user_controller.js</code> æ–‡ä»¶ã€‚</li></ul><h2 id="æ„Ÿè°¢æ”¯æŒ"><a href="#æ„Ÿè°¢æ”¯æŒ" class="headerlink" title="æ„Ÿè°¢æ”¯æŒ"></a>æ„Ÿè°¢æ”¯æŒ</h2><p>å¦‚æœä½ è§‰å¾—æœ¬é¡¹ç›®å¯¹ä½ æœ‰æ‰€å¸®åŠ©,è¯·å¸®å¿™ç»™ä¸ª <code>Star</code>ã€‚<br>å¦‚æœä½ æƒ³è´¡çŒ®ä¸€ä»½åŠ›é‡,æ¬¢è¿æäº¤ <code>Pull Request</code>ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å¼€æº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GitHub </tag>
            
            <tag> Node.js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>weather composer æ’ä»¶</title>
      <link href="posts/d2a0cef0.html"/>
      <url>posts/d2a0cef0.html</url>
      
        <content type="html"><![CDATA[<h1 align="center">Weather</h1><p align="center"><span class="github-emoji"><span>ğŸŒˆ</span><img src="/medias/loading.gif" data-original="https://github.githubassets.com/images/icons/emoji/unicode/1f308.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> åŸºäºé«˜å¾·å¼€æ”¾å¹³å°çš„ PHP å¤©æ°”ä¿¡æ¯ç»„ä»¶ã€‚</p><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">$ composer require pudongping/weather -vvv<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><p>åœ¨ä½¿ç”¨æœ¬æ‰©å±•ä¹‹å‰ï¼Œä½ éœ€è¦å» <a href="https://lbs.amap.com/dev/id/newuser">é«˜å¾·å¼€æ”¾å¹³å°</a> æ³¨å†Œè´¦å·ï¼Œç„¶ååˆ›å»ºåº”ç”¨ï¼Œè·å–åº”ç”¨çš„ API Keyã€‚</p><h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token keyword">use</span> <span class="token package">Pudongping<span class="token punctuation">\</span>Weather<span class="token punctuation">\</span>Weather</span><span class="token punctuation">;</span><span class="token variable">$key</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span><span class="token punctuation">;</span><span class="token variable">$weather</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Weather</span><span class="token punctuation">(</span><span class="token variable">$key</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è·å–å®æ—¶å¤©æ°”"><a href="#è·å–å®æ—¶å¤©æ°”" class="headerlink" title="è·å–å®æ—¶å¤©æ°”"></a>è·å–å®æ—¶å¤©æ°”</h3><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token variable">$response</span> <span class="token operator">=</span> <span class="token variable">$weather</span><span class="token operator">-&gt;</span><span class="token function">getLiveWeather</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'ä¸Šæµ·'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿”å›å€¼ç¤ºä¾‹ï¼š</p><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">{</span>    <span class="token property">"status"</span><span class="token operator">:</span> <span class="token string">"1"</span><span class="token punctuation">,</span>    <span class="token property">"count"</span><span class="token operator">:</span> <span class="token string">"1"</span><span class="token punctuation">,</span>    <span class="token property">"info"</span><span class="token operator">:</span> <span class="token string">"OK"</span><span class="token punctuation">,</span>    <span class="token property">"infocode"</span><span class="token operator">:</span> <span class="token string">"10000"</span><span class="token punctuation">,</span>    <span class="token property">"lives"</span><span class="token operator">:</span> <span class="token punctuation">[</span>        <span class="token punctuation">{</span>            <span class="token property">"province"</span><span class="token operator">:</span> <span class="token string">"ä¸Šæµ·"</span><span class="token punctuation">,</span>            <span class="token property">"city"</span><span class="token operator">:</span> <span class="token string">"ä¸Šæµ·å¸‚"</span><span class="token punctuation">,</span>            <span class="token property">"adcode"</span><span class="token operator">:</span> <span class="token string">"310000"</span><span class="token punctuation">,</span>            <span class="token property">"weather"</span><span class="token operator">:</span> <span class="token string">"é˜´"</span><span class="token punctuation">,</span>            <span class="token property">"temperature"</span><span class="token operator">:</span> <span class="token string">"10"</span><span class="token punctuation">,</span>            <span class="token property">"winddirection"</span><span class="token operator">:</span> <span class="token string">"ä¸œ"</span><span class="token punctuation">,</span>            <span class="token property">"windpower"</span><span class="token operator">:</span> <span class="token string">"â‰¤3"</span><span class="token punctuation">,</span>            <span class="token property">"humidity"</span><span class="token operator">:</span> <span class="token string">"73"</span><span class="token punctuation">,</span>            <span class="token property">"reporttime"</span><span class="token operator">:</span> <span class="token string">"2021-03-17 09:31:44"</span>        <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è·å–è¿‘æœŸå¤©æ°”é¢„æŠ¥"><a href="#è·å–è¿‘æœŸå¤©æ°”é¢„æŠ¥" class="headerlink" title="è·å–è¿‘æœŸå¤©æ°”é¢„æŠ¥"></a>è·å–è¿‘æœŸå¤©æ°”é¢„æŠ¥</h3><pre class="line-numbers language-none"><code class="language-none">$response = $weather-&gt;getForecastsWeather('ä¸Šæµ·');<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿”å›å€¼ç¤ºä¾‹ï¼š</p><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">{</span>    <span class="token property">"status"</span><span class="token operator">:</span> <span class="token string">"1"</span><span class="token punctuation">,</span>    <span class="token property">"count"</span><span class="token operator">:</span> <span class="token string">"1"</span><span class="token punctuation">,</span>    <span class="token property">"info"</span><span class="token operator">:</span> <span class="token string">"OK"</span><span class="token punctuation">,</span>    <span class="token property">"infocode"</span><span class="token operator">:</span> <span class="token string">"10000"</span><span class="token punctuation">,</span>    <span class="token property">"forecasts"</span><span class="token operator">:</span> <span class="token punctuation">[</span>        <span class="token punctuation">{</span>            <span class="token property">"city"</span><span class="token operator">:</span> <span class="token string">"ä¸Šæµ·å¸‚"</span><span class="token punctuation">,</span>            <span class="token property">"adcode"</span><span class="token operator">:</span> <span class="token string">"310000"</span><span class="token punctuation">,</span>            <span class="token property">"province"</span><span class="token operator">:</span> <span class="token string">"ä¸Šæµ·"</span><span class="token punctuation">,</span>            <span class="token property">"reporttime"</span><span class="token operator">:</span> <span class="token string">"2021-03-17 10:03:15"</span><span class="token punctuation">,</span>            <span class="token property">"casts"</span><span class="token operator">:</span> <span class="token punctuation">[</span>                <span class="token punctuation">{</span>                    <span class="token property">"date"</span><span class="token operator">:</span> <span class="token string">"2021-03-17"</span><span class="token punctuation">,</span>                    <span class="token property">"week"</span><span class="token operator">:</span> <span class="token string">"3"</span><span class="token punctuation">,</span>                    <span class="token property">"dayweather"</span><span class="token operator">:</span> <span class="token string">"å°é›¨"</span><span class="token punctuation">,</span>                    <span class="token property">"nightweather"</span><span class="token operator">:</span> <span class="token string">"å°é›¨"</span><span class="token punctuation">,</span>                    <span class="token property">"daytemp"</span><span class="token operator">:</span> <span class="token string">"12"</span><span class="token punctuation">,</span>                    <span class="token property">"nighttemp"</span><span class="token operator">:</span> <span class="token string">"9"</span><span class="token punctuation">,</span>                    <span class="token property">"daywind"</span><span class="token operator">:</span> <span class="token string">"ä¸œåŒ—"</span><span class="token punctuation">,</span>                    <span class="token property">"nightwind"</span><span class="token operator">:</span> <span class="token string">"ä¸œåŒ—"</span><span class="token punctuation">,</span>                    <span class="token property">"daypower"</span><span class="token operator">:</span> <span class="token string">"4"</span><span class="token punctuation">,</span>                    <span class="token property">"nightpower"</span><span class="token operator">:</span> <span class="token string">"4"</span>                <span class="token punctuation">}</span><span class="token punctuation">,</span>                <span class="token punctuation">{</span>                    <span class="token property">"date"</span><span class="token operator">:</span> <span class="token string">"2021-03-18"</span><span class="token punctuation">,</span>                    <span class="token property">"week"</span><span class="token operator">:</span> <span class="token string">"4"</span><span class="token punctuation">,</span>                    <span class="token property">"dayweather"</span><span class="token operator">:</span> <span class="token string">"å°é›¨"</span><span class="token punctuation">,</span>                    <span class="token property">"nightweather"</span><span class="token operator">:</span> <span class="token string">"å°é›¨"</span><span class="token punctuation">,</span>                    <span class="token property">"daytemp"</span><span class="token operator">:</span> <span class="token string">"13"</span><span class="token punctuation">,</span>                    <span class="token property">"nighttemp"</span><span class="token operator">:</span> <span class="token string">"10"</span><span class="token punctuation">,</span>                    <span class="token property">"daywind"</span><span class="token operator">:</span> <span class="token string">"ä¸œ"</span><span class="token punctuation">,</span>                    <span class="token property">"nightwind"</span><span class="token operator">:</span> <span class="token string">"ä¸œ"</span><span class="token punctuation">,</span>                    <span class="token property">"daypower"</span><span class="token operator">:</span> <span class="token string">"4"</span><span class="token punctuation">,</span>                    <span class="token property">"nightpower"</span><span class="token operator">:</span> <span class="token string">"4"</span>                <span class="token punctuation">}</span><span class="token punctuation">,</span>                <span class="token punctuation">{</span>                    <span class="token property">"date"</span><span class="token operator">:</span> <span class="token string">"2021-03-19"</span><span class="token punctuation">,</span>                    <span class="token property">"week"</span><span class="token operator">:</span> <span class="token string">"5"</span><span class="token punctuation">,</span>                    <span class="token property">"dayweather"</span><span class="token operator">:</span> <span class="token string">"å°é›¨"</span><span class="token punctuation">,</span>                    <span class="token property">"nightweather"</span><span class="token operator">:</span> <span class="token string">"å°é›¨"</span><span class="token punctuation">,</span>                    <span class="token property">"daytemp"</span><span class="token operator">:</span> <span class="token string">"14"</span><span class="token punctuation">,</span>                    <span class="token property">"nighttemp"</span><span class="token operator">:</span> <span class="token string">"9"</span><span class="token punctuation">,</span>                    <span class="token property">"daywind"</span><span class="token operator">:</span> <span class="token string">"åŒ—"</span><span class="token punctuation">,</span>                    <span class="token property">"nightwind"</span><span class="token operator">:</span> <span class="token string">"åŒ—"</span><span class="token punctuation">,</span>                    <span class="token property">"daypower"</span><span class="token operator">:</span> <span class="token string">"4"</span><span class="token punctuation">,</span>                    <span class="token property">"nightpower"</span><span class="token operator">:</span> <span class="token string">"4"</span>                <span class="token punctuation">}</span><span class="token punctuation">,</span>                <span class="token punctuation">{</span>                    <span class="token property">"date"</span><span class="token operator">:</span> <span class="token string">"2021-03-20"</span><span class="token punctuation">,</span>                    <span class="token property">"week"</span><span class="token operator">:</span> <span class="token string">"6"</span><span class="token punctuation">,</span>                    <span class="token property">"dayweather"</span><span class="token operator">:</span> <span class="token string">"é˜´"</span><span class="token punctuation">,</span>                    <span class="token property">"nightweather"</span><span class="token operator">:</span> <span class="token string">"é˜´"</span><span class="token punctuation">,</span>                    <span class="token property">"daytemp"</span><span class="token operator">:</span> <span class="token string">"15"</span><span class="token punctuation">,</span>                    <span class="token property">"nighttemp"</span><span class="token operator">:</span> <span class="token string">"8"</span><span class="token punctuation">,</span>                    <span class="token property">"daywind"</span><span class="token operator">:</span> <span class="token string">"è¥¿åŒ—"</span><span class="token punctuation">,</span>                    <span class="token property">"nightwind"</span><span class="token operator">:</span> <span class="token string">"è¥¿åŒ—"</span><span class="token punctuation">,</span>                    <span class="token property">"daypower"</span><span class="token operator">:</span> <span class="token string">"4"</span><span class="token punctuation">,</span>                    <span class="token property">"nightpower"</span><span class="token operator">:</span> <span class="token string">"4"</span>                <span class="token punctuation">}</span>            <span class="token punctuation">]</span>        <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è·å–-XML-æ ¼å¼è¿”å›å€¼"><a href="#è·å–-XML-æ ¼å¼è¿”å›å€¼" class="headerlink" title="è·å– XML æ ¼å¼è¿”å›å€¼"></a>è·å– XML æ ¼å¼è¿”å›å€¼</h3><p>ä»¥ä¸Šä¸¤ä¸ªæ–¹æ³•ç¬¬äºŒä¸ªå‚æ•°ä¸ºè¿”å›å€¼ç±»å‹ï¼Œå¯é€‰ <code>json</code> ä¸ <code>xml</code>ï¼Œé»˜è®¤ <code>json</code>ï¼š</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token variable">$response</span> <span class="token operator">=</span> <span class="token variable">$weather</span><span class="token operator">-&gt;</span><span class="token function">getLiveWeather</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'ä¸Šæµ·'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'xml'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿”å›å€¼ç¤ºä¾‹ï¼š</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>response</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>status</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>status</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>count</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>count</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>info</span><span class="token punctuation">&gt;</span></span>OK<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>info</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>infocode</span><span class="token punctuation">&gt;</span></span>10000<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>infocode</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>lives</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>list<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>live</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>province</span><span class="token punctuation">&gt;</span></span>ä¸Šæµ·<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>province</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>city</span><span class="token punctuation">&gt;</span></span>ä¸Šæµ·å¸‚<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>city</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>adcode</span><span class="token punctuation">&gt;</span></span>310000<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>adcode</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>weather</span><span class="token punctuation">&gt;</span></span>å°é›¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>weather</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>temperature</span><span class="token punctuation">&gt;</span></span>10<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>temperature</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>winddirection</span><span class="token punctuation">&gt;</span></span>ä¸œåŒ—<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>winddirection</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>windpower</span><span class="token punctuation">&gt;</span></span>â‰¤3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>windpower</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>humidity</span><span class="token punctuation">&gt;</span></span>73<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>humidity</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>reporttime</span><span class="token punctuation">&gt;</span></span>2021-03-17 10:03:15<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>reporttime</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>live</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>lives</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>response</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å‚æ•°è¯´æ˜"><a href="#å‚æ•°è¯´æ˜" class="headerlink" title="å‚æ•°è¯´æ˜"></a>å‚æ•°è¯´æ˜</h3><pre class="line-numbers language-none"><code class="language-none">array | string   getLiveWeather(string $city, string $format = 'json')array | string   getForecastsWeather(string $city, string $format = 'json')<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><blockquote><ul><li><code>$city</code> - åŸå¸‚å/<a href="https://lbs.amap.com/api/webservice/guide/api/district">é«˜å¾·åœ°å€ä½ç½® adcode</a>ï¼Œæ¯”å¦‚ï¼šâ€œä¸Šæµ·â€ æˆ–è€…ï¼ˆadcodeï¼š310000ï¼‰ï¼›</li><li><code>$format</code>  - è¾“å‡ºçš„æ•°æ®æ ¼å¼ï¼Œé»˜è®¤ä¸º json æ ¼å¼ï¼Œå½“ format è®¾ç½®ä¸º â€œ<code>xml</code>â€ æ—¶ï¼Œè¾“å‡ºçš„ä¸º XML æ ¼å¼çš„æ•°æ®ã€‚</li></ul></blockquote><h3 id="åœ¨-Laravel-ä¸­ä½¿ç”¨"><a href="#åœ¨-Laravel-ä¸­ä½¿ç”¨" class="headerlink" title="åœ¨ Laravel ä¸­ä½¿ç”¨"></a>åœ¨ Laravel ä¸­ä½¿ç”¨</h3><blockquote><p>laravel version &gt;= 8.x æˆ–è€…ç›´æ¥ä½¿ç”¨ä»¥ä¸Šé€šç”¨æ–¹æ³•ï¼Œä»¥ä¸Šæ–¹æ³•é€‚ç”¨äºä»»æ„ php æ¡†æ¶</p></blockquote><p>æ‰§è¡Œ <code>artisan</code> å‘½ä»¤ï¼Œå‘å¸ƒé…ç½®æ–‡ä»¶</p><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">php artisan vendor:publish --provider="Pudongping\Weather\ServiceProvider"<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åœ¨ Laravel ä¸­ä½¿ç”¨ä¹Ÿæ˜¯åŒæ ·çš„å®‰è£…æ–¹å¼ï¼Œé…ç½®å†™åœ¨ <code>config/weather.php</code> ä¸­ï¼Œæˆ–è€…è‡ªå·±åœ¨ <code>config</code> ç›®å½•ä¸‹æ–°å»º <code>weather.php</code> æ–‡ä»¶ï¼Œå¡«å†™ä»¥ä¸‹å†…å®¹äº¦å¯ã€‚</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token keyword">return</span> <span class="token punctuation">[</span>    <span class="token string single-quoted-string">'key'</span> <span class="token operator">=&gt;</span> <span class="token function">env</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'WEATHER_API_KEY'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç„¶ååœ¨ <code>.env</code> ä¸­é…ç½® <code>WEATHER_API_KEY</code> ï¼š</p><pre class="line-numbers language-env" data-language="env"><code class="language-env">WEATHER_API_KEY=xxxxxxxxxxxxxxxxxxxxx<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¯ä»¥ç”¨ä¸¤ç§æ–¹å¼æ¥è·å– <code>Pudongping\Weather\Weather</code> å®ä¾‹ï¼š</p><h4 id="æ–¹æ³•å‚æ•°æ³¨å…¥"><a href="#æ–¹æ³•å‚æ•°æ³¨å…¥" class="headerlink" title="æ–¹æ³•å‚æ•°æ³¨å…¥"></a>æ–¹æ³•å‚æ•°æ³¨å…¥</h4><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">showWeather</span><span class="token punctuation">(</span><span class="token class-name type-declaration">Weather</span> <span class="token variable">$weather</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token variable">$response</span> <span class="token operator">=</span> <span class="token variable">$weather</span><span class="token operator">-&gt;</span><span class="token function">getLiveWeather</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'ä¸Šæµ·'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// æˆ–è€…ç›´æ¥ä½¿ç”¨åŸå¸‚çš„ adcode ä¼ å‚</span>    <span class="token comment">// $response = $weather-&gt;getLiveWeather('310000');</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="æœåŠ¡åè®¿é—®"><a href="#æœåŠ¡åè®¿é—®" class="headerlink" title="æœåŠ¡åè®¿é—®"></a>æœåŠ¡åè®¿é—®</h4><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">showWeather</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token variable">$response</span> <span class="token operator">=</span> <span class="token function">app</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'weather'</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">getLiveWeather</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'ä¸Šæµ·'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// æˆ–è€…ç›´æ¥ä½¿ç”¨åŸå¸‚çš„ adcode ä¼ å‚</span>    <span class="token comment">// $response = app('weather')-&gt;getLiveWeather('310000');</span>    <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://lbs.amap.com/api/webservice/guide/api/weatherinfo/">é«˜å¾·å¼€æ”¾å¹³å°å¤©æ°”æ¥å£</a></li></ul><h2 id="License"><a href="#License" class="headerlink" title="License"></a>License</h2><p>MIT</p>]]></content>
      
      
      <categories>
          
          <category> å¼€æº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GitHub </tag>
            
            <tag> PHP </tag>
            
            <tag> Laravel </tag>
            
            <tag> Composer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>larablog åšå®¢å¼€æº</title>
      <link href="posts/b6f184c0.html"/>
      <url>posts/b6f184c0.html</url>
      
        <content type="html"><![CDATA[<h1 id="åŸºäº-Laravel6-x-æ„å»ºçš„åšå®¢åº”ç”¨ï¼Œæ”¯æŒ-Markdownï¼Œæ”¯æŒå›¾ç‰‡æ‹–æ‹½ä¸Šä¼ ï¼ŒåŸºäº-RBAC-æƒé™ç®¡ç†ç³»ç»Ÿ"><a href="#åŸºäº-Laravel6-x-æ„å»ºçš„åšå®¢åº”ç”¨ï¼Œæ”¯æŒ-Markdownï¼Œæ”¯æŒå›¾ç‰‡æ‹–æ‹½ä¸Šä¼ ï¼ŒåŸºäº-RBAC-æƒé™ç®¡ç†ç³»ç»Ÿ" class="headerlink" title="åŸºäº Laravel6.x æ„å»ºçš„åšå®¢åº”ç”¨ï¼Œæ”¯æŒ Markdownï¼Œæ”¯æŒå›¾ç‰‡æ‹–æ‹½ä¸Šä¼ ï¼ŒåŸºäº RBAC æƒé™ç®¡ç†ç³»ç»Ÿ"></a>åŸºäº Laravel6.x æ„å»ºçš„åšå®¢åº”ç”¨ï¼Œæ”¯æŒ Markdownï¼Œæ”¯æŒå›¾ç‰‡æ‹–æ‹½ä¸Šä¼ ï¼ŒåŸºäº RBAC æƒé™ç®¡ç†ç³»ç»Ÿ</h1><p>é¦–é¡µ</p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-f32ef21d42b702c2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="é¦–é¡µ.png"></p><p>åŸºäº RBAC çš„æƒé™ç®¡ç†åå°ï¼ŒDashboard é¡µé¢ç»Ÿè®¡äº†ç”¨æˆ·æ€»æ•°ã€æ–‡ç« å‘å¸ƒæ€»æ•°ã€è¯„è®ºç‡ã€è¯„è®ºæ€»æ•°ã€æ–‡ç« æ”¯æŒæŒ‰å¤©ã€æŒ‰æœˆã€æŒ‰å¹´ç»Ÿè®¡ã€æ”¯æŒæŒ‰åˆ†ç±»ã€æŒ‰æ ‡ç­¾ç»Ÿè®¡â€¦â€¦</p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-74c132c165d20aae.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="åå°é¦–é¡µ.png"></p><p>ç™»å½•é¡µé¢</p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-93885ee50879719e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ç™»å½•é¡µé¢.png"></p><p>æ³¨å†Œé¡µé¢</p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-a883ff409344f8c1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ³¨å†Œé¡µé¢.png"></p><p>æ”¯æŒ GitHub æˆæƒç™»å½•</p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-f87b0926873bdfd0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="GitHubæˆæƒç™»å½•é¡µé¢.png"></p><p>æ”¯æŒé‚®ç®±é‡ç½®å¯†ç </p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-11fbe50ac341bf7e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="é‡ç½®å¯†ç é¡µé¢.png"></p><p>åŒæ—¶å…¼å®¹ HTML ç¼–è¾‘å™¨å’Œ Markdown ç¼–è¾‘å™¨</p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-537e03bdc254a951.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="å¯Œæ–‡æœ¬ç¼–è¾‘å™¨.png"></p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-c1c8018845d986ba.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="markdown ç¼–è¾‘å™¨.png"></p><p>Markdown ç¼–è¾‘å™¨ï¼šæ”¯æŒæ‹–æ‹½ç²˜è´´ä¸Šä¼ å›¾ç‰‡ã€é¢„è§ˆã€å…¨å±ã€åˆ†å±é¢„è§ˆ</p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-092682db5e3cec7a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="markdown ç¼–è¾‘å™¨é¢„è§ˆæ•ˆæœ.png"></p><p>æ”¯æŒä»£ç é«˜äº®</p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-5263abf6268ddf98.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ–‡ç« è¯¦æƒ….png"></p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-9db84df41d52c0a3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="åå°ç”¨æˆ·.png"></p><h2 id="é¡¹ç›®æ¦‚è¿°"><a href="#é¡¹ç›®æ¦‚è¿°" class="headerlink" title="é¡¹ç›®æ¦‚è¿°"></a>é¡¹ç›®æ¦‚è¿°</h2><ul><li>é¡¹ç›®åç§°ï¼šlarablog</li><li>é¡¹ç›®ç®€ä»‹ï¼šåŸºäº laravel6.x å¼€å‘çš„åšå®¢é¡¹ç›®</li><li>è®¿é—®åœ°å€ï¼š<a href="https://blog.pudongping.com/">https://blog.pudongping.com/</a></li></ul><h2 id="åŠŸèƒ½å¦‚ä¸‹"><a href="#åŠŸèƒ½å¦‚ä¸‹" class="headerlink" title="åŠŸèƒ½å¦‚ä¸‹"></a>åŠŸèƒ½å¦‚ä¸‹</h2><ul><li>ç”¨æˆ·è®¤è¯ â€”â€” æ³¨å†Œã€ç™»å½•ã€é€€å‡ºï¼›</li><li>ä¸ªäººä¸­å¿ƒ â€”â€” ç”¨æˆ·ä¸ªäººä¸­å¿ƒï¼Œç¼–è¾‘èµ„æ–™ï¼›</li><li>ç”¨æˆ·æˆæƒ â€”â€” ä½œè€…æ‰èƒ½åˆ é™¤è‡ªå·±çš„å†…å®¹ï¼›</li><li>ä¸Šä¼ å›¾ç‰‡ â€”â€” ä¿®æ”¹å¤´åƒå’Œç¼–è¾‘æ–‡ç« æ—¶ä¸Šä¼ å›¾ç‰‡ï¼›</li><li>è¡¨å•éªŒè¯ â€”â€” ä½¿ç”¨è¡¨å•éªŒè¯ç±»ï¼›</li><li>é‡ç½®å¯†ç  â€”â€” é€šè¿‡é‚®ç®±æ‰¾å›å¯†ç </li><li>æ–‡ç« æ”¯æŒåˆ†ç±»ã€å¤šæ ‡ç­¾ã€è®¿é—®é‡ç»Ÿè®¡ï¼›</li><li>ç¼–è¾‘æ–‡ç« æ”¯æŒ markdown ç¼–è¾‘å™¨ ã€html ç¼–è¾‘å™¨ï¼›</li><li>markdown ç¼–è¾‘å™¨æ”¯æŒæ‹–æ‹½ä¸Šä¼ å›¾ç‰‡ã€æˆªå±ç²˜è´´ä¸Šä¼ å›¾ç‰‡ã€è¯­æ³•é«˜äº®ã€é¢„è§ˆã€å…¨å±ã€åˆ†å±å®æ—¶é¢„è§ˆï¼›</li><li>æ–‡ç« å‘å¸ƒæ—¶è‡ªåŠ¨ Slug ç¿»è¯‘ï¼Œæ”¯æŒä½¿ç”¨é˜Ÿåˆ—æ–¹å¼ä»¥æé«˜å“åº”ï¼›</li><li>ç«™ç‚¹ã€æ´»è·ƒç”¨æˆ·ã€è®¡ç®—ï¼Œä¸€å°æ—¶è®¡ç®—ä¸€æ¬¡ï¼›</li><li>å¤šè§’è‰²æƒé™ç®¡ç† â€”â€” å…è®¸ç«™é•¿ï¼Œç®¡ç†å‘˜æƒé™çš„å­˜åœ¨ï¼›</li><li>åå°ç®¡ç† â€”â€” åŸºäº RBAC åå°æ•°æ®æ¨¡å‹ç®¡ç†ï¼›</li><li>é‚®ä»¶é€šçŸ¥ â€”â€” å‘é€æ–°å›å¤é‚®ä»¶é€šçŸ¥ï¼Œé˜Ÿåˆ—å‘é€é‚®ä»¶ï¼›</li><li>ç«™å†…é€šçŸ¥ â€”â€” æ–‡ç« æœ‰æ–°å›å¤ï¼›</li><li>è‡ªå®šä¹‰ Artisan å‘½ä»¤è¡Œ â€”â€” è‡ªå®šä¹‰æ´»è·ƒç”¨æˆ·è®¡ç®—å‘½ä»¤ï¼›</li><li>è‡ªå®šä¹‰ Trait â€”â€” æ´»è·ƒç”¨æˆ·çš„ä¸šåŠ¡é€»è¾‘å®ç°ï¼›</li><li>è‡ªå®šä¹‰ä¸­é—´ä»¶ â€”â€” è®°å½•ç”¨æˆ·çš„æœ€åç™»å½•æ—¶é—´ï¼›</li><li>XSS å®‰å…¨é˜²å¾¡ï¼›</li><li>ç¬¬ä¸‰æ–¹æˆæƒç™»å½•ï¼Œç›®å‰æ”¯æŒ GitHubï¼Œå…¼å®¹ Facebookï¼ŒTwitterï¼ŒLinkedInï¼ŒGoogleï¼ŒGitHubï¼ŒGitLab å’Œ Bitbucket çš„èº«ä»½éªŒè¯ï¼›</li><li>æ”¯æŒè‡ªå®šä¹‰ meta titleã€descriptionã€keywordsï¼›</li><li>æ”¯æŒå‹é“¾</li><li>ç«™ç‚¹åœ°å›¾</li><li>RSS è®¢é˜…</li></ul><h2 id="è¿è¡Œç¯å¢ƒè¦æ±‚"><a href="#è¿è¡Œç¯å¢ƒè¦æ±‚" class="headerlink" title="è¿è¡Œç¯å¢ƒè¦æ±‚"></a>è¿è¡Œç¯å¢ƒè¦æ±‚</h2><ul><li>Nginx 1.8+</li><li>PHP 7.0+</li><li>Mysql 5.7+</li><li>Redis 3.0+</li></ul><h2 id="å¼€å‘ç¯å¢ƒéƒ¨ç½²å’Œå®‰è£…"><a href="#å¼€å‘ç¯å¢ƒéƒ¨ç½²å’Œå®‰è£…" class="headerlink" title="å¼€å‘ç¯å¢ƒéƒ¨ç½²å’Œå®‰è£…"></a>å¼€å‘ç¯å¢ƒéƒ¨ç½²å’Œå®‰è£…</h2><p>æœ¬é¡¹ç›®ä»£ç ä½¿ç”¨ PHP æ¡†æ¶ laravel6.x å¼€å‘ï¼Œæœ¬åœ°å¼€å‘ç¯å¢ƒä½¿ç”¨ <a href="https://xueyuanjun.com/post/19915.html">Laravel Homestead</a>ã€‚</p><h2 id="åŸºç¡€å®‰è£…"><a href="#åŸºç¡€å®‰è£…" class="headerlink" title="åŸºç¡€å®‰è£…"></a>åŸºç¡€å®‰è£…</h2><ol><li>å…‹éš†æºä»£ç </li></ol><p>å…‹éš† <code>larablog</code> æºä»£ç åˆ°æœ¬åœ°ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">// gitee<span class="token function">git</span> clone git@gitee.com:pudongping/larablog.git// GitHub<span class="token function">git</span> clone git@github.com:pudongping/larablog.git<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li>å®‰è£…æ‰©å±•åŒ…ä¾èµ–</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">// å…ˆåˆ‡æ¢åˆ° larablog é¡¹ç›®æ ¹ç›®å½•<span class="token builtin class-name">cd</span> larablog// æ‰§è¡Œå®‰è£…å‘½ä»¤ï¼Œå¹¶å¿½ç•¥æ‰å¼€å‘ç¯å¢ƒæ‰éœ€è¦çš„æ’ä»¶åŒ…<span class="token function">composer</span> <span class="token function">install</span> --no-dev<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="3"><li>ç”Ÿæˆé…ç½®æ–‡ä»¶</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">cp</span> .env.example .env<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä½ å¯ä»¥æ ¹æ®æƒ…å†µä¿®æ”¹ .env æ–‡ä»¶é‡Œçš„å†…å®¹ï¼Œå¦‚æ•°æ®åº“è¿æ¥ã€ç¼“å­˜ã€é‚®ä»¶è®¾ç½®ã€ç¬¬ä¸‰æ–¹æˆæƒç™»å½•ç­‰ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable">DB_HOST</span><span class="token operator">=</span>localhost<span class="token assign-left variable">DB_DATABASE</span><span class="token operator">=</span>larablog<span class="token assign-left variable">DB_USERNAME</span><span class="token operator">=</span>homestead<span class="token assign-left variable">DB_PASSWORD</span><span class="token operator">=</span>secret<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="4"><li>ç”Ÿæˆæ•°æ®è¡¨åŠç”Ÿæˆæµ‹è¯•æ•°æ®</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">// éœ€è¦ç”Ÿæˆæµ‹è¯•æ•°æ®åˆ™æ‰§è¡Œï¼šphp artisan migrate --seed// ä¸éœ€è¦ç”Ÿæˆæµ‹è¯•æ•°æ®åˆ™æ‰§è¡Œï¼šphp artisan migrate<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="5"><li>ç”Ÿæˆç§˜é’¥</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">php artisan key:generate<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ol start="6"><li>åˆ›å»º storage è½¯è¿æ¥</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">php artisan storage:link<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ol start="7"><li>èµ‹äºˆ storage ç›¸åº”æƒé™</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">// å»ºè®®åœ¨ Linux ç³»ç»Ÿä¸­æ–°å»ºä¸€ä¸ª www ç”¨æˆ·ï¼Œå¹¶è®¾ç½®è¯¥ç”¨æˆ·ä¸å¯ç™»å½•ç³»ç»Ÿ<span class="token function">useradd</span> -s /sbin/nologin www// å°†é¡¹ç›®ç›®å½•æ‰€æœ‰æƒèµ‹äºˆ www ç”¨æˆ·<span class="token function">chown</span> -Rf www:www larablog// ç»™ storage ç›®å½•èµ‹æƒé™<span class="token function">chmod</span> -Rf 0755 larablog/storage/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="8"><li> é…ç½® hosts æ–‡ä»¶  ï¼ˆå¦‚æœç›´æ¥æƒ³éƒ¨ç½²åœ¨çº¿ä¸Šç¯å¢ƒï¼Œåˆ™è·³è¿‡æ­¤æ­¥éª¤ï¼‰</li></ol><p>å¦‚æœå¼€å‘ç¯å¢ƒæ²¡æœ‰é‡‡ç”¨ Laravel Homestead åˆ™ ip æ˜ å°„ä»¥ä½ å®é™…ä¸ºä¸»ï¼Œä¸€èˆ¬ä¸º 127.0.0.1ã€‚æˆ‘è¿™é‡Œä½¿ç”¨çš„ Laravel Homestead è™šæ‹Ÿæœºçš„ ip åœ°å€ä¸ºï¼š192.168.10.10</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">// Linux æˆ– MacOS ç¯å¢ƒ<span class="token builtin class-name">echo</span> <span class="token string">"192.168.10.10   larablog.test"</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> -a /etc/hosts// Windows ç¯å¢ƒéœ€è¦æ‰“å¼€ C:/Windows/System32/Drivers/etc/hosts  æ–‡ä»¶ï¼Œç„¶åæ–°å¢ä¸€è¡Œ<span class="token number">192.168</span>.10.10 larablog.test<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å‰ç«¯å®‰è£…"><a href="#å‰ç«¯å®‰è£…" class="headerlink" title="å‰ç«¯å®‰è£…"></a>å‰ç«¯å®‰è£…</h2><ol><li>å®‰è£… npm å’Œ yarn</li></ol><p><strong>CentOS / Fedora / RHEL ç¯å¢ƒä¸‹</strong></p><blockquote><p>æ–‡æ¡£åœ°å€ï¼š<a href="https://yarn.bootcss.com/docs/install/#centos-stable">https://yarn.bootcss.com/docs/install/#centos-stable</a></p></blockquote><ul><li>é…ç½®ç›¸åº”çš„ yum æº</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> --silent --location https://dl.yarnpkg.com/rpm/yarn.repo <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /etc/yum.repos.d/yarn.repo<span class="token function">curl</span> --silent --location https://rpm.nodesource.com/setup_8.x <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">bash</span> -<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li>ä¹‹åæ‰§è¡Œä»¥ä¸‹ä»»æ„ä¸€æ¡å‘½ä»¤ï¼Œå°±å¯ä»¥äº†</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> yum <span class="token function">install</span> <span class="token function">yarn</span><span class="token comment">## OR ##</span><span class="token function">sudo</span> dnf <span class="token function">install</span> <span class="token function">yarn</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><strong>Windows ç¯å¢ƒä¸‹</strong></p><ul><li>å®‰è£… node.js</li></ul><p>ç›´æ¥å»å®˜ç½‘ <a href="https://nodejs.org/en/">https://nodejs.org/en</a> ä¸‹è½½å®‰è£…æœ€æ–°ç‰ˆæœ¬ã€‚</p><ul><li>å®‰è£… Yarn</li></ul><p>è¯·å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„ Yarn â€”â€” <a href="https://nodejs.org/en/">http://yarnpkg.cn/zh-Hans/docs/install</a></p><ol start="2"><li>ä¸º NPM å’Œ Yarn é…ç½®æ·˜å®é•œåƒï¼ŒåŠ é€Ÿå®‰è£…åŒ…ä¸‹è½½</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> config <span class="token builtin class-name">set</span> <span class="token assign-left variable">registry</span><span class="token operator">=</span>https://registry.npm.taobao.org<span class="token function">yarn</span> config <span class="token builtin class-name">set</span> registry https://registry.npm.taobao.org<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ol start="3"><li>ä½¿ç”¨ Yarn å®‰è£…å‰ç«¯ä¾èµ–åŒ…</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">yarn</span> <span class="token function">install</span>æˆ–è€…<span class="token function">npm</span> <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>ç›‘æ§ resources æ–‡ä»¶å¤¹ä¸‹çš„èµ„æºæ–‡ä»¶æ˜¯å¦æœ‰å‘ç”Ÿæ”¹å˜ã€‚åœ¨ watch-poll å‘½ä»¤è¿è¡Œçš„æƒ…å†µä¸‹ï¼Œä¸€æ—¦èµ„æºæ–‡ä»¶å‘ç”Ÿå˜åŒ–ï¼ŒWebpack ä¼šè‡ªåŠ¨é‡æ–°ç¼–è¯‘ã€‚</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> run watch-poll// å¦‚æœé‡åˆ°æŠ¥é”™ï¼Œå°è¯•å…ˆæ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ›´æ–° <span class="token function">npm</span> åˆ°æœ€æ–°ç‰ˆæœ¬ï¼Œä¹‹åå†æ¬¡æ‰§è¡Œç›‘æ§å‘½ä»¤<span class="token function">npm</span> <span class="token function">install</span> -g <span class="token function">npm</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li>ç¼–è¯‘å‰ç«¯å†…å®¹</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">// è¿è¡Œæ‰€æœ‰ Mix ä»»åŠ¡<span class="token function">npm</span> run dev// è¿è¡Œæ‰€æœ‰ Mix ä»»åŠ¡å¹¶ç¼©å°è¾“å‡º<span class="token function">npm</span> run production// æˆ–è€…æ‰§è¡Œ<span class="token function">yarn</span> production<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="è®¿é—®å…¥å£"><a href="#è®¿é—®å…¥å£" class="headerlink" title="è®¿é—®å…¥å£"></a>è®¿é—®å…¥å£</h2><ul><li>é¦–é¡µåœ°å€ï¼š <a href="http://larablog.test/">http://larablog.test</a></li><li>åå°ç®¡ç†ï¼š<a href="http://larablog.test/admin">http://larablog.test/admin</a></li></ul><p>ç®¡ç†å‘˜è´¦å·å¯†ç å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">username: <span class="token number">1414818093</span>@qq.compassword: <span class="token number">123456</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>é»˜è®¤ç½‘ç«™ç¬¬ä¸€ä½ç”¨æˆ·ä¸ºç«™é•¿è§’è‰²ï¼Œç¬¬äºŒä½ç”¨æˆ·ä¸ºç®¡ç†å‘˜è§’è‰²ã€‚å¦‚æœå¡«å……äº†æµ‹è¯•æ•°æ®ï¼Œåˆ™é»˜è®¤æ‰€æœ‰ç”¨æˆ·çš„å¯†ç ä¸ºï¼š123456</p><p>==è‡³æ­¤ï¼Œå®‰è£…å®Œæˆ^_^ã€‚enjoy yourselfâ€¦â€¦==</p><h2 id="åç«¯æ‰©å±•åŒ…ä½¿ç”¨æƒ…å†µ"><a href="#åç«¯æ‰©å±•åŒ…ä½¿ç”¨æƒ…å†µ" class="headerlink" title="åç«¯æ‰©å±•åŒ…ä½¿ç”¨æƒ…å†µ"></a>åç«¯æ‰©å±•åŒ…ä½¿ç”¨æƒ…å†µ</h2><table><thead><tr><th>æ‰©å±•åŒ…</th><th>ç®€ä»‹æè¿°</th><th>æœ¬é¡¹ç›®åº”ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><a href="https://packagist.org/packages/laravel/ui">laravel/ui</a></td><td>laravel 6.x UI è„šæ‰‹æ¶</td><td>å‰ç«¯é¡µé¢æ¡†æ¶</td></tr><tr><td><a href="https://github.com/barryvdh/laravel-ide-helper">barryvdh/laravel-ide-helper</a></td><td>èƒ½è®©ä½ çš„ IDE (PHPStorm, Sublime) å®ç°è‡ªåŠ¨è¡¥å…¨ã€ä»£ç æ™ºèƒ½æç¤ºå’Œä»£ç è·Ÿè¸ªç­‰åŠŸèƒ½</td><td>ä»£ç è¡¥å…¨å’Œæ™ºèƒ½æç¤º</td></tr><tr><td><a href="https://github.com/barryvdh/laravel-debugbar">barryvdh/laravel-debugbar</a></td><td>é¡µé¢è°ƒè¯•å·¥å…·æ  (å¯¹ phpdebugbar çš„å°è£…)</td><td>å¼€å‘ç¯å¢ƒä¸­çš„ DEBUG</td></tr><tr><td><a href="https://github.com/overtrue/laravel-lang">overtrue/laravel-lang</a></td><td>æ”¯æŒ 52 ä¸ªå›½å®¶çš„è¯­è¨€åŒ…</td><td>ç¿»è¯‘ Laravel è‡ªå¸¦æ¨¡æ¿</td></tr><tr><td><a href="https://github.com/mewebstudio/captcha">mews/captcha</a></td><td>å›¾ç‰‡éªŒè¯ç </td><td>æ³¨å†Œé¡µé¢å›¾ç‰‡éªŒè¯ç </td></tr><tr><td><a href="https://github.com/Intervention/image">intervention/image</a></td><td>å›¾ç‰‡å¤„ç†åŠŸèƒ½åº“</td><td>ç”¨äºå›¾ç‰‡è£å‰ª</td></tr><tr><td><a href="https://github.com/summerblue-ext-forks/active">summerblue/laravel-active</a></td><td>æ–¹ä¾¿è®¾ç½® active ç±»</td><td>æ–‡ç« æ’åºæ·»åŠ  active ç±»</td></tr><tr><td><a href="https://github.com/mewebstudio/Purifier">mews/purifier</a></td><td>ç”¨æˆ·æäº¤çš„ Html ç™½åå•è¿‡æ»¤</td><td>æ–‡ç« å†…å®¹çš„ Html å®‰å…¨è¿‡æ»¤ï¼Œé˜²æ­¢ XSS æ”»å‡»</td></tr><tr><td><a href="https://github.com/guzzle/guzzle">guzzlehttp/guzzle</a></td><td>HTTP è¯·æ±‚å¥—ä»¶</td><td>è¯·æ±‚ç™¾åº¦ç¿»è¯‘ APIï¼Œç¿»è¯‘æ–‡ç« æ ‡é¢˜ï¼Œåš SEO ä¼˜åŒ–</td></tr><tr><td><a href="https://github.com/overtrue/pinyin">overtrue/pinyin</a></td><td>åŸºäº CC-CEDICT è¯å…¸çš„ä¸­æ–‡è½¬æ‹¼éŸ³å·¥å…·</td><td>ç¿»è¯‘æ–‡ç« æ ‡é¢˜çš„å¤‡ç”¨æ–¹æ¡ˆ</td></tr><tr><td><a href="https://github.com/nrk/predis">predis/predis</a></td><td>Redis å®˜æ–¹é¦–æ¨çš„ PHP å®¢æˆ·ç«¯å¼€å‘åŒ…</td><td>ç¼“å­˜é©±åŠ¨ Redis åŸºç¡€æ‰©å±•åŒ…</td></tr><tr><td><a href="https://learnku.com/docs/laravel/6.x/horizon/5190">laravel/horizon</a></td><td>é˜Ÿåˆ—ç›‘æ§</td><td>é˜Ÿåˆ—ç›‘æ§å‘½ä»¤ä¸é¡µé¢æ§åˆ¶å° /horizon</td></tr><tr><td><a href="https://github.com/spatie/laravel-permission">spatie/laravel-permission</a></td><td>è§’è‰²æƒé™ç®¡ç†</td><td>è§’è‰²å’Œæƒé™æ§åˆ¶</td></tr><tr><td><a href="https://github.com/viacreative/sudo-su">viacreative/sudo-su</a></td><td>ç”¨æˆ·åˆ‡æ¢</td><td>è°ƒè¯•ç¯å¢ƒä¸­å¿«é€Ÿåˆ‡æ¢ç™»å½•è´¦å·</td></tr><tr><td><a href="https://github.com/erusev/parsedown">erusev/parsedown</a></td><td>markdown è½¬æ¢ html å·¥å…·</td><td>æ–‡ç« æ¨¡å—è§£æ markdown è¯­æ³•</td></tr><tr><td><a href="https://github.com/thephpleague/html-to-markdown">thephpleague/html-to-markdown</a></td><td>html è½¬æ¢æˆ markdown å·¥å…·</td><td>æ–‡ç« ç¼–è¾‘é‡‡ç”¨ markdown ç¼–è¾‘å™¨æ—¶</td></tr><tr><td><a href="https://socialiteproviders.netlify.com/providers/git-hub.html">laravel/socialite</a></td><td>laravel å®˜æ–¹æ¨èç¤¾ä¼šåŒ–ç™»å½•</td><td>Github ç™»å½•</td></tr><tr><td><a href="https://packagist.org/packages/suin/php-rss-writer">suin/php-rss-writer</a></td><td>rss è®¢é˜…ç”Ÿæˆ</td><td>ç”Ÿæˆ rss è®¢é˜…ä»£ç </td></tr><tr><td><a href="https://github.com/hhxsv5/laravel-s/blob/master/README-CN.md">hhxsv5/laravel-s</a></td><td>LaravelS æ˜¯ Swoole å’Œ Laravel/Lumen ä¹‹é—´å¼€ç®±å³ç”¨çš„é€‚é…å™¨</td><td>ä¼˜åŒ–è®¿é—®é€Ÿåº¦</td></tr></tbody></table><h2 id="å‰ç«¯æ‰©å±•åŒ…ä½¿ç”¨æƒ…å†µ"><a href="#å‰ç«¯æ‰©å±•åŒ…ä½¿ç”¨æƒ…å†µ" class="headerlink" title="å‰ç«¯æ‰©å±•åŒ…ä½¿ç”¨æƒ…å†µ"></a>å‰ç«¯æ‰©å±•åŒ…ä½¿ç”¨æƒ…å†µ</h2><table><thead><tr><th>æ‰©å±•åŒ…</th><th>ç®€ä»‹æè¿°</th><th>æœ¬é¡¹ç›®åº”ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><a href="https://fontawesome.com/">yarn add @fortawesome/fontawesome-free</a></td><td>Font Awesome æä¾›äº†å¯ç¼©æ”¾çš„çŸ¢é‡å›¾æ ‡</td><td>å­—ä½“å›¾æ ‡åº“</td></tr><tr><td><a href="https://github.com/BlackrockDigital/startbootstrap-sb-admin-2">npm i startbootstrap-sb-admin-2</a></td><td>ç•Œé¢ç®€æ´ç¾è§‚çš„çš®è‚¤</td><td>cms åå°æ¨¡æ¿</td></tr><tr><td><a href="https://simplemde.com/">npm install simplemde</a></td><td>markdown ç¼–è¾‘å™¨</td><td>æ–‡ç« ç¼–è¾‘å™¨</td></tr><tr><td><a href="https://highlightjs.org/">npm install highlight.js</a></td><td>è¯­æ³•é«˜äº®å·¥å…·</td><td>markdown ç¼–è¾‘å™¨ä»£ç è¯­æ³•é«˜äº®</td></tr><tr><td><a href="https://github.com/Rovak/InlineAttachment">npm install inline-attachment</a></td><td>æ–‡æœ¬æ¡†æ‹–åŠ¨ä¸Šä¼ å›¾ç‰‡å·¥å…·</td><td>markdown æ–‡æœ¬æ¡†å›¾ç‰‡æ‹–åŠ¨ä¸Šä¼ </td></tr><tr><td><a href="http://loudev.com/">multiselect.js</a></td><td>å¤šé€‰ä¸‹æ‹‰æ¡†</td><td>æ–‡ç« å¤šé€‰æ ‡ç­¾</td></tr><tr><td><a href="https://www.chartjs.org/">chartjs</a></td><td>å›¾è¡¨æ’ä»¶</td><td>åå°ç®¡ç†ç•Œé¢å›¾è¡¨</td></tr></tbody></table><h2 id="é‚®ç®±è®¤è¯"><a href="#é‚®ç®±è®¤è¯" class="headerlink" title="é‚®ç®±è®¤è¯"></a>é‚®ç®±è®¤è¯</h2><ul><li>å¼€å‘ç¯å¢ƒæ—¶å°† <code>.ENV</code> æ–‡ä»¶è®¾ç½®ä¸ºå¦‚ä¸‹æ‰€ç¤ºï¼Œå°†é‚®ç®±è®¤è¯é‚®ä»¶å‘é€è‡³å½“å‰æ—¥å¿—ä¸­ï¼Œä»¥ä¾¿è°ƒè¯•  <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable">MAIL_DRIVER</span><span class="token operator">=</span>log<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li>ç”Ÿäº§ç¯å¢ƒæ—¶ï¼Œå»ºè®®å°† <code>.ENV</code> æ–‡ä»¶ä¸­ç›¸å…³é‚®ä»¶è®¾ç½®ä¸ºè‡ªå·±æ‰€éœ€é…ç½®ï¼Œä»¥ä¸‹ä¸ºé»˜è®¤é…ç½®  <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable">MAIL_DRIVER</span><span class="token operator">=</span>smtp<span class="token assign-left variable">MAIL_HOST</span><span class="token operator">=</span>smtp.mailtrap.io<span class="token assign-left variable">MAIL_PORT</span><span class="token operator">=</span><span class="token number">2525</span><span class="token assign-left variable">MAIL_USERNAME</span><span class="token operator">=</span>null<span class="token assign-left variable">MAIL_PASSWORD</span><span class="token operator">=</span>null<span class="token assign-left variable">MAIL_ENCRYPTION</span><span class="token operator">=</span>null<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h2 id="ç¿»è¯‘é˜Ÿåˆ—"><a href="#ç¿»è¯‘é˜Ÿåˆ—" class="headerlink" title="ç¿»è¯‘é˜Ÿåˆ—"></a>ç¿»è¯‘é˜Ÿåˆ—</h2><ul><li>ä¿®æ”¹ <code>.ENV</code> æ–‡ä»¶è®¾ç½®ä¸º</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å¦‚æœæ˜¯å¼€å‘ç¯å¢ƒçš„è¯ï¼Œå°±æŠŠé˜Ÿåˆ—é©±åŠ¨æ”¹å› sync åŒæ­¥æ¨¡å¼ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸ä½¿ç”¨ä»»ä½•é˜Ÿåˆ—ï¼Œå®æ—¶æ‰§è¡Œï¼š</span><span class="token assign-left variable">QUEUE_CONNECTION</span><span class="token operator">=</span>redis<span class="token assign-left variable">REDIS_CLIENT</span><span class="token operator">=</span>predis<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li>å¯åŠ¨é˜Ÿåˆ—ç³»ç»Ÿï¼Œé˜Ÿåˆ—åœ¨å¯åŠ¨å®Œæˆåä¼šè¿›å…¥ç›‘å¬çŠ¶æ€</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">php artisan queue:listenæˆ–è€…ä½¿ç”¨php artisan horizon<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ–‡ç« æ ‡é¢˜ç¿»è¯‘"><a href="#æ–‡ç« æ ‡é¢˜ç¿»è¯‘" class="headerlink" title="æ–‡ç« æ ‡é¢˜ç¿»è¯‘"></a>æ–‡ç« æ ‡é¢˜ç¿»è¯‘</h2><blockquote><p><a href="http://api.fanyi.baidu.com/api/trans/product/apidoc">ä½¿ç”¨äº†ç™¾åº¦ç¿»è¯‘ api</a>ï¼Œè¯·å°† <code>.ENV</code>ä¸­çš„ç™¾åº¦ api ç›¸å…³ä¿¡æ¯æ¢æˆä½ è‡ªå·±çš„<a href="http://api.fanyi.baidu.com/api/trans/product/desktop?req=developer">å¼€å‘è€…ä¿¡æ¯</a></p></blockquote><p>å¦‚æœä¸é‡‡ç”¨ç™¾åº¦ç¿»è¯‘ç¿»è¯‘æ–‡ç« æ ‡é¢˜çš„è¯ï¼Œé‚£ä¹ˆä¸ç”¨é…ç½® <code>.ENV</code> æ–‡ä»¶ä¸­ä»¥ä¸‹é…ç½®é¡¹</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># ç™¾åº¦ç¿»è¯‘ APP ID</span><span class="token assign-left variable">BAIDU_TRANSLATE_APPID</span><span class="token operator">=</span><span class="token comment"># ç™¾åº¦ç¿»è¯‘å¯†é’¥ KEY</span><span class="token assign-left variable">BAIDU_TRANSLATE_KEY</span><span class="token operator">=</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¹¶ä¸”ä¹Ÿä¸éœ€è¦æ›´æ”¹</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable">QUEUE_CONNECTION</span><span class="token operator">=</span>redis<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>é»˜è®¤ä¿æŒä¸º</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable">QUEUE_CONNECTION</span><span class="token operator">=</span>sync<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>è¿™æ ·å°†ä¼šæ¯å‘ä¸€ç¯‡æ–‡ç« æ—¶ï¼Œå°†æ–‡ç« æ ‡é¢˜ç›´æ¥ç¿»è¯‘æˆæ‹¼éŸ³è¾¾åˆ° slug çš„æ•ˆæœã€‚</p><h2 id="é‚®ä»¶é€šçŸ¥"><a href="#é‚®ä»¶é€šçŸ¥" class="headerlink" title="é‚®ä»¶é€šçŸ¥"></a>é‚®ä»¶é€šçŸ¥</h2><blockquote><p>å¦‚æœä¸æƒ³è¦ï¼Œå‘è¡¨æ–‡ç« è¯„è®ºæ—¶æœ‰é‚®ä»¶é€šçŸ¥ï¼Œå¯ä»¥ä¸ç”¨é…ç½®ï¼Œç›´æ¥å¿½ç•¥ï¼ŒåŠŸèƒ½ä¸Šæ²¡æœ‰ä»»ä½•å½±å“</p></blockquote><ol><li>éœ€è¦å…ˆå¼€å¯ QQ é‚®ç®±çš„ SMTP æ”¯æŒ</li></ol><p><a href="https://service.mail.qq.com/cgi-bin/help?subtype=1&amp;id=28&amp;no=166">å¦‚ä½•æ‰“å¼€ POP3/SMTP/IMAP åŠŸèƒ½ï¼Ÿ</a></p><ol start="2"><li>é‚®ç®±å‘é€é…ç½® ï¼ˆè¯·å°†ä»¥ä¸‹é…ç½®æ¢æˆä½ è‡ªå·±çš„é‚®ç®±é…ç½®ï¼‰</li></ol><blockquote><p>å¦‚æœä½ æ˜¯ä½¿ç”¨çš„é˜¿é‡Œäº‘ ECSï¼Œé‚£ä¹ˆä¸€å®šè¦æ³¨æ„ï¼Œé˜¿é‡Œäº‘çš„ ECS é»˜è®¤ç¦ç”¨äº† 25 ç«¯å£ï¼Œéœ€è¦å•ç‹¬ç”³è¯·è§£å°25ç«¯å£ï¼Œ<a href="https://yundun.console.aliyun.com/?spm=5176.2020520101.console-base-top.duser-0.33bf4df5FEFEdS&amp;p=sc#/sc/port">ç‚¹æˆ‘è§£å°é˜¿é‡Œäº‘ ECS 25ç«¯å£</a>ï¼Œå¦‚æœä½ ä¸çŸ¥é“å¦‚ä½•è§£å°ï¼Œè¯·æŸ¥çœ‹ <a href="https://help.aliyun.com/knowledge_detail/56130.html">è§£å°æ­¥éª¤</a>ã€‚å½“ç„¶æ›¿ä»£æ–¹æ¡ˆï¼Œä½ å¯ä»¥é‡‡ç”¨ 465 ç«¯å£ï¼Œå¦‚æœä½ æ‰“ç®—é‡‡ç”¨ 465 ç«¯å£ï¼Œé‚£ä¹ˆéœ€è¦å°†ä»¥ä¸‹é…ç½®ä¸­çš„ <code>MAIL_PORT</code> ä¿®æ”¹ä¸º 465,å¹¶ä¸”ä¹Ÿéœ€è¦å°†åŠ å¯†ç±»å‹ <code>MAIL_ENCRYPTION</code> ä¿®æ”¹ä¸º ssl å³å¯ï¼Œè¿™é‡Œæˆ‘ä½¿ç”¨çš„æ˜¯ qq é‚®ç®±ï¼Œå¯èƒ½å…¶ä»–çš„é‚®ç®±æœåŠ¡æœ‰å·®å¼‚ï¼Œè§†æƒ…å†µè€Œå®šå§ã€‚</p></blockquote><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># ä½¿ç”¨æ”¯æŒ ESMTP çš„ SMTP æœåŠ¡å™¨å‘é€é‚®ä»¶</span><span class="token assign-left variable">MAIL_DRIVER</span><span class="token operator">=</span>smtp<span class="token comment"># QQ é‚®ç®±çš„ SMTP æœåŠ¡å™¨åœ°å€ï¼Œå¿…é¡»ä¸ºæ­¤å€¼</span><span class="token assign-left variable">MAIL_HOST</span><span class="token operator">=</span>smtp.qq.com<span class="token comment"># QQ é‚®ç®±çš„ SMTP æœåŠ¡å™¨ç«¯å£ï¼Œå¿…é¡»ä¸ºæ­¤å€¼</span><span class="token assign-left variable">MAIL_PORT</span><span class="token operator">=</span><span class="token number">25</span><span class="token comment"># è¯·å°†æ­¤å€¼æ¢ä¸ºä½ çš„ QQ + @qq.com</span><span class="token assign-left variable">MAIL_USERNAME</span><span class="token operator">=</span>xxxxxxxxxxxxxx@qq.com<span class="token comment"># å¯†ç æ˜¯æˆ‘ä»¬ç¬¬ä¸€æ­¥æ‹¿åˆ°çš„æˆæƒç </span><span class="token assign-left variable">MAIL_PASSWORD</span><span class="token operator">=</span>xxxxxxxxx<span class="token comment"># åŠ å¯†ç±»å‹ï¼Œé€‰é¡¹ null è¡¨ç¤ºä¸ä½¿ç”¨ä»»ä½•åŠ å¯†ï¼Œå…¶ä»–é€‰é¡¹è¿˜æœ‰ sslï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ tls å³å¯ï¼Œå¦‚æœå‡ºç°æŠ¥é”™çš„è¯ï¼Œå¤šåŠæ˜¯å› ä¸ºè¿™ä¸ª smtp ä¸»æœºä¸æ”¯æŒ TLSï¼Œé‚£ä¹ˆåªéœ€è¦å°†æ­¤é¡¹è®¾ç½®ä¸º null å³å¯ã€‚</span><span class="token assign-left variable">MAIL_ENCRYPTION</span><span class="token operator">=</span>tls<span class="token comment"># æ­¤å€¼å¿…é¡»åŒ MAIL_USERNAME ä¸€è‡´</span><span class="token assign-left variable">MAIL_FROM_ADDRESS</span><span class="token operator">=</span>xxxxxxxxxxxxxx@qq.com<span class="token comment"># ç”¨æ¥ä½œä¸ºé‚®ä»¶çš„å‘é€è€…åç§°</span><span class="token assign-left variable">MAIL_FROM_NAME</span><span class="token operator">=</span>ç•ªèŒ„ç‚–åœŸè±†çš„ä¸ªäººåšå®¢<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="3"><li>å¦‚æœéœ€è¦æ”¯æŒé˜Ÿåˆ—ï¼Œè¯·å°† <code>.ENV</code> é…ç½®æ–‡ä»¶ä¸­ï¼Œè®¾ç½®æˆ</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable">QUEUE_CONNECTION</span><span class="token operator">=</span>redis<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="ç”¨æˆ·åˆ‡æ¢è°ƒè¯•"><a href="#ç”¨æˆ·åˆ‡æ¢è°ƒè¯•" class="headerlink" title="ç”¨æˆ·åˆ‡æ¢è°ƒè¯•"></a>ç”¨æˆ·åˆ‡æ¢è°ƒè¯•</h2><p>é»˜è®¤åªåœ¨è°ƒè¯•æ¨¡å¼ <code>.ENV</code> æ–‡ä»¶ä¸­</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable">APP_DEBUG</span><span class="token operator">=</span>true<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ—¶å¯ç”¨ï¼Œä¸” <code>config/sudosu.php</code> æ–‡ä»¶ä¸­</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token comment">// å…è®¸ä½¿ç”¨çš„é¡¶çº§åŸŸå</span><span class="token string single-quoted-string">'allowed_tlds'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'dev'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'local'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'test'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>é¡¶çº§åŸŸåï¼ˆTop Level Domainï¼‰åŠ å…¥ä½ åŸŸåçš„é¡¶çº§åŸŸå</p><h2 id="ç¬¬ä¸‰æ–¹æˆæƒç™»å½•"><a href="#ç¬¬ä¸‰æ–¹æˆæƒç™»å½•" class="headerlink" title="ç¬¬ä¸‰æ–¹æˆæƒç™»å½•"></a>ç¬¬ä¸‰æ–¹æˆæƒç™»å½•</h2><p>ç›®å‰é¡¹ç›®ä¸­åªæ”¯æŒ github æˆæƒç™»å½•ï¼Œå› ä¸ºåªç”³è¯·äº† GitHub çš„ OAuth applicationï¼Œå¦‚æœä½ ä¹Ÿéœ€è¦ä½¿ç”¨ GitHub ä½œä¸ºç¬¬ä¸‰æ–¹æˆæƒç™»å½•ï¼Œé‚£ä¹ˆéœ€è¦æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¿›è¡Œï¼š</p><ol><li>åœ¨ GitHub ä¸Šæ³¨å†Œä¸€ä¸ª <a href="https://github.com/settings/applications/new">OAuth application</a></li></ol><ul><li>Application nameï¼šä½ å¯ä»¥å¡«å†™ä½ è‡ªå·±çš„åº”ç”¨åç§°ï¼Œæ¯”å¦‚ï¼šmyWebBlog</li><li>Homepage URLï¼šé¦–é¡µè¿æ¥åœ°å€éœ€è¦æ·»åŠ ä½ è‡ªå·±çš„ï¼Œæ¯”å¦‚ï¼š<a href="http://larablog.test/">http://larablog.test</a></li><li>Application descriptionï¼šåº”ç”¨æè¿°å¯ä»¥éšä¾¿å¡«å†™ï¼Œæ¯”å¦‚ï¼šè‡ªå·±çš„åšå®¢</li><li>Authorization callback URLï¼šæˆæƒå›è°ƒåœ°å€ï¼Œä¸€å®šè¦å¡«å†™æˆï¼š <your domain="">/login/github/callback  ï¼Œæ¯”å¦‚ï¼Œæˆ‘è¿™é‡Œåˆ™éœ€è¦å¡«å†™æˆï¼š<a href="http://larablog.test/login/github/callback">http://larablog.test/login/github/callback</a></your></li></ul><ol start="2"><li>æ³¨å†ŒæˆåŠŸä¹‹åï¼Œéœ€è¦åœ¨ <code>.ENV</code> é…ç½®æ–‡ä»¶ä¸­å¡«å†™ç”³è¯·æˆåŠŸçš„ Client ID å’Œ Client Secretã€‚å¡«å†™å¥½ä¹‹åï¼Œç›´æ¥è®¿é—®  <a href="http://larablog.test/login/github">http://larablog.test/login/github</a>  å³å¯æ”¯æŒ GitHub ç¬¬ä¸‰æ–¹æˆæƒç™»å½•ï¼Œå¦‚æœä¸è®¾ç½® <code>.ENV</code> é…ç½®æ–‡ä»¶ï¼Œåˆ™ç™»å½•ã€æ³¨å†Œé¡µé¢ä¸ä¼šæ˜¾ç¤º GitHub ç¬¬ä¸‰æ–¹æˆæƒç™»å½•å…¥å£ã€‚</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># Github Client ID</span><span class="token assign-left variable">GITHUB_CLIENT_ID</span><span class="token operator">=</span><span class="token comment"># Github Client Secret</span><span class="token assign-left variable">GITHUB_CLIENT_SECRET</span><span class="token operator">=</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ol start="3"><li>æ‰©å±•å…¶å®ƒç¬¬ä¸‰æ–¹æˆæƒç™»å½•ã€‚<blockquote><p>Socialite ç›®å‰æ”¯æŒ Facebookï¼ŒTwitterï¼ŒLinkedInï¼ŒGoogleï¼ŒGitHubï¼ŒGitLab å’Œ Bitbucket çš„èº«ä»½éªŒè¯ã€‚æœ¬é¡¹ç›®å·²ç»å¯¹ä»¥ä¸Šæ”¯æŒçš„ç¬¬ä¸‰æ–¹ç™»å½•åšäº†å…¼å®¹æ€§å¤„ç†ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦æ”¯æŒä»¥ä¸Šé™¤ GitHub ä»¥å¤–çš„åº”ç”¨ï¼ˆå› ä¸ºç›®å‰å·²ç»è®¾ç½®å¥½äº† GitHub ç›¸å…³çš„é…ç½®ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬åªéœ€è¦æŒ‰ç…§ä»¥ä¸‹çš„æ­¥éª¤é…ç½®å³å¯ã€‚è¿™é‡Œä»¥ Google ä¸ºä¾‹å­ã€‚</p></blockquote></li></ol><ul><li>ç¬¬ä¸€æ­¥ï¼šç”³è¯· <code>google</code> çš„ Client ID å’Œ Client Secretã€‚</li><li>ç¬¬äºŒæ­¥ï¼šå°†ç”³è¯·çš„ Client ID å’Œ Client Secret å¡«å†™å…¥ <code>.ENV</code> é…ç½®æ–‡ä»¶ä¸­</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable">GOOGLE_CLIENT_ID</span><span class="token operator">=</span><span class="token string">"your google client id"</span><span class="token assign-left variable">GOOGLE_CLIENT_SECRET</span><span class="token operator">=</span><span class="token string">"your google client secret"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li>ç¬¬ä¸‰æ­¥ï¼šé…ç½® app/services.php</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token string">'google'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>    <span class="token string">'client_id'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> env<span class="token punctuation">(</span><span class="token string">'GOOGLE_CLIENT_ID'</span><span class="token punctuation">)</span>,  // google å®¢æˆ·ç«¯æˆæƒ ID    <span class="token string">'client_secret'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> env<span class="token punctuation">(</span><span class="token string">'GOOGLE_CLIENT_SECRET'</span><span class="token punctuation">)</span>,  // google å®¢æˆ·ç«¯æˆæƒå¯†é’¥    <span class="token string">'redirect'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">'/login/google/callback'</span>,  // æˆæƒå›è°ƒé“¾æ¥ å¦‚æœ redirect é…ç½®é¡¹åŒ…å«çš„æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å°†å…¶è½¬åŒ–ä¸ºå®Œæ•´ URL<span class="token punctuation">]</span>,<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>ç¬¬å››æ­¥ï¼šå°†ç¬¬ä¸‰æ–¹æœåŠ¡æ·»åŠ åˆ° <code>app/Models/Auth/User.php</code> =&gt; <code>$allowedProviders</code> æ•°ç»„ä¸­</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">public static <span class="token variable">$allowedProviders</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'github'</span>, <span class="token string">'google'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>ç¬¬äº”æ­¥ï¼šç›´æ¥è®¿é—® <your domain="">/login/google å³å¯</your></li></ul><h2 id="è‡ªå®šä¹‰-Artisan-å‘½ä»¤"><a href="#è‡ªå®šä¹‰-Artisan-å‘½ä»¤" class="headerlink" title="è‡ªå®šä¹‰ Artisan å‘½ä»¤"></a>è‡ªå®šä¹‰ Artisan å‘½ä»¤</h2><table><thead><tr><th>å‘½ä»¤</th><th>è¯´æ˜</th><th>Cron</th></tr></thead><tbody><tr><td>php artisan larablog:calculate-active-user</td><td>ç”Ÿæˆæ´»è·ƒç”¨æˆ·</td><td>ä¸€ä¸ªå°æ—¶è¿è¡Œä¸€æ¬¡</td></tr><tr><td>php artisan larablog:sync-article-view-count</td><td>åŒæ­¥æ–‡ç« çš„è®¿é—®é‡</td><td>æ¯å¤©æ—©ä¸Š 0 ç‚¹å‡†æ—¶</td></tr><tr><td>php artisan larablog:sync-user-actived-at</td><td>ä» Redis ä¸­åŒæ­¥æœ€åç™»å½•æ—¶é—´åˆ°æ•°æ®åº“ä¸­</td><td>æ¯å¤©æ—©ä¸Š 0 ç‚¹å‡†æ—¶</td></tr></tbody></table><h2 id="è®¡åˆ’ä»»åŠ¡"><a href="#è®¡åˆ’ä»»åŠ¡" class="headerlink" title="è®¡åˆ’ä»»åŠ¡"></a>è®¡åˆ’ä»»åŠ¡</h2><p>å½“å‰è®¡åˆ’ä»»åŠ¡ä¸»è¦æ˜¯è®¡ç®—ä¸»é¡µå³ä¾§ ã€Œæ´»è·ƒç”¨æˆ·ã€</p><p><code>artisan</code> å‘½ä»¤ä¸ºï¼š</p><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">php artisan larablog:calculate-active-user<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>åŒæ­¥æ–‡ç« çš„è®¿é—®é‡</p><p><code>artisan</code> å‘½ä»¤ä¸ºï¼š</p><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">php artisan larablog:sync-article-view-count<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>å’ŒåŒæ­¥ ã€Œç”¨æˆ·æœ€åæ´»è·ƒæ—¶é—´ã€ åˆ°æ•°æ®åº“</p><p><code>artisan</code> å‘½ä»¤ä¸ºï¼š</p><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">php artisan larablog:sync-user-actived-at<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>å¹¶ä¸”å·²ç»åœ¨ <code>è°ƒåº¦å™¨</code> ä¸­è®¾ç½®å¥½äº†ç›¸å…³ä»£ç ã€‚ï¼ˆè°ƒåº¦å™¨åœ¨ app/Console/Kernel.php æ–‡ä»¶çš„ schedule æ–¹æ³•ä¸­å®šä¹‰ï¼‰</p><p>ä½¿ç”¨ Linux ç³»ç»Ÿçš„ Cron è®¡åˆ’ä»»åŠ¡éœ€æ‰§è¡Œ</p><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">export EDITOR=vi &amp;&amp; crontab -e<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç„¶åå¡«å…¥ä»¥ä¸‹å†…å®¹ï¼ˆæ³¨æ„å°†é¡¹ç›®æ ¹ç›®å½•æ¢æˆä½ è‡ªå·±çš„ï¼‰<br>è¿™é‡Œæˆ‘çš„é¡¹ç›®æ ¹ç›®å½•ä¸ºï¼š<code>/home/vagrant/Code/larablog</code></p><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">* * * * * php /home/vagrant/Code/larablog/artisan schedule:run &gt;&gt; /dev/null 2&gt;&amp;1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><blockquote><p>å¦‚æœä¸è®¾å®šè®¡åˆ’ä»»åŠ¡çš„è¯ï¼Œç›´æ¥æ‰§è¡Œä»¥ä¸Š Artisan å‘½ä»¤çš„è¯ä¼šæ˜¯å¦‚ä¸‹æƒ…å†µï¼š<br>ã€Œæ´»è·ƒç”¨æˆ·ã€å°†æ¯ 65 åˆ†é’Ÿé‡æ–°ç”Ÿæˆä¸€æ¬¡ï¼Œè®¾å®šè®¡åˆ’ä»»åŠ¡çš„è¯ï¼Œé»˜è®¤ä¸€ä¸ªå°æ—¶é‡æ–°ç”Ÿæˆä¸€æ¬¡ã€‚<br>ã€Œç”¨æˆ·æœ€åæ´»è·ƒæ—¶é—´ã€å°†ä¸ä¼šåŒæ­¥åˆ°æ•°æ®åº“ä¸­ï¼Œå°†ä¼šç›´æ¥ä» Redis ä¸­è·å–ï¼Œå¦‚æœ Redis ä¸­ä¸å­˜åœ¨ï¼Œåˆ™ä»¥ç”¨æˆ·æ³¨å†Œæ—¶é—´æ›¿ä»£ã€‚</p></blockquote><h2 id="é˜Ÿåˆ—æ¸…å•"><a href="#é˜Ÿåˆ—æ¸…å•" class="headerlink" title="é˜Ÿåˆ—æ¸…å•"></a>é˜Ÿåˆ—æ¸…å•</h2><table><thead><tr><th>æ–‡ä»¶è·¯å¾„</th><th>è¯´æ˜</th><th>è°ƒç”¨æ—¶æœº</th></tr></thead><tbody><tr><td>app\Notifications\ArticleReplied.php</td><td>é€šçŸ¥æ–‡ç« ä½œè€…æœ‰æ–°è¯„è®ºå›å¤</td><td>æ–‡ç« è¢«è¯„è®ºä»¥å App\Observers\Portal\Article\ReplyObserver@created</td></tr><tr><td>app\Jobs\TranslateSlug.php</td><td>å°†æ–‡ç« æ ‡é¢˜ç¿»è¯‘ä¸º Slug</td><td>æ–‡ç« ä¿å­˜æ—¶ App\Observers\Portal\Article\ArticleObserver@saved</td></tr></tbody></table><h2 id="çº¿ä¸Šéƒ¨ç½²"><a href="#çº¿ä¸Šéƒ¨ç½²" class="headerlink" title="çº¿ä¸Šéƒ¨ç½²"></a>çº¿ä¸Šéƒ¨ç½²</h2><p>å¦‚æœéœ€è¦ä¼˜åŒ–ç½‘ç«™æ‰“å¼€é€Ÿåº¦ï¼Œå¯ä¾æ¬¡è¿›è¡Œå¦‚ä¸‹æ­¥éª¤ï¼š</p><ul><li>å‹ç¼©å‰ç«¯ä»£ç </li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> run prod<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>ç¼“å­˜è·¯ç”±</li></ul><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh"># ç¼“å­˜è·¯ç”±php artisan route:cache# æ¸…ç©ºè·¯ç”±ç¼“å­˜php artisan route:clear<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>ç¼“å­˜é…ç½®æ–‡ä»¶</li></ul><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh"># ç¼“å­˜é…ç½®æ–‡ä»¶php artisan config:cache# æ¸…ç©ºé…ç½®æ–‡ä»¶ç¼“å­˜php artisan cache:clear<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>composer ä¼˜åŒ–</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">composer</span> dump-autoload --optimize<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>ç±»æ˜ å°„åŠ è½½ä¼˜åŒ–</li></ul><p>åœ¨ <code>laravel 6.x</code> ä¸­ï¼Œä¼šç”Ÿæˆ <code>bootstrap/cache/config.php</code> å’Œ <code>bootstrap/cache/packages.php</code> å’Œ <code>bootstrap/cache/routes.php</code> å’Œ <code>bootstrap/cache/services.php</code> è¿™å››ä¸ªæ–‡ä»¶ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">php artisan optimize<span class="token comment"># æ¸…ç©ºç±»æ˜ å°„</span>php artisan optimize:clear<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li>ä½¿ç”¨ swoole åŠ é€Ÿç½‘ç«™</li></ul><p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œä»¥å®ˆæŠ¤è¿›ç¨‹çš„æ–¹å¼è¿è¡Œ <a href="https://github.com/hhxsv5/laravel-s/blob/master/README-CN.md">laravelS</a></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">php bin/laravels start -d<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å‚è€ƒä»¥ä¸‹å†…å®¹é…ç½® nginx é…ç½®</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">upstream swoole <span class="token punctuation">{</span>    <span class="token comment"># å¦‚æœæ˜¯ä½¿ç”¨ laradock ï¼Œè¯·å°† 127.0.0.1 æ›´æ”¹ä¸º workspace</span>    server <span class="token number">127.0</span>.0.1:5200 <span class="token assign-left variable">weight</span><span class="token operator">=</span><span class="token number">5</span> <span class="token assign-left variable">max_fails</span><span class="token operator">=</span><span class="token number">3</span> <span class="token assign-left variable">fail_timeout</span><span class="token operator">=</span>30s<span class="token punctuation">;</span>    keepalive <span class="token number">16</span><span class="token punctuation">;</span><span class="token punctuation">}</span>server <span class="token punctuation">{</span>    listen <span class="token number">80</span><span class="token punctuation">;</span>    server_name pudongping.com blog.pudongping.com<span class="token punctuation">;</span>    root /www/wwwroot/larablog/public<span class="token punctuation">;</span>    index index.html index.htm index.php<span class="token punctuation">;</span>    charset utf-8<span class="token punctuation">;</span>    location / <span class="token punctuation">{</span>        try_files <span class="token variable">$uri</span> @laravels<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    location <span class="token operator">=</span> /favicon.ico <span class="token punctuation">{</span> access_log off<span class="token punctuation">;</span> log_not_found off<span class="token punctuation">;</span> <span class="token punctuation">}</span>    location <span class="token operator">=</span> /robots.txt  <span class="token punctuation">{</span> access_log off<span class="token punctuation">;</span> log_not_found off<span class="token punctuation">;</span> <span class="token punctuation">}</span>    access_log  /www/wwwlogs/pudongping.com.log<span class="token punctuation">;</span>    error_log  /www/wwwlogs/pudongping.com.error.log<span class="token punctuation">;</span>    sendfile off<span class="token punctuation">;</span>    client_max_body_size 100m<span class="token punctuation">;</span>    location @laravels <span class="token punctuation">{</span>        <span class="token comment"># proxy_connect_timeout 60s;</span>        <span class="token comment"># proxy_send_timeout 60s;</span>        <span class="token comment"># proxy_read_timeout 120s;</span>        proxy_http_version <span class="token number">1.1</span><span class="token punctuation">;</span>        proxy_set_header Connection <span class="token string">""</span><span class="token punctuation">;</span>        proxy_set_header X-Real-IP <span class="token variable">$remote_addr</span><span class="token punctuation">;</span>        proxy_set_header X-Real-PORT <span class="token variable">$remote_port</span><span class="token punctuation">;</span>        proxy_set_header X-Forwarded-For <span class="token variable">$proxy_add_x_forwarded_for</span><span class="token punctuation">;</span>        proxy_set_header Host <span class="token variable">$http_host</span><span class="token punctuation">;</span>        proxy_set_header Scheme <span class="token variable">$scheme</span><span class="token punctuation">;</span>        proxy_set_header Server-Protocol <span class="token variable">$server_protocol</span><span class="token punctuation">;</span>        proxy_set_header Server-Name <span class="token variable">$server_name</span><span class="token punctuation">;</span>        proxy_set_header Server-Addr <span class="token variable">$server_addr</span><span class="token punctuation">;</span>        proxy_set_header Server-Port <span class="token variable">$server_port</span><span class="token punctuation">;</span>        <span class="token comment"># â€œswooleâ€æ˜¯æŒ‡upstream</span>        proxy_pass http://swoole<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    location ~ /<span class="token punctuation">\</span>.ht <span class="token punctuation">{</span>        deny all<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¦‚æœæ˜¯ä½¿ç”¨ laradock çš„è¯ï¼Œè¿˜éœ€è¦å°† <code>.env</code> æ·»åŠ ç›‘å¬åœ°å€ä¸º <code>workspace</code></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable">LARAVELS_LISTEN_IP</span><span class="token operator">=</span>workspace<span class="token comment"># è®¾ç½®åå°å¯åŠ¨ laravelS æœåŠ¡ï¼Œå¦‚æœéœ€è¦æŸ¥çœ‹åˆ™æ‰§è¡Œ ps -ef|grep laravels å‘½ä»¤</span><span class="token assign-left variable">LARAVELS_DAEMONIZE</span><span class="token operator">=</span>true<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ä»£ç è§„èŒƒ"><a href="#ä»£ç è§„èŒƒ" class="headerlink" title="ä»£ç è§„èŒƒ"></a>ä»£ç è§„èŒƒ</h2><p>éµå¾ª <a href="https://www.php-fig.org/psr/psr-2/">PSR-2</a> ç¼–ç é£æ ¼è§„èŒƒ<br>éµå¾ª <a href="https://learnku.com/docs/psr/psr-12-extended-coding-style-guide/5789">PSR-12</a> ç¼–ç è§„èŒƒæ‰©å……</p><h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><p>ä»£ç ä¸­æ¶µç›–äº†ä¸°å¯Œçš„æ³¨é‡Šï¼Œå¦‚æœä»æœ‰ä¸æ¸…æ¥šä¹‹å¤„ï¼Œå¯ä»¥ç»™æˆ‘ç•™è¨€ã€‚<br>å¦‚æœä½ è§‰å¾—è¿˜ä¸é”™ï¼Œè¯·å¸®æˆ‘ç‚¹ä¸€ä¸‹  Starï¼Œä¸èƒœæ„Ÿæ¿€ ï¼â¤(â¤Â´è‰¸ï½€â¤)</p><p><a href="https://github.com/pudongping/larablog">GitHub</a> åœ°å€<br><a href="https://gitee.com/pudongping/larablog">ç äº‘</a> åœ°å€</p><h2 id="License"><a href="#License" class="headerlink" title="License"></a>License</h2><p>æºä»£ç åŸºäº <a href="https://opensource.org/licenses/MIT">MIT</a> åè®®å‘å¸ƒã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å¼€æº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GitHub </tag>
            
            <tag> åšå®¢ </tag>
            
            <tag> PHP </tag>
            
            <tag> Laravel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•ä½¿ç”¨ gitbook å¿«é€Ÿç¼–å†™ä¸ªäººä¹¦ç±æˆ–ç¬”è®°ï¼Ÿ</title>
      <link href="posts/b00f410f.html"/>
      <url>posts/b00f410f.html</url>
      
        <content type="html"><![CDATA[<h1 id="GitBook-ä½¿ç”¨"><a href="#GitBook-ä½¿ç”¨" class="headerlink" title="GitBook ä½¿ç”¨"></a><a href="https://github.com/GitbookIO">GitBook</a> ä½¿ç”¨</h1><h2 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h2><blockquote><p><a href="https://www.gitbook.com/">GitBook å®˜ç½‘</a><br><a href="https://github.com/GitbookIO/gitbook">GitBook æ–‡æ¡£</a><br><a href="https://blankj.com/gitbook/gitbook/">GitBook ä½¿ç”¨æ•™ç¨‹</a><br><a href="https://juejin.im/post/6844903865146441741">æ¨è12ä¸ªå®ç”¨çš„gitbookæ’ä»¶</a><br><a href="http://jartto.wang/2020/02/02/about-gitbook/">GitBook å’Œå®ƒæœ‰è¶£çš„æ’ä»¶</a></p></blockquote><h2 id="ç¤ºä¾‹å›¾"><a href="#ç¤ºä¾‹å›¾" class="headerlink" title="ç¤ºä¾‹å›¾"></a>ç¤ºä¾‹å›¾</h2><p><img src="/medias/loading.gif" data-original="https://pudongping.github.io/notes/resources/images/sample/page.png" alt="é¡µé¢æˆªå›¾"></p><h2 id="åœ¨çº¿è®¿é—®"><a href="#åœ¨çº¿è®¿é—®" class="headerlink" title="åœ¨çº¿è®¿é—®"></a>åœ¨çº¿è®¿é—®</h2><p><a href="https://notes.pudongping.com/">è’²ä¸œå¹³çš„ç¼–ç¨‹ç¬”è®°</a> æˆ–è€… <a href="https://pudongping.github.io/notes">è’²ä¸œå¹³çš„ç¼–ç¨‹ç¬”è®°-GitHub Pages</a></p><h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><ul><li>å®‰è£…</li></ul><blockquote><p>å®‰è£… GitBook ä¹‹å‰éœ€è¦å®‰è£… <code>Node.js</code> ï¼Œ <code>GitBook</code> æ˜¯ä¸€ä¸ªåŸºäº <code>Node.js</code> çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œå› æ­¤éœ€è¦å…ˆä¸‹è½½å®‰è£… <a href="https://nodejs.org/en">Node.js</a></p></blockquote><pre class="line-numbers language-none"><code class="language-none"># æŸ¥çœ‹ node.js æ˜¯å¦å®‰è£…æˆåŠŸnode -v# å®‰è£… GitBook npm install gitbook-cli -g# æŸ¥çœ‹ GitBook æ˜¯å¦å®‰è£…æˆåŠŸgitbook -V ï¼ˆå¤§å†™çš„ V ï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ›´å¤šè¯¦æƒ…å¯ä»¥å‚è€ƒ <a href="https://github.com/GitbookIO/gitbook/blob/master/docs/setup.md">GitBook å®˜æ–¹å®‰è£…æ–‡æ¡£</a> æ¥å®‰è£… GitBook</p><ul><li>åˆ›å»ºé¡¹ç›®</li></ul><pre class="line-numbers language-none"><code class="language-none"># åˆ‡æ¢åˆ°é¡¹ç›®æ–‡ä»¶å¤¹å¹¶åˆ›å»ºé¡¹ç›®mkdir project-directory &amp;&amp; cd project-directory &amp;&amp; gitbook init# æˆ–è€…ç›´æ¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤gitbook init ./project-directory<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>å¯åŠ¨é¡¹ç›®</li></ul><pre class="line-numbers language-none"><code class="language-none">cd project-directory &amp;&amp; gitbook serve// å¦‚æœä¸æƒ³ä½¿ç”¨ 4000 ç«¯å£ï¼Œæƒ³è¦ä½¿ç”¨ 9520 ç«¯å£æ—¶gitbook serve -p 9520<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç„¶ååœ¨æµè§ˆå™¨åœ°å€æ ä¸­è¾“å…¥ <code>http://localhost:4000</code> ä¾¿å¯é¢„è§ˆä¹¦ç±ï¼Œè‡³æ­¤ï¼Œgitbook å®‰è£…å®Œæ¯•ã€‚</p><ul><li>ç¼–è¯‘é¡¹ç›® ï¼ˆç”Ÿæˆç½‘é¡µè€Œä¸å¼€å¯æœåŠ¡å™¨ï¼‰</li></ul><pre class="line-numbers language-none"><code class="language-none">cd project-directory &amp;&amp; gitbook build<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li>æŸ¥çœ‹æ‰€æœ‰å¯ç”¨çš„ gitbook ç‰ˆæœ¬</li></ul><pre class="line-numbers language-none"><code class="language-none">gitbook ls-remote<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li>å®‰è£…æŒ‡å®šçš„ gitbook ç‰ˆæœ¬</li></ul><pre class="line-numbers language-none"><code class="language-none">gitbook fetch betaï¼ˆç‰ˆæœ¬å·ï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li>ç¼–è¯‘æ—¶ï¼Œè¾“å‡ºç›®å½•è¯¦ç»†çš„è®°å½•åŒ…æ‹¬ debug</li></ul><pre class="line-numbers language-none"><code class="language-none">gitbook build ./ --log=debug --debug<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="å…³äºé…ç½®"><a href="#å…³äºé…ç½®" class="headerlink" title="å…³äºé…ç½®"></a>å…³äºé…ç½®</h2><h3 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h3><p>éœ€è¦åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰‹åŠ¨åˆ›å»º <code>book.json</code> æˆ–è€… <code>book.js</code> æ–‡ä»¶</p><h3 id="é…ç½®æ–‡ä»¶å˜é‡"><a href="#é…ç½®æ–‡ä»¶å˜é‡" class="headerlink" title="é…ç½®æ–‡ä»¶å˜é‡"></a>é…ç½®æ–‡ä»¶å˜é‡</h3><p>å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« ä¸­çš„ä»‹ç»ï¼š<a href="https://chrisniael.gitbooks.io/gitbook-documentation/content/format/templating.html">GitBookæ–‡æ¡£ï¼ˆä¸­æ–‡ç‰ˆï¼‰</a></p><h3 id="å¦‚æœéœ€è¦å¯¼å‡º-pdf-ç­‰æ–‡ä»¶"><a href="#å¦‚æœéœ€è¦å¯¼å‡º-pdf-ç­‰æ–‡ä»¶" class="headerlink" title="å¦‚æœéœ€è¦å¯¼å‡º pdf ç­‰æ–‡ä»¶"></a>å¦‚æœéœ€è¦å¯¼å‡º pdf ç­‰æ–‡ä»¶</h3><p>å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« ä¸­çš„ä»‹ç»ï¼š <a href="https://snowdreams1006.github.io/myGitbook/advance/export.html">å¯¼å‡ºç”µå­ä¹¦</a></p><h2 id="å®‰è£…æ’ä»¶"><a href="#å®‰è£…æ’ä»¶" class="headerlink" title="å®‰è£…æ’ä»¶"></a>å®‰è£…æ’ä»¶</h2><p>å®‰è£…æ’ä»¶æœ‰ä¸¤ç§æ–¹å¼ï¼š <a href="https://www.npmjs.com/search?q=gitbook-plugin">ç‚¹æˆ‘æœç´¢æ›´å¤š gitbook æ’ä»¶</a></p><ol><li>åœ¨ <code>/book.json</code> é…ç½®æ–‡ä»¶ä¸­å†™å…¥ç›¸åº”çš„æ’ä»¶å’Œé…ç½®åï¼Œä½¿ç”¨ <code>gitbook install</code> å‘½ä»¤å®‰è£…æ’ä»¶</li><li>ç›´æ¥ä½¿ç”¨ <code>npm install gitbook-plugin-pluginname</code> å‘½ä»¤å®‰è£…æŒ‡å®šçš„æ’ä»¶ï¼Œç„¶ååœ¨ <code>/book.json</code> é…ç½®æ–‡ä»¶ä¸­å†™å…¥é…ç½®ï¼Œæ¯”å¦‚å®‰è£… <code>highlight</code> æ’ä»¶æ—¶ï¼Œéœ€è¦æ‰§è¡Œ <code>npm install gitbook-plugin-highlight</code></li></ol><pre class="line-numbers language-npm" data-language="npm"><code class="language-npm">npm install gitbook-plugin-search-pro --registry=https://registry.npm.taobao.org/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="GitBook-åˆå§‹åŒ–æ—¶ï¼Œä¼šé»˜è®¤è‡ªåŠ¨ä¸‹è½½-7-ä¸ªæ’ä»¶"><a href="#GitBook-åˆå§‹åŒ–æ—¶ï¼Œä¼šé»˜è®¤è‡ªåŠ¨ä¸‹è½½-7-ä¸ªæ’ä»¶" class="headerlink" title="GitBook åˆå§‹åŒ–æ—¶ï¼Œä¼šé»˜è®¤è‡ªåŠ¨ä¸‹è½½ 7 ä¸ªæ’ä»¶"></a>GitBook åˆå§‹åŒ–æ—¶ï¼Œä¼šé»˜è®¤è‡ªåŠ¨ä¸‹è½½ 7 ä¸ªæ’ä»¶</h3><ol><li><a href="https://github.com/GitbookIO/plugin-highlight">highlight</a>  ï¼š ä»£ç é«˜äº®</li><li><a href="https://github.com/GitbookIO/plugin-search">search</a>  ï¼š å¯¼èˆªæ æŸ¥è¯¢åŠŸèƒ½ ï¼ˆä¸æ”¯æŒä¸­æ–‡ï¼‰</li><li><a href="https://www.npmjs.com/package/gitbook-plugin-lunr">lunr</a>  ï¼š  ä¸º <code>search</code> æ’ä»¶æä¾›åç«¯æ”¯æŒ</li><li><a href="https://github.com/GitbookIO/plugin-sharing">sharing</a>  ï¼š å³ä¸Šè§’åˆ†äº«åŠŸèƒ½</li><li><a href="https://github.com/GitbookIO/plugin-fontsettings">fontsettings</a>  ï¼š å­—ä½“è®¾ç½®ï¼ˆæœ€ä¸Šæ–¹çš„ â€œAâ€ ç¬¦å·ï¼‰</li><li><a href="https://github.com/GitbookIO/plugin-livereload">livereload</a>  ï¼š ä¸º GitBook å®æ—¶é‡æ–°åŠ è½½</li><li><a href="https://www.npmjs.com/package/gitbook-plugin-theme-default">theme-default</a>  ï¼š  é»˜è®¤çš„ 3.0.0 ç‰ˆæœ¬ä¹‹åçš„ä¸»é¢˜æ’ä»¶</li></ol><h3 id="æ¨èæ’ä»¶"><a href="#æ¨èæ’ä»¶" class="headerlink" title="æ¨èæ’ä»¶"></a>æ¨èæ’ä»¶</h3><ul><li><a href="https://github.com/codeclou/gitbook-plugin-advanced-emoji">advanced-emoji</a>  ï¼š æ”¯æŒ emoji è¡¨æƒ…åŒ…  <a href="https://www.webfx.com/tools/emoji-cheat-sheet/">emoji è¡¨æƒ…åŒ…åœ°å€</a></li><li><a href="https://github.com/zq99299/gitbook-plugin-anchor-navigation-ex/blob/master/doc/config.md">anchor-navigation-ex</a>  ï¼š æ‚¬æµ®æŒ‰é’®ç›®å½•  ï¼ˆåœ¨é¡µé¢ä¸­å¢åŠ  <extoc></extoc> æ ‡ç­¾ï¼Œä¼šåœ¨æ­¤å¤„ç”Ÿæˆ TOC ç›®å½•ï¼‰ã€è¿˜ä¼šå¢åŠ æ ‡é¢˜é”š</li><li><a href="https://www.npmjs.com/package/gitbook-plugin-auto-scroll-table">auto-scroll-table</a>  ï¼š  è¡¨æ ¼æ»šåŠ¨æ¡</li><li><a href="https://www.npmjs.com/package/gitbook-plugin-audio_image">audio_image</a>  ï¼š æ’­æ”¾éŸ³é¢‘</li><li><a href="https://github.com/stuebersystems/gitbook-plugin-back-to-top-button">back-to-top-button</a> ï¼š è¿”å›é¡¶éƒ¨</li><li><a href="https://snowdreams1006.github.io/gitbook-plugin-baidu-tongji-with-multiple-channel/">baidu-tongji-with-multiple-channel</a>  ï¼š  ç™¾åº¦ç»Ÿè®¡æ’ä»¶,æ”¯æŒå¤šæ¸ é“ç‹¬ç«‹ç»Ÿè®¡,ä¸€ä»½æºç å¤šå¤„éƒ¨ç½²ç‹¬ç«‹ç»Ÿè®¡</li><li><a href="https://www.npmjs.com/package/gitbook-plugin-chapter-fold">chapter-fold</a>  ï¼š å·¦ä¾§ç›®å½•å¯æŠ˜å ï¼Œå»ºè®®å’Œ <code>expandable-chapters</code> æ’ä»¶ä¸€èµ·ä½¿ç”¨å¯ä»¥äº’è¡¥ç›¸äº’çš„ bug</li><li><a href="https://github.com/TGhoul/gitbook-plugin-code">code</a> ï¼š ä»£ç æ·»åŠ è¡Œå·å’Œå¤åˆ¶æŒ‰é’®</li><li><a href="https://github.com/zhenchao125/gitbook-plugin-change_girls">change_girls</a>  ï¼š å¯è‡ªåŠ¨åˆ‡æ¢èƒŒæ™¯</li><li><a href="https://github.com/c4software/gitbook-plugin-click-reveal">click-reveal</a>  ï¼š ç‚¹å‡»æ˜¾ç¤ºå†…å®¹ï¼Œé»˜è®¤æŠŠå†…å®¹å·²ç»éšè—</li><li><a href="https://github.com/Bandwidth/gitbook-plugin-custom-favicon">custom-favicon</a>  ï¼š  ä¿®æ”¹æ ‡é¢˜æ å›¾æ ‡</li><li><a href="https://www.npmjs.com/package/gitbook-plugin-copyright">copyright</a>  ï¼š  ç”¨äºå¤åˆ¶å†…å®¹æ—¶è¿½åŠ ç‰ˆæƒä¿¡æ¯ä»¥åŠæ–‡ç« æœ«å°¾æ·»åŠ ç‰ˆæƒå°å°¾å·´</li><li><a href="https://github.com/willin/gitbook-plugin-donate">donate</a> ï¼š æ‰“èµåŠŸèƒ½</li><li><a href="https://github.com/snowdreams1006/gitbook-plugin-diff/blob/HEAD/README_zh.md">diff</a>  ï¼š åœ¨ markdown æ–‡æ¡£ä¸­æ˜¾ç¤ºä»£ç ä¹‹é—´çš„å·®å¼‚</li><li><a href="https://github.com/chrisjake/gitbook-plugin-expandable-chapters-small">expandable-chapters</a>  ï¼š å·¦ä¾§ç›®å½•å¯æŠ˜å ï¼Œå’Œ <code>expandable-chapters-small</code> çš„åŒºåˆ«æ˜¯ï¼š <code>expandable-chapters-small</code> çš„æŠ˜å å›¾æ ‡è¦å°ä¸€äº› ï¼ˆå»ºè®®å’Œ <code>chapter-fold</code> æ’ä»¶ä¸€èµ·ä½¿ç”¨å¯ä»¥äº’è¡¥ç›¸äº’çš„ bugï¼‰</li><li><a href="https://www.npmjs.com/package/gitbook-plugin-edit-link-plus">edit-link-plus</a>  ï¼š åœ¨çº¿ç¼–è¾‘æ–‡ä»¶</li><li><a href="https://github.com/fzankl/gitbook-plugin-flexible-alerts">flexible-alerts</a> ï¼šè­¦å‘Šæç¤ºæ¡†</li><li><a href="https://github.com/menduo/gitbook-plugin-favicon">favicon</a>  ï¼š ä¿®æ”¹ç½‘ç«™çš„ favicon.ico  <a href="http://www.bitbug.net/">ç‚¹æˆ‘åœ¨çº¿åˆ¶ä½œicoå›¾æ ‡ï¼Œå»ºè®®å°ºå¯¸32*32</a></li><li><a href="https://www.npmjs.com/package/gitbook-plugin-ga">ga</a> ï¼š Google åˆ†æ</li><li><a href="https://github.com/GitbookIO/plugin-github">github</a> ï¼š å³ä¸Šè§’æ·»åŠ  Github å›¾æ ‡</li><li><a href="https://github.com/azu/gitbook-plugin-github-buttons">github-buttons</a>  ï¼š å³ä¸Šè§’æ·»åŠ  GitHub çš„æŒ‰é’®</li><li><a href="https://www.npmjs.com/package/gitbook-plugin-charts">gitbook-plugin-charts</a>  ï¼š  åœ¨ gitbook ä¸­ä½¿ç”¨å›¾è¡¨æ’ä»¶ï¼Œç›®å‰æ”¯æŒ echarts</li><li><a href="https://github.com/snowdreams1006/gitbook-plugin-google-tongji-with-multiple-channel">google-tongji-with-multiple-channel</a>  ï¼š  Google ç»Ÿè®¡æ’ä»¶,æ”¯æŒå¤šæ¸ é“ç‹¬ç«‹ç»Ÿè®¡,ä¸€ä»½æºç å¤šå¤„éƒ¨ç½²ç‹¬ç«‹ç»Ÿè®¡</li><li><a href="https://www.npmjs.com/package/gitbook-plugin-hide-element">hide-element</a>  ï¼š  éšè—å…ƒç´ </li><li><a href="https://github.com/todvora/gitbook-plugin-image-captions">image-captions</a> ï¼š å°†å›¾ç‰‡çš„ alt æˆ– title å±æ€§è½¬æ¢ä¸ºæ ‡é¢˜</li><li><a href="https://github.com/matusnovak/gitbook-plugin-insert-logo">insert-logo</a> ï¼š æ’å…¥ Logo</li><li><a href="https://github.com/snowdreams1006/gitbook-plugin-icp/blob/HEAD/README_zh.md">icp</a>  ï¼š  åœ¨é¦–é¡µé¡µè„šåŒºåŸŸæ·»åŠ  icp ç½‘ç«™å¤‡æ¡ˆä¿¡æ¯</li><li><a href="https://github.com/brian-dawn/gitbook-plugin-klipse">klipse</a>  ï¼š åµŒå…¥ç±»ä¼¼ IDE çš„åŠŸèƒ½</li><li><a href="https://www.npmjs.com/package/gitbook-plugin-lightbox">lightbox</a>  ï¼š  é¡µé¢å¼¹çª—æŸ¥çœ‹å›¾ç‰‡ ï¼ˆæ”¯æŒåœ¨å¼¹å±‚åˆ‡æ¢ä¸Šä¸‹å›¾ï¼‰</li><li><a href="https://github.com/PacktPublishing/gitbook-local-video">local-video</a>  ï¼š  æ’­æ”¾æœ¬åœ°è§†é¢‘ï¼Œ<a href="http://gitbook.zhangjikai.com/plugins.html#local-video">ç‚¹æˆ‘æŸ¥çœ‹ä½¿ç”¨æ•™ç¨‹</a></li><li><a href="https://www.npmjs.com/package/gitbook-plugin-multipart">multipart</a> ï¼š å°†å·¦ä¾§çš„ç›®å½•åˆ†ç« èŠ‚å±•ç¤º</li><li><a href="https://www.npmjs.com/package/gitbook-plugin-mygitalk">mygitalk</a>  ï¼š  é€šè¿‡ GitHub issues æ·»åŠ è¯„è®ºæ¡†</li><li><a href="https://www.npmjs.com/package/gitbook-plugin-mermaid-gb3">mermaid-gb3</a>  ï¼š æ”¯æŒ markdown çš„æµç¨‹å›¾</li><li><a href="https://www.npmjs.com/package/gitbook-plugin-meta">meta</a>  ï¼š æ·»åŠ  meta å¤´éƒ¨ä¿¡æ¯</li><li><a href="https://www.npmjs.com/package/gitbook-plugin-page-copyright">page-copyright</a> ï¼š é¡µè„šç‰ˆæƒ</li><li><a href="https://github.com/tinys/gitbook-plugin-pageview-count#readme">pageview-count</a> ï¼š é˜…è¯»ç»Ÿè®¡</li><li><a href="https://github.com/somax/gitbook-plugin-popup#readme">popup</a>  ï¼š  æ‰“å¼€æ–°çš„é¡µé¢æŸ¥çœ‹å›¾ç‰‡</li><li><a href="https://github.com/gaearon/gitbook-plugin-prism">prism</a>  ï¼š  ä»£ç å—é¢œè‰²æ’ä»¶ ï¼ˆä½¿ç”¨çš„æ—¶å€™éœ€è¦ç¦ç”¨æ‰ gitbook è‡ªå¸¦çš„ <code>highlight</code> æ’ä»¶å¹¶ä¸”å’Œ <code>code</code> æ’ä»¶ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œéœ€è¦æ”¾åˆ° <code>code</code> æ’ä»¶åï¼Œå¦åˆ™æ ·å¼ä¼šè¢«è¦†ç›–æ‰ï¼‰</li><li><a href="https://www.npmjs.com/package/gitbook-plugin-rss">rss</a>  ï¼š ç”Ÿæˆ rss <a href="https://www.ruanyifeng.com/blog/2006/01/rss.html">å¦‚ä½•ä½¿ç”¨ RSS </a></li><li><a href="https://www.npmjs.com/package/gitbook-plugin-readmore">readmore</a>  ï¼š å®ç°åšå®¢çš„æ¯ä¸€ç¯‡æ–‡ç« è‡ªåŠ¨å¢åŠ é˜…è¯»æ›´å¤šæ•ˆæœ,å…³æ³¨å…¬ä¼—å·åæ–¹å¯è§£é”å…¨ç«™æ–‡ç« </li><li><a href="https://github.com/GitbookIO/plugin-sharing">sharing-plus</a> ï¼š åˆ†äº«å½“å‰é¡µé¢</li><li><a href="https://github.com/yoshidax/gitbook-plugin-splitter">splitter</a> ï¼š ä¾§è¾¹æ å®½åº¦å¯è°ƒèŠ‚</li><li><a href="https://github.com/gitbook-plugins/gitbook-plugin-search-pro">search-pro</a> ï¼š é«˜çº§æœç´¢ï¼Œæ”¯æŒä¸­æ–‡ ï¼ˆä½¿ç”¨çš„æ—¶å€™éœ€è¦ç¦ç”¨æ‰ <code>lunr</code> å’Œ <code>search</code> æ’ä»¶ï¼‰</li><li><a href="https://github.com/manchiyiu/gitbook-plugin-sectionx">sectionx</a>  ï¼š æŠ˜å æ¨¡å—(é¡µé¢å†…å®¹å¯æŠ˜å )</li><li><a href="https://github.com/CyberZHG/gitbook-plugin-sitemap-general">sitemap-general</a>  ï¼š ç”Ÿæˆç«™ç‚¹åœ°å›¾</li><li><a href="https://snowdreams1006.github.io/gitbook-plugin-simple-mind-map/zh/">simple-mind-map</a>  ï¼š  åœ¨ markdown ä¸­ç”Ÿæˆå¹¶å¯¼å‡ºæ€ç»´å¯¼å›¾</li><li><a href="https://github.com/ly-tools/gitbook-plugin-todo">todo</a> ï¼š å¾…åšé¡¹</li><li><a href="https://github.com/tonyyls/gitbook-plugin-theme-fexa">theme-fexa</a>  :  ç½‘ç«™ä¸»é¢˜ï¼Œä½¿ç”¨è¿™ä¸ªä¸»é¢˜ä¹‹åä¸èƒ½å¤Ÿåœ¨é¡µé¢ä¸Šè¿›è¡Œä¸Šä¸‹æ–‡ç¿»é¡µ</li><li><a href="https://www.npmjs.com/package/gitbook-plugin-theme-comscore">theme-comscore</a>  ï¼š æ ‡é¢˜å’Œæ­£æ–‡é¢œè‰²æœ‰æ‰€åŒºåˆ†çš„ä¸»é¢˜ï¼Œè¡¨æ ¼ä¹Ÿæœ‰é¢œè‰²</li><li><a href="https://github.com/zhj3618/gitbook-plugin-tbfed-pagefooter">tbfed-pagefooter</a>  ï¼š æ·»åŠ é¡µè„šç‰ˆæƒä¿¡æ¯ï¼Œè¿™ä¸ªæ„Ÿè§‰æ²¡æœ‰ <code>page-copyright</code> å¥½ç”¨</li></ul><h2 id="æˆ‘è‡ªå·±çš„-book-json-é…ç½®ä¿¡æ¯"><a href="#æˆ‘è‡ªå·±çš„-book-json-é…ç½®ä¿¡æ¯" class="headerlink" title="æˆ‘è‡ªå·±çš„ book.json é…ç½®ä¿¡æ¯"></a>æˆ‘è‡ªå·±çš„ book.json é…ç½®ä¿¡æ¯</h2><blockquote><p>æ³¨æ„ï¼šéœ€è¦åˆ é™¤æ‰æ‰€æœ‰çš„æ³¨é‡Šä¿¡æ¯</p></blockquote><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">{</span>    <span class="token property">"title"</span><span class="token operator">:</span> <span class="token string">"Alex's Notes"</span><span class="token punctuation">,</span>  <span class="token comment">// è®¾ç½®ä¹¦æœ¬çš„æ ‡é¢˜</span>    <span class="token property">"author"</span><span class="token operator">:</span> <span class="token string">"Alex"</span><span class="token punctuation">,</span>  <span class="token comment">// ä½œè€…çš„ç›¸å…³ä¿¡æ¯</span>    <span class="token property">"description"</span><span class="token operator">:</span> <span class="token string">"live and learn"</span><span class="token punctuation">,</span>  <span class="token comment">// æœ¬ä¹¦çš„ç®€å•æè¿°</span>    <span class="token property">"language"</span><span class="token operator">:</span> <span class="token string">"zh-hans"</span><span class="token punctuation">,</span>  <span class="token comment">// å¯ä½¿ç”¨çš„è¯­è¨€ï¼šen, ar, bn, cs, de, en, es, fa, fi, fr, he, it, ja, ko, no, pl, pt, ro, ru, sv, uk, vi, zh-hans, zh-tw è¿™é‡Œæˆ‘é€‰æ‹©çš„æ˜¯ç®€ä½“ä¸­æ–‡ zh-hans</span>    <span class="token property">"gitbook"</span><span class="token operator">:</span> <span class="token string">"3.2.3"</span><span class="token punctuation">,</span>  <span class="token comment">// æŒ‡å®šä½¿ç”¨çš„ gitbook ç‰ˆæœ¬</span>    <span class="token property">"styles"</span><span class="token operator">:</span> <span class="token punctuation">{</span>  <span class="token comment">// è‡ªå®šä¹‰é¡µé¢æ ·å¼</span>        <span class="token property">"website"</span><span class="token operator">:</span> <span class="token string">"./resources/styles/website.css"</span><span class="token punctuation">,</span>  <span class="token comment">// å½“æ­¤æ—¶çš„ gitbook è¾“å‡ºä¸ºç«™ç‚¹æ¨¡å¼æ—¶ä½¿ç”¨çš„ css æ ·å¼</span>        <span class="token comment">// "ebook": "styles/ebook.css",  // å½“æ­¤æ—¶çš„ gitbook è¾“å‡ºä¸º ebook æ—¶ä½¿ç”¨çš„ css æ ·å¼</span>        <span class="token comment">// "pdf": "styles/pdf.css",  // å½“æ­¤æ—¶çš„ gitbook è¾“å‡ºä¸º pdf æ—¶ä½¿ç”¨çš„ css æ ·å¼</span>        <span class="token comment">// "mobi": "styles/mobi.css",</span>        <span class="token comment">// "epub": "styles/epub.css"        </span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token property">"structure"</span><span class="token operator">:</span> <span class="token punctuation">{</span>  <span class="token comment">// æŒ‡å®š Readmeã€Summaryã€Glossary å’Œ Languages å¯¹åº”çš„æ–‡ä»¶å</span>        <span class="token property">"readme"</span><span class="token operator">:</span> <span class="token string">"README.md"</span><span class="token punctuation">,</span>  <span class="token comment">// è¯¥ä¹¦çš„ä»‹ç» ï¼ˆé»˜è®¤ä¼šåˆ›å»ºï¼‰</span>        <span class="token property">"summary"</span><span class="token operator">:</span> <span class="token string">"SUMMARY.md"</span><span class="token punctuation">,</span>  <span class="token comment">// è¯¥ä¹¦çš„ç« èŠ‚ç»“æ„ ï¼ˆé»˜è®¤ä¼šåˆ›å»ºï¼‰</span>        <span class="token comment">// "glossary": "GLOSSARY.md",  // å¤šè¯­è¨€ä¹¦ç±</span>        <span class="token comment">// "languages": "LANGS.md",  // æœ¯è¯­æè¿°çš„æ¸…å•</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token property">"links"</span><span class="token operator">:</span> <span class="token punctuation">{</span>  <span class="token comment">// åœ¨å·¦ä¾§å¯¼èˆªæ æ·»åŠ é“¾æ¥ä¿¡æ¯</span>        <span class="token property">"sidebar"</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token property">"æˆ‘çš„åšå®¢"</span><span class="token operator">:</span> <span class="token string">"https://drling.xin/"</span><span class="token punctuation">,</span>            <span class="token property">"GitHub"</span><span class="token operator">:</span> <span class="token string">"https://github.com/pudongping"</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token property">"plugins"</span><span class="token operator">:</span> <span class="token punctuation">[</span>  <span class="token comment">// éœ€è¦ä½¿ç”¨çš„æ’ä»¶åˆ—è¡¨ï¼Œæ³¨é‡Šæ’ä»¶çš„æ—¶å€™ç›´æ¥åœ¨æ’ä»¶åç§°å‰åŠ  â€œæ¨ªæ  -â€ï¼Œæ¯”å¦‚æ³¨é‡Š â€œhighlightâ€ æ’ä»¶ä¸º â€œ-highlightâ€</span>        <span class="token string">"-highlight"</span><span class="token punctuation">,</span>        <span class="token string">"-lunr"</span><span class="token punctuation">,</span>        <span class="token string">"-search"</span><span class="token punctuation">,</span>        <span class="token string">"search-pro"</span><span class="token punctuation">,</span>        <span class="token string">"-sharing"</span><span class="token punctuation">,</span>        <span class="token string">"sharing-plus"</span><span class="token punctuation">,</span>        <span class="token string">"fontsettings"</span><span class="token punctuation">,</span>        <span class="token string">"livereload"</span><span class="token punctuation">,</span>        <span class="token string">"expandable-chapters-small"</span><span class="token punctuation">,</span>        <span class="token string">"chapter-fold"</span><span class="token punctuation">,</span>        <span class="token string">"splitter"</span><span class="token punctuation">,</span>        <span class="token string">"hide-element"</span><span class="token punctuation">,</span>        <span class="token string">"back-to-top-button"</span><span class="token punctuation">,</span>        <span class="token string">"favicon"</span><span class="token punctuation">,</span>        <span class="token string">"insert-logo"</span><span class="token punctuation">,</span>        <span class="token string">"pageview-count"</span><span class="token punctuation">,</span>        <span class="token string">"code"</span><span class="token punctuation">,</span>        <span class="token string">"prism"</span><span class="token punctuation">,</span>        <span class="token string">"lightbox"</span><span class="token punctuation">,</span>        <span class="token string">"github"</span><span class="token punctuation">,</span>        <span class="token string">"github-buttons"</span><span class="token punctuation">,</span>        <span class="token string">"donate"</span><span class="token punctuation">,</span>        <span class="token string">"anchor-navigation-ex"</span><span class="token punctuation">,</span>        <span class="token string">"meta"</span><span class="token punctuation">,</span>        <span class="token string">"mygitalk"</span><span class="token punctuation">,</span>        <span class="token string">"change_girls"</span><span class="token punctuation">,</span>        <span class="token string">"simple-mind-map"</span><span class="token punctuation">,</span>        <span class="token string">"image-captions"</span><span class="token punctuation">,</span>        <span class="token string">"todo"</span><span class="token punctuation">,</span>        <span class="token string">"edit-link-plus"</span><span class="token punctuation">,</span>        <span class="token string">"sitemap-general"</span><span class="token punctuation">,</span>        <span class="token string">"rss"</span><span class="token punctuation">,</span>        <span class="token string">"icp"</span><span class="token punctuation">,</span>        <span class="token string">"theme-comscore"</span><span class="token punctuation">,</span>        <span class="token string">"page-copyright"</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token property">"pluginsConfig"</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token property">"sharing"</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token property">"douban"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>            <span class="token property">"facebook"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>            <span class="token property">"google"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>            <span class="token property">"hatenaBookmark"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>            <span class="token property">"instapaper"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>            <span class="token property">"line"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>            <span class="token property">"linkedin"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>            <span class="token property">"messenger"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>            <span class="token property">"pocket"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>            <span class="token property">"qq"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>            <span class="token property">"qzone"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>            <span class="token property">"stumbleupon"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>            <span class="token property">"twitter"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>            <span class="token property">"viber"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>            <span class="token property">"vk"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>            <span class="token property">"weibo"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>            <span class="token property">"whatsapp"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>            <span class="token property">"all"</span><span class="token operator">:</span> <span class="token punctuation">[</span>                <span class="token string">"douban"</span><span class="token punctuation">,</span>                <span class="token string">"facebook"</span><span class="token punctuation">,</span>                <span class="token string">"google"</span><span class="token punctuation">,</span>                <span class="token string">"hatenaBookmark"</span><span class="token punctuation">,</span>                <span class="token string">"instapaper"</span><span class="token punctuation">,</span>                <span class="token string">"line"</span><span class="token punctuation">,</span>                <span class="token string">"linkedin"</span><span class="token punctuation">,</span>                <span class="token string">"messenger"</span><span class="token punctuation">,</span>                <span class="token string">"pocket"</span><span class="token punctuation">,</span>                <span class="token string">"qq"</span><span class="token punctuation">,</span>                <span class="token string">"qzone"</span><span class="token punctuation">,</span>                <span class="token string">"stumbleupon"</span><span class="token punctuation">,</span>                <span class="token string">"twitter"</span><span class="token punctuation">,</span>                <span class="token string">"viber"</span><span class="token punctuation">,</span>                <span class="token string">"vk"</span><span class="token punctuation">,</span>                <span class="token string">"weibo"</span><span class="token punctuation">,</span>                <span class="token string">"whatsapp"</span>            <span class="token punctuation">]</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token property">"hide-element"</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token property">"elements"</span><span class="token operator">:</span> <span class="token punctuation">[</span>                <span class="token string">"a.gitbook-link[href='https://www.gitbook.com']"</span>            <span class="token punctuation">]</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token property">"favicon"</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token property">"shortcut"</span><span class="token operator">:</span> <span class="token string">"./resources/images/favicon.ico"</span><span class="token punctuation">,</span>            <span class="token property">"bookmark"</span><span class="token operator">:</span> <span class="token string">"./resources/images/favicon.ico"</span><span class="token punctuation">,</span>            <span class="token property">"appleTouch"</span><span class="token operator">:</span> <span class="token string">"./resources/images/favicon.png"</span><span class="token punctuation">,</span>            <span class="token property">"appleTouchMore"</span><span class="token operator">:</span> <span class="token punctuation">{</span>                <span class="token property">"120x120"</span><span class="token operator">:</span> <span class="token string">"./resources/images/apple-touch-icon-120x120.png"</span><span class="token punctuation">,</span>                <span class="token property">"180x180"</span><span class="token operator">:</span> <span class="token string">"./resources/images/apple-touch-icon-180x180.png"</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token property">"insert-logo"</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token property">"url"</span><span class="token operator">:</span> <span class="token string">"/resources/images/favicon.png"</span><span class="token punctuation">,</span>            <span class="token property">"style"</span><span class="token operator">:</span> <span class="token string">"background: none; max-height: 30px; min-height: 30px"</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token property">"prism"</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token property">"css"</span><span class="token operator">:</span> <span class="token punctuation">[</span>                <span class="token string">"prismjs/themes/prism-solarizedlight.css"</span>            <span class="token punctuation">]</span><span class="token punctuation">,</span>            <span class="token property">"lang"</span><span class="token operator">:</span> <span class="token punctuation">{</span>                <span class="token property">"shell"</span><span class="token operator">:</span> <span class="token string">"bash"</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token property">"lightbox"</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token property">"sameUuid"</span><span class="token operator">:</span> <span class="token boolean">true</span>  <span class="token comment">// å¼€å¯äº†è¿™ä¸ªå±æ€§ä¹‹åæ”¯æŒåœ¨å¼¹å±‚ï¼Œå·¦å³åˆ‡æ¢å›¾ç‰‡</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token property">"github"</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token property">"url"</span><span class="token operator">:</span> <span class="token string">"https://github.com/pudongping"</span>  <span class="token comment">// åœ¨å³ä¸Šè§’ä¼šæ˜¾ç¤ºå¾ˆå°çš„ github çš„å®˜æ–¹å›¾æ ‡</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token property">"github-buttons"</span><span class="token operator">:</span> <span class="token punctuation">{</span>  <span class="token comment">// åœ¨å³ä¸Šè§’ä¼šæ˜¾ç¤º github å›¾æ ‡çš„ button</span>            <span class="token property">"buttons"</span><span class="token operator">:</span> <span class="token punctuation">[</span>                <span class="token punctuation">{</span>                    <span class="token property">"user"</span><span class="token operator">:</span> <span class="token string">"pudongping"</span><span class="token punctuation">,</span>                    <span class="token property">"repo"</span><span class="token operator">:</span> <span class="token string">"glory"</span><span class="token punctuation">,</span>                    <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"star"</span><span class="token punctuation">,</span>                    <span class="token property">"count"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                    <span class="token property">"size"</span><span class="token operator">:</span> <span class="token string">"small"</span>                <span class="token punctuation">}</span>            <span class="token punctuation">]</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token property">"donate"</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token property">"alipay"</span><span class="token operator">:</span> <span class="token string">"/resources/images/donate.png"</span><span class="token punctuation">,</span>            <span class="token property">"title"</span><span class="token operator">:</span> <span class="token string">"\"è‹¥æœ‰å…±é¸£ï¼Œç•™è¨€è¶³çŸ£ï¼Œè‹¥æœ‰èµèµï¼Œä½•ä»¥å¤åŠ ï¼Ÿ\""</span><span class="token punctuation">,</span>            <span class="token property">"button"</span><span class="token operator">:</span> <span class="token string">"èµèµ"</span><span class="token punctuation">,</span>            <span class="token property">"alipayText"</span><span class="token operator">:</span> <span class="token string">"å¾®ä¿¡/æ”¯ä»˜å®/QQ"</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token property">"anchor-navigation-ex"</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token property">"showLevel"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token comment">// å³ä¸Šè§’æµ®å±‚ç›®å½•æ˜¾ç¤ºåºå·</span>            <span class="token property">"showGoTop"</span><span class="token operator">:</span> <span class="token boolean">false</span>  <span class="token comment">// ä¸æ˜¾ç¤ºå›åˆ°é¡¶éƒ¨çš„å›¾æ ‡ï¼Œä¸å»ºè®®å¼€å¯è¿™ä¸ªå±æ€§ï¼Œå› ä¸ºè¿™ä¸ªå›¾æ ‡æ€»æ˜¯æ˜¾ç¤ºï¼Œä¸åƒ â€œback-to-top-buttonâ€ æ’ä»¶è¿˜å¯ä»¥è‡ªåŠ¨æ˜¾ç¤ºå’Œéšè—</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token property">"meta"</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token property">"data"</span><span class="token operator">:</span> <span class="token punctuation">[</span>                <span class="token punctuation">{</span>                    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"referrer"</span><span class="token punctuation">,</span>                    <span class="token property">"content"</span><span class="token operator">:</span> <span class="token string">"never"</span>                <span class="token punctuation">}</span>            <span class="token punctuation">]</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token property">"mygitalk"</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token property">"clientID"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>  <span class="token comment">// GitHub å¼€å‘è€…è®¾ç½®ï¼Œå®¢æˆ·ç«¯è¿æ¥æ ‡è¯†</span>            <span class="token property">"clientSecret"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>  <span class="token comment">// GitHub å¼€å‘è€…è®¾ç½®ï¼Œå®¢æˆ·ç«¯ç§˜é’¥</span>            <span class="token property">"repo"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>  <span class="token comment">// GitHub ä»“åº“å</span>            <span class="token property">"owner"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>  <span class="token comment">// GitHub ä»“åº“æ‰€æœ‰è€…</span>            <span class="token property">"admin"</span><span class="token operator">:</span> <span class="token punctuation">[</span>  <span class="token comment">// GitHub ä»“åº“ç®¡ç†è€…ï¼Œæ”¯æŒå¤šä¸ªç®¡ç†è€…</span>                <span class="token string">"admin-1"</span><span class="token punctuation">,</span>                <span class="token string">"admin-2"</span>            <span class="token punctuation">]</span><span class="token punctuation">,</span>            <span class="token property">"distractionFreeMode"</span><span class="token operator">:</span> <span class="token boolean">false</span>  <span class="token comment">// ç±»ä¼¼ Facebook è¯„è®ºæ¡†çš„å…¨å±é®ç½©æ•ˆæœ,é»˜è®¤å€¼: false</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token property">"change_girls"</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token property">"time"</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token comment">// æ¯ 5 ç§’åˆ‡æ¢ä¸€æ¬¡èƒŒæ™¯</span>            <span class="token property">"urls"</span><span class="token operator">:</span> <span class="token punctuation">[</span>                <span class="token string">"https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1605033246957&amp;di=d6170f1a9f0466f270ad1baee847eab9&amp;imgtype=0&amp;src=http%3A%2F%2Fpic1.win4000.com%2Fwallpaper%2Fe%2F55f26f55e9138.jpg"</span><span class="token punctuation">,</span>                <span class="token string">"https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1605033334002&amp;di=4ef73db6c98fb737f5a3068670160056&amp;imgtype=0&amp;src=http%3A%2F%2Fww3.sinaimg.cn%2Flarge%2Fd2e27164gw1fbmwbgf0mij21hc0u0487.jpg"</span>            <span class="token punctuation">]</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token property">"simple-mind-map"</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"markdown"</span><span class="token punctuation">,</span>            <span class="token property">"preset"</span><span class="token operator">:</span> <span class="token string">"colorful"</span><span class="token punctuation">,</span>            <span class="token property">"linkShape"</span><span class="token operator">:</span> <span class="token string">"diagonal"</span><span class="token punctuation">,</span>            <span class="token property">"autoFit"</span><span class="token operator">:</span> <span class="token boolean">true</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token property">"image-captions"</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token property">"caption"</span><span class="token operator">:</span> <span class="token string">"sugaryesp çš„ç¬”è®° - _PAGE_LEVEL_._PAGE_IMAGE_NUMBER_ - _CAPTION_"</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token property">"edit-link-plus"</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token property">"base"</span><span class="token operator">:</span> <span class="token punctuation">{</span>                <span class="token property">"edit-link-name-1"</span><span class="token operator">:</span> <span class="token string">"edit-link-1"</span><span class="token punctuation">,</span>                <span class="token property">"edit-link-name-2"</span><span class="token operator">:</span> <span class="token string">"edit-link-2"</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token property">"defaultBase"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>  <span class="token comment">// è¿™é‡Œå¡«å†™é“¾æ¥åœ°å€</span>            <span class="token property">"label"</span><span class="token operator">:</span> <span class="token string">"ç¼–è¾‘æœ¬é¡µ"</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token property">"sitemap-general"</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token property">"prefix"</span><span class="token operator">:</span> <span class="token string">"http://notes.drling.xin/"</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token property">"rss"</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token property">"title"</span><span class="token operator">:</span> <span class="token string">"sugaryesp çš„ç¬”è®°"</span><span class="token punctuation">,</span>            <span class="token property">"description"</span><span class="token operator">:</span> <span class="token string">"å‰Šä¸ªæ¤°å­çš®_ç»™ä¸ªæ¢¨çš„ç¬”è®°"</span><span class="token punctuation">,</span>            <span class="token property">"author"</span><span class="token operator">:</span> <span class="token string">"Alex"</span><span class="token punctuation">,</span>            <span class="token property">"site_url"</span><span class="token operator">:</span> <span class="token string">"http://notes.drling.xin"</span><span class="token punctuation">,</span>            <span class="token property">"feed_url"</span><span class="token operator">:</span> <span class="token string">"http://notes.drling.xin/rss"</span><span class="token punctuation">,</span>            <span class="token property">"managingEditor"</span><span class="token operator">:</span> <span class="token string">"276558492@qq.com (Alex Pu)"</span><span class="token punctuation">,</span>            <span class="token property">"webMaster"</span><span class="token operator">:</span> <span class="token string">"276558492@qq.com (Alex Pu)"</span><span class="token punctuation">,</span>            <span class="token property">"categories"</span><span class="token operator">:</span> <span class="token punctuation">[</span>                <span class="token string">"markdown"</span><span class="token punctuation">,</span>                <span class="token string">"git"</span><span class="token punctuation">,</span>                <span class="token string">"gitee"</span><span class="token punctuation">,</span>                <span class="token string">"github"</span><span class="token punctuation">,</span>                <span class="token string">"php"</span><span class="token punctuation">,</span>                <span class="token string">"python"</span><span class="token punctuation">,</span>                <span class="token string">"vue.js"</span>            <span class="token punctuation">]</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token property">"icp"</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token property">"number"</span><span class="token operator">:</span> <span class="token string">"é„‚ICPå¤‡18004705å·"</span><span class="token punctuation">,</span>            <span class="token property">"link"</span><span class="token operator">:</span> <span class="token string">"https://beian.miit.gov.cn/"</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token property">"page-copyright"</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token property">"description"</span><span class="token operator">:</span> <span class="token string">"modified at:"</span><span class="token punctuation">,</span>            <span class="token property">"signature"</span><span class="token operator">:</span> <span class="token string">"Alex"</span><span class="token punctuation">,</span>            <span class="token property">"wisdom"</span><span class="token operator">:</span> <span class="token string">"Artisan, Backend Developer &amp; overall web enthusiast"</span><span class="token punctuation">,</span>            <span class="token property">"format"</span><span class="token operator">:</span> <span class="token string">"YYYY-MM-dd hh:mm:ss"</span><span class="token punctuation">,</span>            <span class="token property">"copyright"</span><span class="token operator">:</span> <span class="token string">"Copyright &amp;#169; Alex"</span><span class="token punctuation">,</span>            <span class="token property">"timeColor"</span><span class="token operator">:</span> <span class="token string">"#666"</span><span class="token punctuation">,</span>            <span class="token property">"copyrightColor"</span><span class="token operator">:</span> <span class="token string">"#666"</span><span class="token punctuation">,</span>            <span class="token property">"utcOffset"</span><span class="token operator">:</span> <span class="token string">"8"</span><span class="token punctuation">,</span>            <span class="token property">"style"</span><span class="token operator">:</span> <span class="token string">"normal"</span><span class="token punctuation">,</span>            <span class="token property">"noPowered"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>            <span class="token property">"baseUri"</span><span class="token operator">:</span> <span class="token string">"http://notes.drling.xin/"</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å¦‚æœä½¿ç”¨-gitbook-install-å®‰è£…æ’ä»¶å¤ªæ…¢ï¼Œå¯ä»¥ä½¿ç”¨-npm-init-åˆå§‹åŒ–é¡¹ç›®ï¼Œç„¶åå†ä½¿ç”¨-npm-install-å®‰è£…æ’ä»¶"><a href="#å¦‚æœä½¿ç”¨-gitbook-install-å®‰è£…æ’ä»¶å¤ªæ…¢ï¼Œå¯ä»¥ä½¿ç”¨-npm-init-åˆå§‹åŒ–é¡¹ç›®ï¼Œç„¶åå†ä½¿ç”¨-npm-install-å®‰è£…æ’ä»¶" class="headerlink" title="å¦‚æœä½¿ç”¨ gitbook install å®‰è£…æ’ä»¶å¤ªæ…¢ï¼Œå¯ä»¥ä½¿ç”¨ npm init åˆå§‹åŒ–é¡¹ç›®ï¼Œç„¶åå†ä½¿ç”¨ npm install å®‰è£…æ’ä»¶"></a>å¦‚æœä½¿ç”¨ gitbook install å®‰è£…æ’ä»¶å¤ªæ…¢ï¼Œå¯ä»¥ä½¿ç”¨ npm init åˆå§‹åŒ–é¡¹ç›®ï¼Œç„¶åå†ä½¿ç”¨ npm install å®‰è£…æ’ä»¶</h2><pre class="line-numbers language-none"><code class="language-none">cd project-directory &amp;&amp; npm init// æ¯”å¦‚å®‰è£… livereload æ’ä»¶npm install gitbook-plugin-livereload<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è¿™æ˜¯æˆ‘çš„-package-json"><a href="#è¿™æ˜¯æˆ‘çš„-package-json" class="headerlink" title="è¿™æ˜¯æˆ‘çš„ package.json"></a>è¿™æ˜¯æˆ‘çš„ package.json</h3><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">{</span>  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"glory"</span><span class="token punctuation">,</span>  <span class="token property">"version"</span><span class="token operator">:</span> <span class="token string">"1.0.0"</span><span class="token punctuation">,</span>  <span class="token property">"description"</span><span class="token operator">:</span> <span class="token string">"Alex's notes"</span><span class="token punctuation">,</span>  <span class="token property">"main"</span><span class="token operator">:</span> <span class="token string">" "</span><span class="token punctuation">,</span>  <span class="token property">"dependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token property">"gitbook-plugin-anchor-navigation-ex"</span><span class="token operator">:</span> <span class="token string">"^1.0.14"</span><span class="token punctuation">,</span>    <span class="token property">"gitbook-plugin-back-to-top-button"</span><span class="token operator">:</span> <span class="token string">"^0.1.4"</span><span class="token punctuation">,</span>    <span class="token property">"gitbook-plugin-change_girls"</span><span class="token operator">:</span> <span class="token string">"^2.2.1"</span><span class="token punctuation">,</span>    <span class="token property">"gitbook-plugin-chapter-fold"</span><span class="token operator">:</span> <span class="token string">"^0.0.4"</span><span class="token punctuation">,</span>    <span class="token property">"gitbook-plugin-code"</span><span class="token operator">:</span> <span class="token string">"^0.1.0"</span><span class="token punctuation">,</span>    <span class="token property">"gitbook-plugin-donate"</span><span class="token operator">:</span> <span class="token string">"^1.0.2"</span><span class="token punctuation">,</span>    <span class="token property">"gitbook-plugin-edit-link-plus"</span><span class="token operator">:</span> <span class="token string">"^0.1.1"</span><span class="token punctuation">,</span>    <span class="token property">"gitbook-plugin-expandable-chapters-small"</span><span class="token operator">:</span> <span class="token string">"^0.1.7"</span><span class="token punctuation">,</span>    <span class="token property">"gitbook-plugin-favicon"</span><span class="token operator">:</span> <span class="token string">"^0.0.2"</span><span class="token punctuation">,</span>    <span class="token property">"gitbook-plugin-fontsettings"</span><span class="token operator">:</span> <span class="token string">"^2.0.0"</span><span class="token punctuation">,</span>    <span class="token property">"gitbook-plugin-github"</span><span class="token operator">:</span> <span class="token string">"^2.0.0"</span><span class="token punctuation">,</span>    <span class="token property">"gitbook-plugin-github-buttons"</span><span class="token operator">:</span> <span class="token string">"^3.0.0"</span><span class="token punctuation">,</span>    <span class="token property">"gitbook-plugin-hide-element"</span><span class="token operator">:</span> <span class="token string">"^0.0.4"</span><span class="token punctuation">,</span>    <span class="token property">"gitbook-plugin-icp"</span><span class="token operator">:</span> <span class="token string">"^0.1.2"</span><span class="token punctuation">,</span>    <span class="token property">"gitbook-plugin-image-captions"</span><span class="token operator">:</span> <span class="token string">"^3.1.0"</span><span class="token punctuation">,</span>    <span class="token property">"gitbook-plugin-insert-logo"</span><span class="token operator">:</span> <span class="token string">"^0.1.5"</span><span class="token punctuation">,</span>    <span class="token property">"gitbook-plugin-lightbox"</span><span class="token operator">:</span> <span class="token string">"^1.2.0"</span><span class="token punctuation">,</span>    <span class="token property">"gitbook-plugin-livereload"</span><span class="token operator">:</span> <span class="token string">"0.0.1"</span><span class="token punctuation">,</span>    <span class="token property">"gitbook-plugin-meta"</span><span class="token operator">:</span> <span class="token string">"^0.1.12"</span><span class="token punctuation">,</span>    <span class="token property">"gitbook-plugin-mygitalk"</span><span class="token operator">:</span> <span class="token string">"^0.2.6"</span><span class="token punctuation">,</span>    <span class="token property">"gitbook-plugin-page-copyright"</span><span class="token operator">:</span> <span class="token string">"^1.0.8"</span><span class="token punctuation">,</span>    <span class="token property">"gitbook-plugin-pageview-count"</span><span class="token operator">:</span> <span class="token string">"^1.0.1"</span><span class="token punctuation">,</span>    <span class="token property">"gitbook-plugin-prism"</span><span class="token operator">:</span> <span class="token string">"^2.4.0"</span><span class="token punctuation">,</span>    <span class="token property">"gitbook-plugin-rss"</span><span class="token operator">:</span> <span class="token string">"^3.0.2"</span><span class="token punctuation">,</span>    <span class="token property">"gitbook-plugin-search-pro"</span><span class="token operator">:</span> <span class="token string">"^2.0.2"</span><span class="token punctuation">,</span>    <span class="token property">"gitbook-plugin-sharing-plus"</span><span class="token operator">:</span> <span class="token string">"^0.0.2"</span><span class="token punctuation">,</span>    <span class="token property">"gitbook-plugin-simple-mind-map"</span><span class="token operator">:</span> <span class="token string">"^0.2.4"</span><span class="token punctuation">,</span>    <span class="token property">"gitbook-plugin-sitemap-general"</span><span class="token operator">:</span> <span class="token string">"^0.1.1"</span><span class="token punctuation">,</span>    <span class="token property">"gitbook-plugin-splitter"</span><span class="token operator">:</span> <span class="token string">"^0.0.8"</span><span class="token punctuation">,</span>    <span class="token property">"gitbook-plugin-theme-comscore"</span><span class="token operator">:</span> <span class="token string">"0.0.3"</span><span class="token punctuation">,</span>    <span class="token property">"gitbook-plugin-todo"</span><span class="token operator">:</span> <span class="token string">"^0.1.3"</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token property">"devDependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token property">"test"</span><span class="token operator">:</span> <span class="token string">" "</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token property">"repository"</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"git"</span><span class="token punctuation">,</span>    <span class="token property">"url"</span><span class="token operator">:</span> <span class="token string">"git+https://github.com/pudongping/glory.git"</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token property">"keywords"</span><span class="token operator">:</span> <span class="token punctuation">[</span>    <span class="token string">"Artisan"</span>  <span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token property">"author"</span><span class="token operator">:</span> <span class="token string">"Alex"</span><span class="token punctuation">,</span>  <span class="token property">"license"</span><span class="token operator">:</span> <span class="token string">"MIT"</span><span class="token punctuation">,</span>  <span class="token property">"bugs"</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token property">"url"</span><span class="token operator">:</span> <span class="token string">"https://github.com/pudongping/glory/issues"</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token property">"homepage"</span><span class="token operator">:</span> <span class="token string">"https://github.com/pudongping/glory#readme"</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> å¼€æº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GitHub </tag>
            
            <tag> åšå®¢ </tag>
            
            <tag> GitBook </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2019 å¹´ 9 æœˆ 6 æ—¥é­”éƒ½ä¸Šæµ·é™å®‰è€ƒçº¢å¸½ rhcsaã€rhce è®°å½•</title>
      <link href="posts/8dcd0c17.html"/>
      <url>posts/8dcd0c17.html</url>
      
        <content type="html"><![CDATA[<h1 id="2019-09-06-é­”éƒ½ä¸Šæµ·é™å®‰è€ƒçº¢å¸½rhceè®°å½•"><a href="#2019-09-06-é­”éƒ½ä¸Šæµ·é™å®‰è€ƒçº¢å¸½rhceè®°å½•" class="headerlink" title="2019-09-06 é­”éƒ½ä¸Šæµ·é™å®‰è€ƒçº¢å¸½rhceè®°å½•"></a>2019-09-06 é­”éƒ½ä¸Šæµ·é™å®‰è€ƒçº¢å¸½rhceè®°å½•</h1><h3 id="å‘æ–‡ç”³æ˜"><a href="#å‘æ–‡ç”³æ˜" class="headerlink" title="å‘æ–‡ç”³æ˜"></a>å‘æ–‡ç”³æ˜</h3><blockquote><ol><li>æœ¬æ–‡ä»…å¯¹è‡ªå·±ç»ƒä¹  rhce é¢˜ç›®åšä¸€ä¸ªè®°å½•ï¼ŒåŒæ—¶çºªå¿µè‡ªå·±è€ƒè¯•ç»å†ã€‚ä¸æ¶‰åŠä»»ä½•æ¨å¹¿æˆ–å¹¿å‘Šã€‚</li><li>æ–‡ä¸­é¢˜åº“æ¥æºäºâ€œæ·˜å®ç¯å¢ƒâ€ï¼ˆä¸€èˆ¬å‚è€ƒæœ‹å‹éƒ½æ˜ç™½æŒ‡çš„æ˜¯å“ªä¸€å¥—ç¯å¢ƒï¼Œå¦‚æœç¡®å®ä¸çŸ¥é“ï¼Œå¯ä»¥ç»™æˆ‘ç•™è¨€ï¼Œæˆ‘å¯ä»¥è´¡çŒ®ä¸€ä»½ã€‚å½“å¤©å»è€ƒåœºçš„æ—¶å€™ï¼Œæˆ‘ä»¬åœ¨é™å®‰è€ƒåœºå‘ç°è€ƒåœºä½¿ç”¨çš„ç»ƒä¹ ç¯å¢ƒä¹Ÿæ˜¯â€œæ·˜å®ç¯å¢ƒâ€ï¼Œä¸å¾—ä¸è¯´é¢˜åº“è¿˜æ˜¯æ¯”è¾ƒå‡†ç¡®çš„ï¼‰</li><li>â€œæ·˜å®ç¯å¢ƒâ€å‰ 1-6 é¢˜ï¼Œå› ä¸ºå¤§éƒ¨åˆ†å¯ä»¥ç›´æ¥ä½¿ç”¨å›¾å½¢åŒ–ç•Œé¢ç­”é¢˜ï¼Œé¿å…é€šç¯‡éƒ½æ˜¯å›¾ç‰‡ï¼Œå‰ 1-6 é¢˜ï¼Œåªä¼šç½—åˆ—å‡ºå…³é”®æ­¥éª¤ï¼Œå…·ä½“æ­¥éª¤è¯·å‚è€ƒâ€œæ·˜å®ç¯å¢ƒâ€é…å¥—æä¾›çš„æ•™å­¦è§†é¢‘è§£é¢˜ã€‚æœ¬æ–‡å°†ä»ç¬¬ 7 é¢˜å¼€å§‹è¯¦ç»†æä¾›å‚è€ƒè§£ç­”æ–¹æ¡ˆã€‚</li></ol></blockquote><h3 id="å…³äºç»ƒé¢˜å¿ƒæ€"><a href="#å…³äºç»ƒé¢˜å¿ƒæ€" class="headerlink" title="å…³äºç»ƒé¢˜å¿ƒæ€"></a>å…³äºç»ƒé¢˜å¿ƒæ€</h3><ul><li>åˆšå¼€å§‹ç»ƒé¢˜çš„æ—¶å€™ï¼Œè‚¯å®šä¼šæœ‰å¾ˆå¤šä¸ç†Ÿæ‚‰çš„åœ°æ–¹ï¼Œå»ºè®®å¯ä»¥é’ˆå¯¹æ€§çš„ç»ƒä¹ ï¼Œå¯ä»¥å…ˆé’ˆå¯¹è‡ªå·±è§‰å¾—æ¯”è¾ƒéš¾çš„é¢˜ç›®ç»ƒä¹ ï¼Œä½†ä¸€å®šè¦åˆ‡è®°æ³¨æ„é¢˜ä¸é¢˜ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚</li><li>ä¸€å®šè¦æ³¨æ„ï¼Œå‘ä»–äººè¯·æ•™è§£é¢˜çš„æ–¹æ³•ä»…ä¾›è‡ªå·±å‚è€ƒï¼Œå¯»æ‰¾é€‚åˆè‡ªå·±çš„æ–¹å¼æ–¹æ³•ï¼Œæœ€ä¸ºé‡è¦ï¼</li><li>å°‘å¬ä¸€äº›è€ƒç”ŸæŠ±æ€¨è€ƒåœºç¯å¢ƒä¹‹ç±»çš„ï¼Œä½ è¦ç›¸ä¿¡ï¼Œåªè¦æ˜¯ä½ è‡ªå·±ç»ƒçš„å¥½ï¼Œå†åƒåœ¾çš„ç¯å¢ƒï¼Œä½ éƒ½èƒ½å¤Ÿä¿è¯ä½ å¯ä»¥è€ƒè¿‡ã€‚å½“ç„¶ä½ ä¹Ÿå¯ä»¥å‘ç°ï¼Œå–œæ¬¢æŠ±æ€¨çš„è€ƒç”Ÿè‡ªèº«æœ¬æ¥å°±ç»ƒçš„ä¸æ€ä¹ˆæ ·ã€‚</li><li>CE ç»ƒé¢˜ï¼Œä¸€å®šè¦è®©è‡ªå·±è¾¾åˆ°æ‰«ä¸€çœ¼é¢˜ç›®å°±çŸ¥é“è¯¥é¢˜ç›®çš„è§£é¢˜æ­¥éª¤è¿™æ ·çš„å¢ƒç•Œï¼Œå…ˆåœ¨è„‘æµ·ä¸­æ€è€ƒä¸€ä¸‹ç­”é¢˜æ­¥éª¤ï¼Œå†ç­”é¢˜ã€‚</li><li>è€ƒè¯•æ—¶ä¸€æ¡å‘½ä»¤æ•²å®Œä¹‹åï¼Œå¼ºçƒˆå»ºè®®ä¸è¦é©¬ä¸Šå°±æ•²å›è½¦ï¼Œå†æ£€æŸ¥ä¸€ä¸‹è‡ªå·±æ•²çš„å‘½ä»¤ï¼Œç¡®è®¤æ— è¯¯ä¹‹åå†å›è½¦ã€‚ä½ è¦ç›¸ä¿¡æ’é”™æ¯”ä½ æ£€æŸ¥è¦èŠ±æ—¶é—´å¤šå¾—å¤šï¼Œå¹¶ä¸”æœ‰æ—¶å€™ä½ ä¸€æ—¦å‘½ä»¤æ•²é”™äº†ï¼Œå¯èƒ½ä¼šå¯¼è‡´å‰©ä¸‹çš„é¢˜ç›®æ— æ³•ç»§ç»­ä¸‹å»ã€‚æ¯”å¦‚ï¼šåˆ†åŒºæ—¶ï¼Œä½ ä¸€ä¸å°å¿ƒåˆ†äº† 4 ä¸ªä¸»åˆ†åŒºï¼Œç„¶è€Œä½ åˆä¸ä¼šåˆ é™¤åˆ†åŒºï¼Œè¿™æ ·å°±ç›´æ¥å¯¼è‡´ä½ åé¢å…³äºåˆ†åŒºçš„é¢˜ç›®æ— æ³•è¿›è¡Œã€‚å¾—ä¸å¿å¤±ï¼</li><li>è€ƒè¯•åšå®Œä¹‹åï¼Œå¼ºçƒˆå»ºè®®å…ˆæ•²å‡» <code>sync</code> å‘½ä»¤å¼ºåˆ¶åŒæ­¥æ•°æ®åˆ°ç¡¬ç›˜ä¸­ï¼Œç„¶åå…ˆå…³é—­ system2 ï¼ˆå®¢æˆ·ç«¯ï¼‰å†å…³é—­ system1ï¼ˆæœåŠ¡ç«¯ï¼‰ï¼Œå¼€æœºçš„æ—¶å€™å…ˆå¼€å¯ system1 ï¼ˆæœåŠ¡ç«¯ï¼‰å†å¼€å¯ system2 ï¼ˆå®¢æˆ·ç«¯ï¼‰ï¼ŒåŸå› ï¼šsystem1 æä¾›æœåŠ¡ï¼Œsystem2 æŒ‚è½½æœåŠ¡ï¼Œå¼€å…³æœºé¡ºåºä¸æ­£ç¡®ï¼Œæå¤§å¯èƒ½æ€§ä¼šå¯¼è‡´æŒ‚è½½å¤±è´¥ï¼</li><li>å¦å¤–ï¼ŒæŒ‚è½½ iscsi ç½‘ç»œå­˜å‚¨æ—¶ï¼Œä¸€å®šè¦æ³¨æ„æ·»åŠ  <code>_netdev</code> å‚æ•°ï¼Œé˜²æ­¢å› ä¸ºç½‘ç»œåŸå› ï¼Œå¯¼è‡´æŒ‚è½½å¤±è´¥ï¼</li><li>ä¹ æ­¦ä¹‹äººï¼Œä¸æ€•ç»ƒåƒä¸‡æ‹›ï¼Œå°±æ€•ä¸€æ‹›ç»ƒåƒä¸‡éï¼ç¥å¤§å®¶è€ƒè¯•é¡ºåˆ©ï¼</li></ul><h3 id="è€ƒè¯•èƒŒæ™¯"><a href="#è€ƒè¯•èƒŒæ™¯" class="headerlink" title="è€ƒè¯•èƒŒæ™¯"></a>è€ƒè¯•èƒŒæ™¯</h3><blockquote><p>è€ƒè¯•åœ°ç‚¹ï¼šä¸Šæµ·é™å®‰è€ƒåœºï¼ˆä¸Šæµ·é™å®‰åŒºä¹Ÿå°±é‚£ä¹ˆä¸€ä¸ªè€ƒåœºï¼Œä¸ºé¿å…å¹¿å‘Šä¹‹å«Œï¼Œå…·ä½“ä½ç½®è¯·è‡ªå·±æŸ¥è¯¢ï¼Œæˆ–ç›´æ¥ç»™æˆ‘ç•™è¨€ï¼‰<br>è€ƒåœºç¯å¢ƒï¼šç³»ç»Ÿä¸º redhat 7.0 64 ä½ï¼Œä½¿ç”¨ kvm è™šæ‹Ÿæœºï¼Œå› æ­¤éœ€æ³¨æ„ç¡¬ç›˜ä¸º <code>/dev/vd*</code><br>è€ƒè¯•æ—¶é—´ï¼š2019 å¹´ 9 æœˆ 6 æ—¥</p></blockquote><h3 id="é¢˜åº“åˆ†ç±»"><a href="#é¢˜åº“åˆ†ç±»" class="headerlink" title="é¢˜åº“åˆ†ç±»"></a>é¢˜åº“åˆ†ç±»</h3><p>å¦‚æœæŠŠ RHCE é¢˜åº“åšä¸€ä¸ªåˆ†ç±»ï¼Œé‚£ä¹ˆæˆ‘åšçš„åˆ†ç±»å¦‚ä¸‹ï¼š</p><ul><li>postfix é‚®ä»¶æœåŠ¡ç±»</li><li>samba å…±äº«æœåŠ¡ç±»</li><li>nfs å…±äº«æœåŠ¡ç±»</li><li>Apache web æœåŠ¡ç±»</li><li>è„šæœ¬ç±»</li><li>iscsi ç½‘ç»œå­˜å‚¨ç±»</li><li>MariaDB æ•°æ®åº“ç±»</li></ul><h3 id="æœ¬äººè§£é¢˜æ•´ä½“æ­¥éª¤ä¸º"><a href="#æœ¬äººè§£é¢˜æ•´ä½“æ­¥éª¤ä¸º" class="headerlink" title="æœ¬äººè§£é¢˜æ•´ä½“æ­¥éª¤ä¸º"></a>æœ¬äººè§£é¢˜æ•´ä½“æ­¥éª¤ä¸º</h3><ol><li> éœ€è¦å®‰è£…æœåŠ¡ï¼Œåˆ™ä¼˜å…ˆå®‰è£…æœåŠ¡</li><li> å¦‚æœéœ€è¦åˆ›å»ºæ–‡ä»¶å¤¹ï¼Œåˆ™ä¼˜å…ˆåˆ›å»ºæ–‡ä»¶å¤¹ï¼ˆå¹¶ä¸”è®¾ç½® selinux ä¸Šä¸‹æ–‡ï¼‰</li><li> å¦‚æœéœ€è¦åˆ›å»ºæœåŠ¡è´¦å·ï¼Œåˆ™ä¼˜å…ˆåˆ›å»ºæœåŠ¡è´¦å·</li><li> å†™é…ç½®æ–‡ä»¶</li><li> é‡å¯æœåŠ¡ï¼Œå¹¶å°†æœåŠ¡åŠ å…¥å¼€æœºå¯åŠ¨é¡¹</li><li> è®¾ç½®ç›¸åº”çš„é˜²ç«å¢™ï¼ˆä¼˜å…ˆä½¿ç”¨é˜²ç«å¢™ä¸­çš„å¯Œè§„åˆ™è¿‡æ»¤ï¼Œå› ä¸ºå¯Œè§„åˆ™çš„ä¼˜å…ˆçº§æœ€é«˜ï¼‰</li><li> ç®€å•æµ‹è¯•ä¸€ä¸‹</li></ol><p>RHCE è€ƒè¯•æ­¥éª¤è¾ƒå¤šï¼Œå¦‚æœå®Œå…¨é è‡ªå·±æ­»è®°ç¡¬èƒŒï¼ŒåŸºæœ¬ä¸Šå¾ˆéš¾é€šè¿‡è€ƒè¯•ï¼Œä½†æ˜¯å¦‚æœèƒ½å¤ŸæŒ‰ç…§ä»¥ä¸Šçš„è§£é¢˜æ­¥éª¤æ¥ï¼Œå¤šåŠæƒ…å†µä¸‹ä¸ä¼šå¿˜è®°æ­¥éª¤ï¼Œä¸‹æ–‡æˆ‘å°†æä¾›æœ¬äººçš„è§£é¢˜æ­¥éª¤ï¼Œä»¥ä¾›å„ä½å‚è€ƒã€‚</p><h2 id="æ·˜å®é¢˜åº“"><a href="#æ·˜å®é¢˜åº“" class="headerlink" title="æ·˜å®é¢˜åº“"></a>æ·˜å®é¢˜åº“</h2><p>ç¯å¢ƒè¯´æ˜ï¼š</p><blockquote><p>system1.group8.example.com ï¼š 172.24.8.11/24   ä½œä¸ºæœåŠ¡å™¨<br>system2.group8.example.com ï¼š 172.24.8.12/24   ä½œä¸ºå®¢æˆ·ç«¯<br>server.group8.example.com æä¾›äº†YUMè½¯ä»¶ä»“åº“ï¼ŒURLæ˜¯ <a href="http://server.group8.example.com/yum">http://server.group8.example.com/yum</a></p></blockquote><ul><li><h5 id="system1-å’Œ-system2-éœ€è¦å…ˆé…ç½®-yum-ä»“åº“"><a href="#system1-å’Œ-system2-éœ€è¦å…ˆé…ç½®-yum-ä»“åº“" class="headerlink" title="system1 å’Œ system2 éœ€è¦å…ˆé…ç½® yum ä»“åº“"></a>system1 å’Œ system2 éœ€è¦å…ˆé…ç½® yum ä»“åº“</h5><code>system1</code> å’Œ <code>system2</code><pre class="line-numbers language-none"><code class="language-none">[root@system1 Desktop]# vim /etc/yum.repos.d/rhce.repo[root@system1 Desktop]# yum clean all[root@system1 Desktop]# yum makecache<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-2b14dc0d49d4280f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></li></ul><p>rhce.repo æ–‡ä»¶ä¸­å†…å®¹</p><pre class="line-numbers language-none"><code class="language-none">[rhce]name=rhcebaseurl=http://server.group8.example.com/yumenabled=1gpgcheck=0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-0b49bcdc721261dc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><hr><ul><li><h5 id="ç¬¬ä¸€é¢˜ï¼šè®¾å®š-SELinux"><a href="#ç¬¬ä¸€é¢˜ï¼šè®¾å®š-SELinux" class="headerlink" title="ç¬¬ä¸€é¢˜ï¼šè®¾å®š SELinux"></a>ç¬¬ä¸€é¢˜ï¼šè®¾å®š SELinux</h5>åœ¨ system1 å’Œ system2 ä¸Šè¦æ±‚ SELinux çš„å·¥ä½œæ¨¡å¼ä¸º enforcing :</li></ul><p>1.è¦æ±‚ç³»ç»Ÿé‡å¯åä¾ç„¶ç”Ÿæ•ˆã€‚</p><p><code>å‚è€ƒè§£é¢˜æ­¥éª¤ï¼š</code></p><p><code>system1</code> å’Œ <code>system2</code></p><pre class="line-numbers language-none"><code class="language-none">[root@system1 Desktop]# vim /etc/selinux/config <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><hr><ul><li><h5 id="ç¬¬äºŒé¢˜ï¼šé…ç½®é˜²ç«å¢™"><a href="#ç¬¬äºŒé¢˜ï¼šé…ç½®é˜²ç«å¢™" class="headerlink" title="ç¬¬äºŒé¢˜ï¼šé…ç½®é˜²ç«å¢™"></a>ç¬¬äºŒé¢˜ï¼šé…ç½®é˜²ç«å¢™</h5>è¯·æŒ‰ä¸‹åˆ—è¦æ±‚åœ¨ system1 å’Œ system2 ä¸Šè®¾å®šé˜²ç«å¢™ç³»ç»Ÿï¼š</li></ul><ol><li>å…è®¸ group8.example.com åŸŸçš„å®¢æˆ·å¯¹ system1 å’Œ system2 è¿›è¡Œ ssh è®¿é—®ã€‚</li><li>ç¦æ­¢ my133t.org åŸŸçš„å®¢æˆ·å¯¹ system1 å’Œ system2 è¿›è¡Œ ssh è®¿é—®ã€‚</li><li>å¤‡æ³¨ï¼š my133t.org æ˜¯åœ¨ 172.13.8.0/24 ç½‘ç»œ</li></ol><p><code>å‚è€ƒè§£é¢˜æ­¥éª¤ï¼š</code></p><p><code>system1</code> å’Œ <code>system2</code></p><pre class="line-numbers language-none"><code class="language-none">[root@system1 Desktop]# firewall-config<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-685c1f39cb89e302.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><hr><ul><li><h5 id="ç¬¬ä¸‰é¢˜ï¼šè‡ªå®šä¹‰ç”¨æˆ·ç¯å¢ƒ"><a href="#ç¬¬ä¸‰é¢˜ï¼šè‡ªå®šä¹‰ç”¨æˆ·ç¯å¢ƒ" class="headerlink" title="ç¬¬ä¸‰é¢˜ï¼šè‡ªå®šä¹‰ç”¨æˆ·ç¯å¢ƒ"></a>ç¬¬ä¸‰é¢˜ï¼šè‡ªå®šä¹‰ç”¨æˆ·ç¯å¢ƒ</h5>åœ¨ç³»ç»Ÿsystem1å’Œsystem2ä¸Šåˆ›å»ºè‡ªå®šä¹‰å‘½ä»¤ä¸ºqstat ï¼Œè¦æ±‚ï¼š</li></ul><ol><li>æ­¤è‡ªå®šä¹‰å‘½ä»¤å°†æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š/bin/ps -Ao pid,tt,user,fname,rsz</li><li>æ­¤å‘½ä»¤å¯¹ç³»ç»Ÿä¸­çš„æ‰€æœ‰ç”¨æˆ·æœ‰æ•ˆ</li></ol><p><code>å‚è€ƒè§£é¢˜æ­¥éª¤ï¼š</code></p><p><code>system1</code> å’Œ <code>system2</code></p><pre class="line-numbers language-none"><code class="language-none">[root@system1 Desktop]# vim /etc/profile[root@system1 Desktop]# source /etc/profile[root@system1 Desktop]# qstat<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>/etc/profile é…ç½®æ–‡ä»¶ä¸­å†…å®¹</p><pre class="line-numbers language-none"><code class="language-none">alias qstat='/bin/ps -Ao pid,tt,user,fname,rsz'<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-d5e1ff3426c65c08.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><hr><ul><li><h5 id="ç¬¬å››é¢˜ï¼šé…ç½®ç«¯å£è½¬å‘"><a href="#ç¬¬å››é¢˜ï¼šé…ç½®ç«¯å£è½¬å‘" class="headerlink" title="ç¬¬å››é¢˜ï¼šé…ç½®ç«¯å£è½¬å‘"></a>ç¬¬å››é¢˜ï¼šé…ç½®ç«¯å£è½¬å‘</h5>åœ¨ç³»ç»Ÿ system1 è®¾å®šç«¯å£è½¬å‘ï¼Œè¦æ±‚ï¼š</li></ul><ol><li>åœ¨ 172.24.8.0/24 ç½‘ç»œä¸­çš„ç³»ç»Ÿï¼Œè®¿é—® system1 çš„æœ¬åœ°ç«¯å£ 5423 å°†è¢«è½¬å‘åˆ° 80</li><li>æ­¤è®¾ç½®å¿…é¡»æ°¸ä¹…æœ‰æ•ˆ</li></ol><p><code>å‚è€ƒè§£é¢˜æ­¥éª¤ï¼š</code></p><p><code>system1</code></p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-263777cf2f595092.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-ffcd889ca6555d28.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-e3b7e7f525b14f0a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><hr><ul><li><h5 id="ç¬¬äº”é¢˜ï¼šé…ç½®é“¾è·¯èšåˆ"><a href="#ç¬¬äº”é¢˜ï¼šé…ç½®é“¾è·¯èšåˆ" class="headerlink" title="ç¬¬äº”é¢˜ï¼šé…ç½®é“¾è·¯èšåˆ"></a>ç¬¬äº”é¢˜ï¼šé…ç½®é“¾è·¯èšåˆ</h5>åœ¨ system2 å’Œ system1 ä¹‹é—´æŒ‰ä»¥ä¸‹è¦æ±‚è®¾å®šä¸€ä¸ªé“¾è·¯ï¼š</li></ul><ol><li>æ­¤é“¾è·¯ä½¿ç”¨æ¥å£ eth1 å’Œ eth2</li><li>æ­¤é“¾è·¯åœ¨ä¸€ä¸ªæ¥å£å¤±æ•ˆæ—¶ä»ç„¶èƒ½å·¥ä½œ</li><li>æ­¤é“¾è·¯åœ¨ system1 ä½¿ç”¨ä¸‹é¢çš„åœ°å€ 172.16.3.40/255.255.255.0</li><li>æ­¤é“¾è·¯åœ¨ system2 ä½¿ç”¨ä¸‹é¢çš„åœ°å€ 172.16.3.45/255.255.255.0</li><li>æ­¤é“¾è·¯åœ¨ç³»ç»Ÿé‡å¯ä¹‹åä¾ç„¶ä¿æŒæ­£å¸¸çŠ¶æ€</li></ol><p><code>å‚è€ƒè§£é¢˜æ­¥éª¤ï¼š</code></p><p><code>system1</code></p><pre class="line-numbers language-none"><code class="language-none">[root@system1 Desktop]# nm-connection-editor[root@system1 Desktop]# systemctl restart network[root@system1 Desktop]# ping 172.16.3.40[root@system1 Desktop]# ping 172.16.3.45<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-2d8890e00f7e7a04.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-938e1da1dc07f101.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><p><code>system2</code></p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-e7b8bebe398a150b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><pre class="line-numbers language-none"><code class="language-none">[root@system2 Desktop]# nm-connection-editor[root@system2 Desktop]# systemctl restart network[root@system2 Desktop]# ping 172.16.3.45[root@system2 Desktop]# ping 172.16.3.40<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-none"><code class="language-none">{"runner":{"name":"activebackup"}}<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><hr><ul><li><h5 id="ç¬¬å…­é¢˜ï¼šé…ç½®-IPV6-åœ°å€"><a href="#ç¬¬å…­é¢˜ï¼šé…ç½®-IPV6-åœ°å€" class="headerlink" title="ç¬¬å…­é¢˜ï¼šé…ç½® IPV6 åœ°å€"></a>ç¬¬å…­é¢˜ï¼šé…ç½® IPV6 åœ°å€</h5>åœ¨è€ƒè¯•ç³»ç»Ÿä¸Šè®¾å®šæ¥å£ eth0 ä½¿ç”¨ä¸‹åˆ— IPV6 åœ°å€ï¼š</li></ul><ol><li>system1 ä¸Šçš„åœ°å€åº”è¯¥æ˜¯ 2003:ac18::305/64</li><li>system2 ä¸Šçš„åœ°å€åº”è¯¥æ˜¯ 2003:ac18::30a/64</li><li>ä¸¤ä¸ªç³»ç»Ÿå¿…é¡»èƒ½ä¸ç½‘ç»œ 2003:ac18/64 å†…çš„ç³»ç»Ÿé€šä¿¡</li><li>åœ°å€å¿…é¡»åœ¨é‡å¯åä¾ç„¶ç”Ÿæ•ˆ</li><li>ä¸¤ä¸ªç³»ç»Ÿå¿…é¡»ä¿æŒå½“å‰çš„ IPV4 åœ°å€å¹¶èƒ½é€šä¿¡</li></ol><p><code>å‚è€ƒè§£é¢˜æ­¥éª¤ï¼š</code></p><p><code>system1</code></p><pre class="line-numbers language-none"><code class="language-none">[root@system1 Desktop]# nm-connection-editor[root@system1 Desktop]# systemctl restart network[root@system1 Desktop]# ping6 2003:ac18::305[root@system1 Desktop]# ping6 2003:ac18::30a<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-77f2dedf4521b751.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-ba079898f48dc40d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><p><code>system2</code></p><pre class="line-numbers language-none"><code class="language-none">[root@system2 Desktop]# nm-connection-editor[root@system2 Desktop]# systemctl restart network[root@system2 Desktop]# ping6 2003:ac18::30a[root@system2 Desktop]# ping6 2003:ac18::305<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-96fb85bc8b4f6eb9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><hr><ul><li><h5 id="ç¬¬ä¸ƒé¢˜ï¼šé…ç½®æœ¬åœ°é‚®ä»¶æœåŠ¡"><a href="#ç¬¬ä¸ƒé¢˜ï¼šé…ç½®æœ¬åœ°é‚®ä»¶æœåŠ¡" class="headerlink" title="ç¬¬ä¸ƒé¢˜ï¼šé…ç½®æœ¬åœ°é‚®ä»¶æœåŠ¡"></a>ç¬¬ä¸ƒé¢˜ï¼šé…ç½®æœ¬åœ°é‚®ä»¶æœåŠ¡</h5>åœ¨ç³»ç»Ÿ system2 å’Œ system1 ä¸Šé…ç½®é‚®ä»¶æœåŠ¡ï¼Œè¦æ±‚ï¼š</li></ul><ol><li>è¿™äº›ç³»ç»Ÿä¸æ¥å—å¤–éƒ¨å‘é€æ¥çš„é‚®ä»¶</li><li>åœ¨è¿™äº›ç³»ç»Ÿä¸Šæœ¬åœ°å‘é€çš„ä»»ä½•é‚®ä»¶éƒ½ä¼šè‡ªåŠ¨è·¯ç”±åˆ° mail.group8.example.com<br>ä»è¿™äº›ç³»ç»Ÿä¸Šå‘é€çš„é‚®ä»¶æ˜¾ç¤ºæ¥è‡ªäº server.group8.example.com</li><li>æ‚¨å¯ä»¥é€šè¿‡å‘é€é‚®ä»¶åˆ°æœ¬åœ°ç”¨æˆ· dave æ¥æµ‹è¯•æ‚¨çš„é…ç½®,ç³»ç»Ÿ server.group8.example.com å·²ç»é…ç½®æŠŠæ­¤ç”¨æˆ·çš„é‚®ä»¶è½¬åˆ°URL <a href="http://server.group8.example.com/pub/received_mail/8">http://server.group8.example.com/pub/received_mail/8</a></li></ol><p><code>å‚è€ƒè§£é¢˜æ­¥éª¤ï¼š</code></p><p><code>system1</code> å’Œ <code>system2</code></p><pre class="line-numbers language-none"><code class="language-none">[root@system1 Desktop]# vim /etc/postfix/main.cf [root@system1 Desktop]# systemctl restart postfix[root@system1 Desktop]# systemctl enable postfix[root@system1 Desktop]# firewall-cmd --permanent --add-service=smtp[root@system1 Desktop]# firewall-cmd --reload[root@system1 Desktop]# echo "test content" | mail -s "testobject" dave[root@system1 Desktop]# curl http://server.group8.example.com/pub/received_mail/8<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-none"><code class="language-none">98 local_transport = error:local    ï¼ˆéœ€å•ç‹¬æ·»åŠ ï¼‰99 myorigin = server.group8.example.com314 relayhost = mail.group8.example.com<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-39805ba385d89d4a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-63dc4393dec4e855.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-6b036d5df79504c9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><ul><li><h5 id="ç¬¬å…«é¢˜ï¼šé€šè¿‡-SMB-å…±äº«ç›®å½•"><a href="#ç¬¬å…«é¢˜ï¼šé€šè¿‡-SMB-å…±äº«ç›®å½•" class="headerlink" title="ç¬¬å…«é¢˜ï¼šé€šè¿‡ SMB å…±äº«ç›®å½•"></a>ç¬¬å…«é¢˜ï¼šé€šè¿‡ SMB å…±äº«ç›®å½•</h5>åœ¨ system1 ä¸Šé…ç½® SMB æœåŠ¡ ï¼Œè¦æ±‚ï¼š</li></ul><ol><li>æ‚¨çš„ SMB æœåŠ¡å™¨å¿…é¡»æ˜¯ STAFF å·¥ä½œç»„çš„ä¸€ä¸ªæˆå‘˜</li><li>å…±äº« /common ç›®å½•ï¼Œå…±äº«åå¿…é¡»ä¸º common</li><li>åªæœ‰ group8.example.com åŸŸå†…çš„å®¢æˆ·ç«¯å¯ä»¥è®¿é—® common å…±äº«</li><li>common å¿…é¡»æ˜¯å¯ä»¥æµè§ˆçš„</li><li>ç”¨æˆ· andy å¿…é¡»èƒ½å¤Ÿè¯»å–å…±äº«ä¸­çš„å†…å®¹ï¼Œå¦‚æœéœ€è¦çš„è¯ï¼ŒéªŒè¯å¯†ç æ˜¯ redhat</li></ol><p><code>å‚è€ƒè§£é¢˜æ­¥éª¤ï¼š</code></p><p><code>system1</code></p><pre class="line-numbers language-none"><code class="language-none">[root@system1 Desktop]# yum -y install samba samba-client[root@system1 Desktop]# mkdir /common[root@system1 Desktop]# chcon -R -t samba_share_t /common[root@system1 Desktop]# id andy[root@system1 Desktop]# smbpasswd -a andy[root@system1 Desktop]# vim /etc/samba/smb.conf [root@system1 Desktop]# setsebool -P samba_enable_home_dirs on[root@system1 Desktop]# systemctl restart smb nmb[root@system1 Desktop]# systemctl enable smb nmb[root@system1 Desktop]# firewall-config<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è®¾ç½®é˜²ç«å¢™</p><pre class="line-numbers language-none"><code class="language-none">[root@system1 Desktop]# firewall-cmd --permanent --add-service=samba[root@system1 Desktop]# firewall-cmd --permanent --add-service=mountd[root@system1 Desktop]# firewall-cmd --reload<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>é…ç½®æ–‡ä»¶å¡«å†™å†…å®¹</p><pre class="line-numbers language-none"><code class="language-none"> 89         workgroup = STAFF321 [common]322 path = /common323 hosts allow = 172.24.8.324 browseable = yes<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-3e11066974a205bf.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-f1e0a54d16e2d6e9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-fb8ea5538214efd9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-f24588e22d80a04a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><p>éªŒè¯ï¼š</p><p><code>system2</code></p><pre class="line-numbers language-none"><code class="language-none">[root@system2 Desktop]# yum -y install samba-client cifs-utils[root@system2 Desktop]# smbclient -L //172.24.8.11 -U andy<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-b16cc12affa9a5a8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><hr><ul><li><h5 id="ç¬¬ä¹é¢˜ï¼šé…ç½®å¤šç”¨æˆ·-SMB-æŒ‚è½½"><a href="#ç¬¬ä¹é¢˜ï¼šé…ç½®å¤šç”¨æˆ·-SMB-æŒ‚è½½" class="headerlink" title="ç¬¬ä¹é¢˜ï¼šé…ç½®å¤šç”¨æˆ· SMB æŒ‚è½½"></a>ç¬¬ä¹é¢˜ï¼šé…ç½®å¤šç”¨æˆ· SMB æŒ‚è½½</h5>åœ¨ system1 é€šè¿‡ SMB å…±äº«ç›®å½• /devops ,å¹¶æ»¡è¶³ä¸‹åˆ—è¦æ±‚ï¼š</li></ul><ol><li>å…±äº«åä¸º devops</li><li>å…±äº«ç›®å½• devops åªèƒ½ group8.example.com åŸŸä¸­çš„å®¢æˆ·ç«¯ä½¿ç”¨</li><li>å…±äº«ç›®å½• devops å¿…é¡»å¯ä»¥è¢«æµè§ˆ</li><li>ç”¨æˆ· silene å¿…é¡»èƒ½ä»¥è¯»çš„æ–¹å¼è®¿é—®æ­¤å…±äº«ï¼Œè®¿é—®å¯†ç æ˜¯redhat</li><li>ç”¨æˆ· akira å¿…é¡»èƒ½ä»¥è¯»å†™çš„æ–¹å¼è®¿é—®æ­¤å…±äº«ï¼Œè®¿é—®å¯†ç æ˜¯redhat</li><li>æ­¤å…±äº«æ°¸ä¹…æŒ‚è½½åœ¨ system2.group8.example.com ä¸Šçš„ /mnt/dev ç›®å½•ï¼Œå¹¶ä½¿ç”¨ç”¨æˆ· silene ä½œä¸ºè®¤è¯ä»»ä½•ç”¨æˆ·ï¼Œå¯ä»¥é€šè¿‡ç”¨æˆ· akira æ¥ä¸´æ—¶è·å–å†™çš„æƒé™</li></ol><p><code>å‚è€ƒè§£é¢˜æ­¥éª¤ï¼š</code></p><p><code>system1</code></p><pre class="line-numbers language-none"><code class="language-none">[root@system1 Desktop]# ls -ald /devops[root@system1 Desktop]# mkdir /devops[root@system1 Desktop]# chmod o+w /devops[root@system1 Desktop]# chcon -R -t samba_share_t /devops[root@system1 Desktop]# id silene[root@system1 Desktop]# smbpasswd -a silene[root@system1 Desktop]# id akira[root@system1 Desktop]# smbpasswd -a akira[root@system1 Desktop]# vim /etc/samba/smb.conf[root@system1 Desktop]# systemctl restart smb nmb<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é…ç½®æ–‡ä»¶å¡«å†™å†…å®¹</p><pre class="line-numbers language-none"><code class="language-none">325 [devops]326 path = devops327 hosts allow = 172.24.8.328 browseable = yes329 writable = no330 write list = akira<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-c70f323e9ffbf6fd.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><p><code>system2</code></p><pre class="line-numbers language-none"><code class="language-none">[root@system2 Desktop]# yum -y install cifs*[root@system2 Desktop]# smbclient -L //172.24.8.11 -U silene[root@system2 Desktop]# smbclient -L //172.24.8.12 -U akira[root@system2 Desktop]# ls -ald /mnt/dev[root@system2 Desktop]# mkdir -p /mnt/dev[root@system2 Desktop]# vim /etc/fstab [root@system2 Desktop]# mount -a[root@system2 Desktop]# df -hT<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>/etc/fstab æŒ‚è½½é…ç½®æ–‡ä»¶ä¸­å¡«å†™å†…å®¹</p><pre class="line-numbers language-none"><code class="language-none">//172.24.8.11/devops /mnt/dev cifs defaults,multiuser,username=silene,password=redhat,sec=ntlmssp 0 0<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-fb7fd346bbe27159.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-2d02e76c2d839096.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><hr><ul><li><h5 id="ç¬¬åé¢˜ï¼šé…ç½®-NFS-æœåŠ¡"><a href="#ç¬¬åé¢˜ï¼šé…ç½®-NFS-æœåŠ¡" class="headerlink" title="ç¬¬åé¢˜ï¼šé…ç½® NFS æœåŠ¡"></a>ç¬¬åé¢˜ï¼šé…ç½® NFS æœåŠ¡</h5>åœ¨ system1 é…ç½® NFS æœåŠ¡ï¼Œè¦æ±‚å¦‚ä¸‹ï¼š</li></ul><ol><li>ä»¥åªè¯»çš„æ–¹å¼å…±äº«ç›®å½• /public ï¼ŒåŒæ—¶åªèƒ½è¢« group8.example.com åŸŸä¸­çš„ç³»ç»Ÿè®¿é—®</li><li>ä»¥è¯»å†™çš„æ–¹å¼å…±äº«ç›®å½• /protected ï¼ŒåŒæ—¶åªèƒ½è¢« group8.example.com åŸŸä¸­çš„ç³»ç»Ÿè®¿é—®</li><li>è®¿é—® /protected éœ€è¦é€šè¿‡ Kerberos å®‰å…¨åŠ å¯†ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä¸‹é¢ URL æä¾›çš„å¯†é’¥<br><a href="http://server.group8.example.com/pub/keytabs/system1.keytab">http://server.group8.example.com/pub/keytabs/system1.keytab</a></li><li>ç›®å½• /protected åº”è¯¥åŒ…å«åä¸º project æ‹¥æœ‰äººä¸º andres çš„å­ç›®å½•</li><li>ç”¨æˆ· andres èƒ½ä»¥è¯»å†™æ–¹å¼è®¿é—® /protected/project</li></ol><p><code>å‚è€ƒè§£é¢˜æ­¥éª¤ï¼š</code></p><p><code>system1</code></p><pre class="line-numbers language-none"><code class="language-none">[root@system1 Desktop]# ls -ald /public[root@system1 Desktop]# mkdir /public[root@system1 Desktop]# ls -ald /protected[root@system1 Desktop]# mkdir -p /protected/project[root@system1 Desktop]# chown andres /protected/project[root@system1 Desktop]# ls -ald /protected/project[root@system1 Desktop]# chcon -R -t public_content_t /public[root@system1 Desktop]# chcon -R -t public_content_t /protected[root@system1 Desktop]# wget -O /etc/krb5.keytab http://server.group8.example.com/pub/keytabs/system1.keytab[root@system1 Desktop]# vim /etc/sysconfig/nfs [root@system1 Desktop]# vim /etc/exports[root@system1 Desktop]# systemctl restart nfs-server nfs-secure-server[root@system1 Desktop]# systemctl enable nfs-server nfs-secure-server[root@system1 Desktop]# firewall-config [root@system1 Desktop]# exportfs -r<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>/etc/sysconfig/nfs é…ç½®æ–‡ä»¶ä¸­å¡«å†™çš„å†…å®¹</p><pre class="line-numbers language-none"><code class="language-none">13 RPCNFSDARGS="-V 4.2"<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-4913def5d21efda0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><p>/etc/exports é…ç½®æ–‡ä»¶ä¸­å¡«å†™å†…å®¹</p><pre class="line-numbers language-none"><code class="language-none">1 /public 172.24.8.0/24(ro)2 /protected 172.24.8.0/24(rw,sec=krb5p)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>è®¾ç½®é˜²ç«å¢™</p><pre class="line-numbers language-none"><code class="language-none">[root@system1 Desktop]# firewall-cmd --permanent --add-service=nfs[root@system1 Desktop]# firewall-cmd --permanent --add-service=rpc-bind[root@system1 Desktop]# firewall-cmd --reload<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><hr><ul><li><h5 id="ç¬¬åä¸€é¢˜ï¼šæŒ‚è½½ä¸€ä¸ª-NFS-å…±äº«"><a href="#ç¬¬åä¸€é¢˜ï¼šæŒ‚è½½ä¸€ä¸ª-NFS-å…±äº«" class="headerlink" title="ç¬¬åä¸€é¢˜ï¼šæŒ‚è½½ä¸€ä¸ª NFS å…±äº«"></a>ç¬¬åä¸€é¢˜ï¼šæŒ‚è½½ä¸€ä¸ª NFS å…±äº«</h5>åœ¨ system2 ä¸ŠæŒ‚è½½ä¸€ä¸ªæ¥è‡ª system1.group8.example.com çš„ NFS å…±äº«,å¹¶ç¬¦åˆä¸‹åˆ—è¦æ±‚ï¼š</li></ul><ol><li>/public æŒ‚è½½åœ¨ä¸‹é¢çš„ç›®å½•ä¸Š /mnt/nfsmount</li><li>/protected æŒ‚è½½åœ¨ä¸‹é¢çš„ç›®å½•ä¸Š /mnt/nfssecure å¹¶ä½¿ç”¨å®‰å…¨çš„æ–¹å¼ï¼Œå¯†é’¥ä¸‹è½½ URL å¦‚ä¸‹ï¼š<a href="http://server.group8.example.com/pub/keytabs/system2.keytab">http://server.group8.example.com/pub/keytabs/system2.keytab</a></li><li>ç”¨æˆ· andres èƒ½å¤Ÿåœ¨ /mnt/nfssecure/project ä¸Šåˆ›å»ºæ–‡ä»¶</li><li>è¿™äº›æ–‡ä»¶ç³»ç»Ÿåœ¨ç³»ç»Ÿå¯åŠ¨æ—¶è‡ªåŠ¨æŒ‚è½½</li></ol><p><code>å‚è€ƒè§£é¢˜æ­¥éª¤ï¼š</code></p><p><code>system2</code></p><pre class="line-numbers language-none"><code class="language-none">[root@system2 Desktop]# showmount -e 172.24.8.11[root@system2 Desktop]# systemctl restart nfs-secure[root@system2 Desktop]# systemctl enable nfs-secure[root@system2 Desktop]# ls -ald /mnt/nfsmount[root@system2 Desktop]# mkdir -p /mnt/nfsmount[root@system2 Desktop]# ls -ald /mnt/nfssecure[root@system2 Desktop]# mkdir -p /mnt/nfssecure[root@system2 Desktop]# wget -O /etc/krb5.keytab http://server.group8.example.com/pub/keytabs/system2.keytab[root@system2 Desktop]# vim /etc/fstab [root@system2 Desktop]# mount -a[root@system2 Desktop]# df -hT<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>/etc/fstab æŒ‚è½½é…ç½®æ–‡ä»¶å¡«å†™çš„å†…å®¹</p><pre class="line-numbers language-none"><code class="language-none">172.24.8.11:/public /mnt/nfsmount nfs defaults 0 0172.24.8.11:/protected /mnt/nfssecure nfs defaults,sec=krb5p,v4.2 0 0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-24db5060b6f9e1e7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><hr><ul><li><h5 id="ç¬¬åäºŒé¢˜ï¼šå®ç°ä¸€ä¸ª-web-æœåŠ¡å™¨"><a href="#ç¬¬åäºŒé¢˜ï¼šå®ç°ä¸€ä¸ª-web-æœåŠ¡å™¨" class="headerlink" title="ç¬¬åäºŒé¢˜ï¼šå®ç°ä¸€ä¸ª web æœåŠ¡å™¨"></a>ç¬¬åäºŒé¢˜ï¼šå®ç°ä¸€ä¸ª web æœåŠ¡å™¨</h5>åœ¨ system1 ä¸Šé…ç½®ä¸€ä¸ªç«™ç‚¹ <a href="http://system1.group8.example.com/%EF%BC%8C%E7%84%B6%E5%90%8E%E6%89%A7%E8%A1%8C%E4%B8%8B%E8%BF%B0%E6%AD%A5%E9%AA%A4%EF%BC%9A">http://system1.group8.example.com/ï¼Œç„¶åæ‰§è¡Œä¸‹è¿°æ­¥éª¤ï¼š</a></li></ul><ol><li>ä» <a href="http://server.group8.example.com/pub/system1.html">http://server.group8.example.com/pub/system1.html</a> ä¸‹è½½æ–‡ä»¶ï¼Œå¹¶ä¸”å°†æ–‡ä»¶é‡åä¸º index.html ä¸è¦ä¿®æ”¹æ­¤æ–‡ä»¶çš„å†…å®¹</li><li>å°†æ–‡ä»¶ index.html æ‹·è´åˆ°æ‚¨çš„ web æœåŠ¡å™¨çš„ DocumentRoot ç›®å½•ä¸‹</li><li>æ¥è‡ªäº group8.example.com åŸŸçš„å®¢æˆ·ç«¯å¯ä»¥è®¿é—®æ­¤ web æœåŠ¡</li><li>æ¥è‡ªäº my133t.org åŸŸçš„å®¢æˆ·ç«¯æ‹’ç»è®¿é—®æ­¤ web æœåŠ¡</li></ol><p><code>å‚è€ƒè§£é¢˜æ­¥éª¤ï¼š</code></p><p><code>system1</code></p><pre class="line-numbers language-none"><code class="language-none">[root@system1 Desktop]# yum -y install httpd[root@system1 Desktop]# cp /usr/share/doc/httpd-2.4.6/httpd-vhosts.conf /etc/httpd/conf.d/[root@system1 Desktop]# cd /var/www/html[root@system1 html]# wget -O index.html http://server.group8.example.com/pub/system1.html[root@system1 html]# vim /etc/httpd/conf.d/httpd-vhosts.conf[root@system1 html]# systemctl restart httpd[root@system1 html]# systemctl enable httpd[root@system1 html]# firewall-config<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-1dfde17bdf2ad2be.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><p>/etc/httpd/conf.d/httpd-vhosts.conf ç½‘ç«™é…ç½®æ–‡ä»¶ä¸­åº”è¯¥å†™çš„å†…å®¹</p><pre class="line-numbers language-none"><code class="language-none">&lt;VirtualHost *:80&gt;    DocumentRoot "/var/www/html"    ServerName system1.group8.example.com&lt;/VirtualHost&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-ee2ee212b0c01df7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-b369ae9ea1b88007.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><hr><ul><li><h5 id="ç¬¬åä¸‰é¢˜ï¼šé…ç½®å®‰å…¨-web-æœåŠ¡"><a href="#ç¬¬åä¸‰é¢˜ï¼šé…ç½®å®‰å…¨-web-æœåŠ¡" class="headerlink" title="ç¬¬åä¸‰é¢˜ï¼šé…ç½®å®‰å…¨ web æœåŠ¡"></a>ç¬¬åä¸‰é¢˜ï¼šé…ç½®å®‰å…¨ web æœåŠ¡</h5>ä¸ºç«™ç‚¹ <a href="http://system1.group8.example.com/">http://system1.group8.example.com</a> é…ç½® TLS åŠ å¯†ï¼š</li></ul><ol><li>ä¸€ä¸ªå·²ç­¾åè¯ä¹¦ä» <a href="http://server.group8.example.com/pub/tls/certs/system1.crt">http://server.group8.example.com/pub/tls/certs/system1.crt</a> è·å–</li><li>æ­¤è¯ä¹¦çš„å¯†é’¥ä» <a href="http://server.group8.example.com/pub/tls/private/system1.key">http://server.group8.example.com/pub/tls/private/system1.key</a> è·å–</li><li>æ­¤è¯ä¹¦çš„ç­¾åæˆæƒä¿¡æ¯ä» <a href="http://server.group8.example.com/pub/tls/certs/ssl-ca.crt">http://server.group8.example.com/pub/tls/certs/ssl-ca.crt</a> è·å–</li></ol><p><code>å‚è€ƒè§£é¢˜æ­¥éª¤ï¼š</code></p><p><code>system1</code></p><pre class="line-numbers language-none"><code class="language-none">[root@system1 Desktop]# yum -y install mod_ssl[root@system1 Desktop]# cd /var/www/html[root@system1 html]# wget http://server.group8.example.com/pub/tls/certs/system1.crt[root@system1 html]# wget http://server.group8.example.com/pub/tls/private/system1.key[root@system1 html]# wget http://server.group8.example.com/pub/tls/certs/ssl-ca.crt[root@system1 html]# vim /etc/httpd/conf.d/ssl.conf    ï¼ˆç”¨äºå‚è€ƒçš„é…ç½®æ–‡ä»¶ï¼‰[root@system1 html]# vim /etc/httpd/conf.d/httpd-vhosts.conf[root@system1 html]# setsebool -P httpd_read_user_content=on[root@system1 html]# systemctl restart httpd<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>/etc/httpd/conf.d/httpd-vhosts.conf ç½‘ç«™é…ç½®æ–‡ä»¶ä¸­åº”è¯¥å†™çš„å†…å®¹</p><pre class="line-numbers language-none"><code class="language-none">&lt;VirtualHost *:443&gt;SSLEngine onSSLProtocol all -SSLv2SSLCipherSuite HIGH:MEDIUM:!aNULL:!MD5SSLHonorCipherOrder on    DocumentRoot "/var/www/html"    ServerName system1.group8.example.comSSLCertificateFile /var/www/html/system1.crtSSLCertificateKeyFile /var/www/html/system1.keySSLCACertificateFile /var/www/html/ssl-ca.crt&lt;/VirtualHost&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-99e658186dfb348a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="/etc/httpd/conf.d/ssl.conf å‚è€ƒçš„é…ç½®æ–‡ä»¶"></p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-1368eb4ebabcab95.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><hr><ul><li><h5 id="ç¬¬åå››é¢˜ï¼šé…ç½®è™šæ‹Ÿä¸»æœº"><a href="#ç¬¬åå››é¢˜ï¼šé…ç½®è™šæ‹Ÿä¸»æœº" class="headerlink" title="ç¬¬åå››é¢˜ï¼šé…ç½®è™šæ‹Ÿä¸»æœº"></a>ç¬¬åå››é¢˜ï¼šé…ç½®è™šæ‹Ÿä¸»æœº</h5>åœ¨ system1 ä¸Šæ‰©å±•æ‚¨çš„ web æœåŠ¡å™¨ï¼Œä¸ºç«™ç‚¹ <a href="http://www8.group8.example.com/">http://www8.group8.example.com</a> åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿä¸»æœºï¼Œç„¶åæ‰§è¡Œä¸‹è¿°æ­¥éª¤ï¼š</li></ul><ol><li>è®¾ç½® DocumentRoot ä¸º /var/www/virtual</li><li>ä» <a href="http://server.group8.example.com/pub/www8.html">http://server.group8.example.com/pub/www8.html</a> ä¸‹è½½æ–‡ä»¶é‡åä¸º index.html ,ä¸è¦å¯¹æ–‡ä»¶ index.html çš„å†…å®¹åšä»»ä½•ä¿®æ”¹</li><li>å°†æ–‡ä»¶ index.html æ”¾åˆ°è™šæ‹Ÿä¸»æœºçš„ DocumentRoot ç›®å½•ä¸‹</li><li>ç¡®ä¿ andy ç”¨æˆ·èƒ½å¤Ÿåœ¨ /var/www/virtual ç›®å½•ä¸‹åˆ›å»ºæ–‡ä»¶</li></ol><p>æ³¨æ„ï¼šåŸç«™ç‚¹ <a href="http://system1.group8.example.com/">http://system1.group8.example.com</a> å¿…é¡»ä»ç„¶èƒ½å¤Ÿè®¿é—®ï¼Œåç§°æœåŠ¡å™¨ server.group8.example.com å·²ç»æä¾›å¯¹ä¸»æœºå www8.group8.example.com çš„åŸŸåè§£æ</p><p><code>å‚è€ƒè§£é¢˜æ­¥éª¤ï¼š</code></p><p><code>system1</code></p><pre class="line-numbers language-none"><code class="language-none">[root@system1 Desktop]# mkdir /var/www/virtual[root@system1 Desktop]# cd /var/www/virtual[root@system1 virtual]# getfacl /var/www/virtual[root@system1 virtual]# setfacl -Rm u:andy:rwx /var/www/virtual[root@system1 virtual]# getfacl /var/www/virtual[root@system1 virtual]# wget -O index.html http://server.group8.example.com/pub/www8.html[root@system1 virtual]# vim /etc/httpd/conf.d/httpd-vhosts.conf[root@system1 virtual]# systemctl restart httpd<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>/etc/httpd/conf.d/httpd-vhosts.conf é…ç½®æ–‡ä»¶ä¸­å¡«å†™å†…å®¹</p><pre class="line-numbers language-none"><code class="language-none">&lt;VirtualHost *:80&gt;    DocumentRoot "/var/www/virtual"    ServerName www8.group8.example.com&lt;/VirtualHost&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-a5cc2d08a9cba270.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><hr><ul><li><h5 id="ç¬¬åäº”é¢˜ï¼šé…ç½®-web-å†…å®¹çš„è®¿é—®"><a href="#ç¬¬åäº”é¢˜ï¼šé…ç½®-web-å†…å®¹çš„è®¿é—®" class="headerlink" title="ç¬¬åäº”é¢˜ï¼šé…ç½® web å†…å®¹çš„è®¿é—®"></a>ç¬¬åäº”é¢˜ï¼šé…ç½® web å†…å®¹çš„è®¿é—®</h5>åœ¨æ‚¨çš„ system1 ä¸Šçš„ web æœåŠ¡å™¨çš„ DocumentRoot ç›®å½•ä¸‹ï¼Œåˆ›å»ºä¸€ä¸ªåä¸º private çš„ç›®å½•ï¼Œè¦æ±‚å¦‚ä¸‹ï¼š</li></ul><ol><li>ä» <a href="http://server.group8.example.com/pub/private.html">http://server.group8.example.com/pub/private.html</a> ä¸‹è½½ä¸€ä¸ªæ–‡ä»¶å‰¯æœ¬åˆ°è¿™ä¸ªç›®å½•ï¼Œå¹¶ä¸”é‡å‘½åä¸º index.html</li><li>ä¸è¦å¯¹è¿™ä¸ªæ–‡ä»¶çš„å†…å®¹åšä»»ä½•ä¿®æ”¹</li><li>ä» system1 ä¸Šï¼Œä»»ä½•äººéƒ½å¯ä»¥æµè§ˆ private çš„å†…å®¹ï¼Œä½†æ˜¯ä»å…¶å®ƒç³»ç»Ÿä¸èƒ½è®¿é—®è¿™ä¸ªç›®å½•çš„å†…å®¹ã€‚</li></ol><p><code>å‚è€ƒè§£é¢˜æ­¥éª¤ï¼š</code></p><p><code>system1</code></p><pre class="line-numbers language-none"><code class="language-none">[root@system1 virtual]# cd /var/www/html[root@system1 html]# mkdir private[root@system1 html]# cd private/[root@system1 private]# wget -O index.html http://server.group8.example.com/pub/private.html[root@system1 private]# vim /etc/httpd/conf/httpd.conf  ï¼ˆç”¨äºå‚è€ƒçš„é…ç½®æ–‡ä»¶ï¼‰[root@system1 private]# vim /etc/httpd/conf.d/httpd-vhosts.conf[root@system1 private]# systemctl restart httpd<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>/etc/httpd/conf.d/httpd-vhosts.conf é…ç½®æ–‡ä»¶ä¸­å¡«å†™å†…å®¹</p><pre class="line-numbers language-none"><code class="language-none">&lt;Directory "/var/www/html/private"&gt;    AllowOverride none    Require all denied    Require local&lt;/Directory&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-45144d1a5ab0c065.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><hr><ul><li><h5 id="ç¬¬åå…­é¢˜ï¼šå®ç°åŠ¨æ€-WEB-å†…å®¹"><a href="#ç¬¬åå…­é¢˜ï¼šå®ç°åŠ¨æ€-WEB-å†…å®¹" class="headerlink" title="ç¬¬åå…­é¢˜ï¼šå®ç°åŠ¨æ€ WEB å†…å®¹"></a>ç¬¬åå…­é¢˜ï¼šå®ç°åŠ¨æ€ WEB å†…å®¹</h5>åœ¨ system1 ä¸Šé…ç½®æä¾›åŠ¨æ€ web å†…å®¹ï¼Œè¦æ±‚ï¼š</li></ul><ol><li>åŠ¨æ€å†…å®¹ç”±åä¸º wsgi.group8.example.com çš„è™šæ‹Ÿä¸»æœºæä¾›</li><li>è™šæ‹Ÿä¸»æœºä¾¦å¬åœ¨ç«¯å£ 8909</li><li>ä» <a href="http://server.group8.example.com/pub/webinfo.wsgi">http://server.group8.example.com/pub/webinfo.wsgi</a> ä¸‹è½½ä¸€ä¸ªè„šæœ¬ï¼Œç„¶åæ”¾åœ¨é€‚å½“çš„ä½ç½®ï¼Œæ— è®ºå¦‚ä½•ä¸è¦æ±‚ä¿®æ”¹æ­¤æ–‡ä»¶çš„å†…å®¹</li><li>å®¢æˆ·ç«¯è®¿é—® <a href="http://wsgi.group8.example.com:8909/">http://wsgi.group8.example.com:8909/</a> æ—¶ï¼Œåº”è¯¥æ¥æ”¶åˆ°åŠ¨æ€ç”Ÿæˆçš„ web é¡µé¢</li><li>æ­¤ <a href="http://wsgi.group8.example.com:8909/">http://wsgi.group8.example.com:8909/</a> å¿…é¡»èƒ½è¢« group8.example.com åŸŸå†…çš„æ‰€æœ‰ç³»ç»Ÿè®¿é—®</li></ol><p><code>å‚è€ƒè§£é¢˜æ­¥éª¤ï¼š</code></p><p><code>system1</code></p><pre class="line-numbers language-none"><code class="language-none">[root@system1 private]# cd /var/www/html[root@system1 html]# yum -y install mod_wsgi[root@system1 html]# wget http://server.group8.example.com/pub/webinfo.wsgi[root@system1 html]#  vim /etc/httpd/conf.d/httpd-vhosts.conf[root@system1 html]# semanage port -a -t http_port_t -p tcp 8909[root@system1 html]# systemctl restart httpd<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>/etc/httpd/conf.d/httpd-vhosts.conf é…ç½®æ–‡ä»¶ä¸­å¡«å†™å†…å®¹</p><pre class="line-numbers language-none"><code class="language-none">listen 8909&lt;VirtualHost *:8909&gt;    WSGIScriptAlias / /var/www/html/webinfo.wsgi    ServerName wsgi.group8.example.com&lt;/VirtualHost&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-5c83ffa719496429.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-f9ba955a92c22aed.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><hr><ul><li><h5 id="ç¬¬åä¸ƒé¢˜ï¼šåˆ›å»ºä¸€ä¸ªè„šæœ¬"><a href="#ç¬¬åä¸ƒé¢˜ï¼šåˆ›å»ºä¸€ä¸ªè„šæœ¬" class="headerlink" title="ç¬¬åä¸ƒé¢˜ï¼šåˆ›å»ºä¸€ä¸ªè„šæœ¬"></a>ç¬¬åä¸ƒé¢˜ï¼šåˆ›å»ºä¸€ä¸ªè„šæœ¬</h5>åœ¨ system1 ä¸Šåˆ›å»ºä¸€ä¸ªåä¸º /root/foo.sh çš„è„šæœ¬ï¼Œè®©å…¶æä¾›ä¸‹åˆ—ç‰¹æ€§ï¼š</li></ul><ol><li>å½“è¿è¡Œ /root/foo.sh redhat ,è¾“å‡ºä¸º fedora</li><li>å½“è¿è¡Œ /root/foo.sh fedora ,è¾“å‡ºä¸º redhat</li><li>å½“æ²¡æœ‰ä»»ä½•å‚æ•°æˆ–è€…å‚æ•°ä¸æ˜¯ redhat æˆ–è€… fedora æ—¶ï¼Œå…¶é”™è¯¯è¾“å‡ºäº§ç”Ÿä»¥ä¸‹çš„ä¿¡æ¯ï¼š<br>/root/foo.sh redhat | fedora</li></ol><p><code>å‚è€ƒè§£é¢˜æ­¥éª¤ï¼š</code></p><p><code>system1</code></p><pre class="line-numbers language-none"><code class="language-none">[root@system1 html]# cd ~[root@system1 ~]# vim /root/foo.sh[root@system1 ~]# chmod a+x /root/foo.sh<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>/root/foo.sh æ–‡ä»¶ä¸­éœ€è¦å¡«å†™çš„å†…å®¹</p><pre class="line-numbers language-none"><code class="language-none">case $1 inredhat)echo 'fedora';;fedora)echo 'redhat';;*)echo '/root/foo.sh redhat | fedora';;esac<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-b8c4cc35ec38c4da.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><hr><ul><li><h5 id="ç¬¬åå…«é¢˜ï¼šåˆ›å»ºä¸€ä¸ªæ·»åŠ ç”¨æˆ·çš„è„šæœ¬"><a href="#ç¬¬åå…«é¢˜ï¼šåˆ›å»ºä¸€ä¸ªæ·»åŠ ç”¨æˆ·çš„è„šæœ¬" class="headerlink" title="ç¬¬åå…«é¢˜ï¼šåˆ›å»ºä¸€ä¸ªæ·»åŠ ç”¨æˆ·çš„è„šæœ¬"></a>ç¬¬åå…«é¢˜ï¼šåˆ›å»ºä¸€ä¸ªæ·»åŠ ç”¨æˆ·çš„è„šæœ¬</h5>åœ¨ system1 ä¸Šåˆ›å»ºä¸€ä¸ªè„šæœ¬ï¼Œåä¸º /root/batchusers ,æ­¤è„šæœ¬èƒ½å®ç°ä¸ºç³»ç»Ÿ system1 åˆ›å»ºæœ¬åœ°ç”¨æˆ·ï¼Œå¹¶ä¸”è¿™äº›ç”¨æˆ·çš„ç”¨æˆ·åæ¥è‡ªä¸€ä¸ªåŒ…å«ç”¨æˆ·ååˆ—è¡¨çš„æ–‡ä»¶ï¼ŒåŒæ—¶æ»¡è¶³ä¸‹åˆ—è¦æ±‚ï¼š</li></ul><ol><li>æ­¤è„šæœ¬è¦æ±‚æä¾›ä¸€ä¸ªå‚æ•°ï¼Œæ­¤å‚æ•°å°±æ˜¯åŒ…å«ç”¨æˆ·ååˆ—è¡¨çš„çš„æ–‡ä»¶</li><li>å¦‚æœæ²¡æœ‰æä¾›å‚æ•°ï¼Œæ­¤è„šæœ¬åº”è¯¥ç»™å‡ºä¸‹é¢çš„æç¤ºä¿¡æ¯ Usage: /root/batchusers userfile ç„¶åé€€å‡ºå¹¶è¿”å›ç›¸åº”çš„å€¼</li><li>å¦‚æœæä¾›ä¸€ä¸ªä¸å­˜åœ¨çš„æ–‡ä»¶åï¼Œæ­¤è„šæœ¬åº”è¯¥ç»™å‡ºä¸‹é¢çš„æç¤ºä¿¡æ¯ Input file not found ç„¶åé€€å‡ºå¹¶è¿”å›ç›¸åº”çš„å€¼</li><li>åˆ›å»ºçš„ç”¨æˆ·ç™»å½• shell ä¸º /bin/false</li><li>æ­¤è„šæœ¬ä¸éœ€è¦ä¸ºç”¨æˆ·è®¾ç½®å¯†ç </li><li>æ‚¨å¯ä»¥ä»ä¸‹é¢çš„ URL è·å–ç”¨æˆ·ååˆ—è¡¨ä½œä¸ºæµ‹è¯•ç”¨ <a href="http://server.group8.example.com/pub/userlist">http://server.group8.example.com/pub/userlist</a></li></ol><p><code>å‚è€ƒè§£é¢˜æ­¥éª¤ï¼š</code></p><p><code>system1</code></p><pre class="line-numbers language-none"><code class="language-none">[root@system1 ~]# cd ~[root@system1 ~]# wget http://server.group8.example.com/pub/userlist[root@system1 ~]# more userlist[root@system1 ~]# vim /root/batchusers[root@system1 ~]# chmod a+x /root/batchusers<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>/root/batchusers æ–‡ä»¶ä¸­éœ€è¦å¡«å†™çš„å†…å®¹</p><pre class="line-numbers language-none"><code class="language-none">if [ $# -eq 0 ];thenecho 'Usage: /root/batchusers userfile'exit 1fiif [ ! -f $1 ];thenecho 'Input file not found'exit 1fiwhile read linedouseradd -s /bin/false $linedone &lt; $1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><ul><li><h5 id="ç¬¬åä¹é¢˜ï¼šé…ç½®-ISCSI-æœåŠ¡ç«¯"><a href="#ç¬¬åä¹é¢˜ï¼šé…ç½®-ISCSI-æœåŠ¡ç«¯" class="headerlink" title="ç¬¬åä¹é¢˜ï¼šé…ç½® ISCSI æœåŠ¡ç«¯"></a>ç¬¬åä¹é¢˜ï¼šé…ç½® ISCSI æœåŠ¡ç«¯</h5>é…ç½® system1 æä¾›ä¸€ä¸ª ISCSI æœåŠ¡ ç£ç›˜åä¸º iqn.2014-08.com.example.group8:system1 ï¼Œå¹¶ç¬¦åˆä¸‹åˆ—è¦æ±‚ï¼š</li></ul><ol><li>æœåŠ¡ç«¯å£ä¸º 3260</li><li>ä½¿ç”¨ iscsi_store ä½œå…¶åç«¯é€»è¾‘å·åç§°ï¼Œå…¶å¤§å°ä¸º 3G</li><li>æ­¤æœåŠ¡åªèƒ½è¢« system2.group8.example.com è®¿é—®</li></ol><p><code>å‚è€ƒè§£é¢˜æ­¥éª¤ï¼š</code></p><p><code>system1</code></p><pre class="line-numbers language-none"><code class="language-none">[root@system1 ~]# yum -y install target*[root@system1 ~]# ls -ald /dev/sd*[root@system1 ~]# fdisk /dev/sda[root@system1 ~]# partprobe[root@system1 ~]# partprobe[root@system1 ~]# ls -ald /dev/sd*[root@system1 ~]# pvcreate /dev/sda3[root@system1 ~]# vgcreate rhce /dev/sda3[root@system1 ~]# lvcreate -l 100%VG -n iscsi_store rhce[root@system1 ~]# lvscan[root@system1 ~]# targetcli[root@system1 ~]# systemctl restart target[root@system1 ~]# systemctl enable target[root@system1 ~]# firewall-config<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-57e18e04cca64462.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-763a51805201d72d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-5814e618608d527d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><p>targetcli é…ç½®å‘½ä»¤å¦‚ä¸‹</p><pre class="line-numbers language-none"><code class="language-none">/&gt; ls/&gt; cd /backstores/block/backstores/block&gt; create disk0 /dev/rhce/iscsi_store/backstores/block&gt; cd /iscsi /iscsi&gt; ls/iscsi&gt; create iqn.2014-08.com.example.group8:system1/iscsi&gt; ls/iscsi&gt; cd iqn.2014-08.com.example.group8:system1/tpg1/acls /iscsi/iqn.20...em1/tpg1/acls&gt; create iqn.2014-08.com.example.group8:system2/iscsi/iqn.20...em1/tpg1/acls&gt; cd ../luns /iscsi/iqn.20...em1/tpg1/luns&gt; create /backstores/block/disk0/iscsi/iqn.20...em1/tpg1/luns&gt; cd ../portals//iscsi/iqn.20.../tpg1/portals&gt; create 172.24.8.11 3260/iscsi/iqn.20.../tpg1/portals&gt; ls/iscsi/iqn.20.../tpg1/portals&gt; delete 0.0.0.0 3260/iscsi/iqn.20.../tpg1/portals&gt; create 172.24.8.11 3260/iscsi/iqn.20.../tpg1/portals&gt; ls/iscsi/iqn.20.../tpg1/portals&gt; exit<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-b42054fbaadaadd4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><hr><ul><li><h5 id="ç¬¬äºŒåé¢˜ï¼šé…ç½®-iSCISI-çš„å®¢æˆ·ç«¯"><a href="#ç¬¬äºŒåé¢˜ï¼šé…ç½®-iSCISI-çš„å®¢æˆ·ç«¯" class="headerlink" title="ç¬¬äºŒåé¢˜ï¼šé…ç½® iSCISI çš„å®¢æˆ·ç«¯"></a>ç¬¬äºŒåé¢˜ï¼šé…ç½® iSCISI çš„å®¢æˆ·ç«¯</h5>é…ç½® system2 ä½¿å…¶èƒ½è¿æ¥åœ¨ system1 ä¸Šæä¾›çš„ iqn.2014-08.com.example.group8:system1,å¹¶ç¬¦åˆä»¥ä¸‹è¦æ±‚ï¼š</li></ul><ol><li>iSCISI è®¾å¤‡åœ¨ç³»ç»Ÿå¯åŠ¨çš„æœŸé—´è‡ªåŠ¨åŠ è½½</li><li>å—è®¾å¤‡ iSCISI ä¸ŠåŒ…å«ä¸€ä¸ªå¤§å°ä¸º 2100 MiB çš„åˆ†åŒºï¼Œå¹¶æ ¼å¼åŒ–ä¸º ext4</li><li>æ­¤åˆ†åŒºæŒ‚è½½åœ¨ /mnt/data ä¸Šï¼ŒåŒæ—¶åœ¨ç³»ç»Ÿå¯åŠ¨çš„æœŸé—´è‡ªåŠ¨æŒ‚è½½</li></ol><p><code>å‚è€ƒè§£é¢˜æ­¥éª¤ï¼š</code></p><p><code>system2</code></p><pre class="line-numbers language-none"><code class="language-none">[root@system2 Desktop]# yum -y install iscsi-*[root@system2 Desktop]# vim /etc/iscsi/initiatorname.iscsi [root@system2 Desktop]# systemctl restart iscsi iscsid[root@system2 Desktop]# systemctl enable iscsi iscsid[root@system2 Desktop]# lsblk[root@system2 Desktop]# iscsiadm -m discovery -t st -p 172.24.8.11[root@system2 Desktop]# iscsiadm -m node -T iqn.2014-08.com.example.group8:system1 -l[root@system2 Desktop]# lsblk[root@system2 Desktop]# ls -ald /dev/sd*[root@system2 Desktop]# fdisk /dev/sdb[root@system2 Desktop]# ls -ald /dev/sd*[root@system2 Desktop]# mkfs   ï¼ˆè¿ç»­æŒ‰ä¸¤æ¬¡ type é”®ï¼‰[root@system2 Desktop]# mkfs.ext4 /dev/sdb1[root@system2 Desktop]# blkid /dev/sdb1[root@system2 Desktop]# ls -ald /mnt/data[root@system2 Desktop]# mkdir -p /mnt/data[root@system2 Desktop]# vim /etc/fstab [root@system2 Desktop]# mount -a[root@system2 Desktop]# df -hT<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>/etc/iscsi/initiatorname.iscsi é…ç½®æ–‡ä»¶ä¸­çš„å†…å®¹å¦‚ä¸‹</p><pre class="line-numbers language-none"><code class="language-none">InitiatorName=iqn.2014-08.com.example.group8:system2<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>/etc/fstab æŒ‚è½½é…ç½®æ–‡ä»¶å†…å®¹å¦‚ä¸‹</p><pre class="line-numbers language-none"><code class="language-none">UUID="82e0d1be-f690-45e2-8dfc-7aa548df3fff" /mnt/data ext4 defaults,_netdev 0 0<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-720bb16f0fdc7c93.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-3cba38302ca24aeb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><hr><ul><li><h5 id="ç¬¬äºŒåä¸€é¢˜ï¼šé…ç½®ä¸€ä¸ªæ•°æ®åº“"><a href="#ç¬¬äºŒåä¸€é¢˜ï¼šé…ç½®ä¸€ä¸ªæ•°æ®åº“" class="headerlink" title="ç¬¬äºŒåä¸€é¢˜ï¼šé…ç½®ä¸€ä¸ªæ•°æ®åº“"></a>ç¬¬äºŒåä¸€é¢˜ï¼šé…ç½®ä¸€ä¸ªæ•°æ®åº“</h5>åœ¨ system1ä¸Šåˆ›å»ºä¸€ä¸ª Maria DB æ•°æ®åº“ï¼Œåä¸º Contactsï¼Œè¦æ±‚ï¼š</li></ul><ol><li>æ•°æ®åº“åº”è¯¥åŒ…å«æ¥è‡ªæ•°æ®åº“å¤åˆ¶çš„å†…å®¹ï¼Œå¤åˆ¶æ–‡ä»¶çš„URLä¸º <a href="http://server.group8.example.com/pub/users.mdb">http://server.group8.example.com/pub/users.mdb</a> ï¼Œæ•°æ®åº“åªèƒ½è¢« localhost è®¿é—®</li><li>é™¤äº† root ç”¨æˆ·ï¼Œæ­¤æ•°æ®åº“åªèƒ½è¢«ç”¨æˆ· Mary æŸ¥è¯¢ï¼Œæ­¤ç”¨æˆ·å¯†ç ä¸º redhat</li><li>root ç”¨æˆ·çš„æ•°æ®åº“å¯†ç ä¸º redhat ï¼ŒåŒæ—¶ä¸å…è®¸ç©ºå¯†ç ç™»å½•</li></ol><p><code>å‚è€ƒè§£é¢˜æ­¥éª¤ï¼š</code></p><p><code>system1</code></p><pre class="line-numbers language-none"><code class="language-none">[root@system1 ~]# yum -y install mariadb mariadb-client mariadb-server[root@system1 ~]# wget http://server.group8.example.com/pub/users.mdb[root@system1 ~]# vim /etc/my.cnf[root@system1 ~]# systemctl restart mariadb [root@system1 ~]# systemctl enable mariadb[root@system1 ~]# mysql_secure_installation      ï¼ˆäº¤äº’ç•Œé¢å…¨éƒ¨é€‰æ‹© y ï¼‰[root@system1 ~]# mysql -u root -p<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-none"><code class="language-none">19 skip-networking=1    ï¼ˆè¯·è‡ªè¡Œæ·»åŠ ï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/medias/loading.gif" data-original="https://upload-images.jianshu.io/upload_images/14623749-5b4118b997756732.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><p>è¿›å…¥ MariaDB æ•°æ®åº“ä½¿ç”¨çš„å‘½ä»¤å¦‚ä¸‹</p><pre class="line-numbers language-none"><code class="language-none">MariaDB [(none)]&gt; show databases;MariaDB [(none)]&gt; create database Contacts;MariaDB [(none)]&gt; use Contacts;MariaDB [Contacts]&gt; source users.mdb;MariaDB [Contacts]&gt; show tables;MariaDB [Contacts]&gt; grant select on Contacts.* to Mary@'localhost' identified by 'redhat';MariaDB [Contacts]&gt; exit<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><ul><li><h5 id="ç¬¬äºŒåä¸€é¢˜ï¼šæ•°æ®åº“æŸ¥è¯¢"><a href="#ç¬¬äºŒåä¸€é¢˜ï¼šæ•°æ®åº“æŸ¥è¯¢" class="headerlink" title="ç¬¬äºŒåä¸€é¢˜ï¼šæ•°æ®åº“æŸ¥è¯¢"></a>ç¬¬äºŒåä¸€é¢˜ï¼šæ•°æ®åº“æŸ¥è¯¢</h5>åœ¨ system1 ä¸Šä½¿ç”¨æ•°æ®åº“ Contacts ï¼Œå¹¶ä½¿ç”¨ç›¸åº”çš„ SQL æŸ¥è¯¢ä»¥å›ç­”ä¸‹åˆ—é—®é¢˜ï¼š</li></ul><ol><li>å¯†ç æ˜¯ fadora çš„äººçš„åå­—æ˜¯ä»€ä¹ˆï¼Ÿ</li><li>æœ‰å¤šå°‘äººçš„å§“åæ˜¯ John ï¼ŒåŒæ—¶å±…ä½åœ¨ Santa Clara ï¼Ÿ</li></ol><p>ç›´æ¥è´´å‡º sql è¯­å¥å¦‚ä¸‹ï¼Œä»…ä¾›å‚è€ƒï¼Œè€ƒè¯•æ—¶åœ¨è¿™é‡Œçš„å˜æ•°è¿˜æ˜¯å¾ˆå¤§çš„ï¼Œå»ºè®®ä¸è¦æ­»è®°ç¡¬èƒŒã€‚</p><pre class="line-numbers language-none"><code class="language-none">select n.firstname,n.lastname from u_name  as n left join u_passwd as p where n.userid = p.uid and p.password = 'fedora';select count(*) from u_name as n left join u_loc as l where n.userid = l.uid and n.firstname = 'John' and l.location = 'Santa Clara';<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> çº¢å¸½è®¤è¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo-blog åšå®¢å¼€æº</title>
      <link href="posts/e3e08109.html"/>
      <url>posts/e3e08109.html</url>
      
        <content type="html"><![CDATA[<h1 id="åšå®¢å¼€æº"><a href="#åšå®¢å¼€æº" class="headerlink" title="åšå®¢å¼€æº"></a>åšå®¢å¼€æº</h1><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æŠ˜è…¾äº†ä¸€ä¸ªæ˜ŸæœŸå·¦å³ï¼Œæ€»ç®—æ˜¯æŠŠæˆ‘çš„ä¸ªäººåšå®¢ç»™å®Œå–„äº†ï¼Œä¸ºäº†å›é¦ˆå¼€æºï¼Œæˆ‘ä¼šæŠŠæˆ‘è‡ªå·±ä¿®æ”¹åçš„ä¸”å®Œå–„çš„ <code>blog</code> ç½‘ç«™æºç å¼€æºã€‚<br>ä»£ç éƒ½æ˜¯æºç ï¼Œæ‚¨å¯ä»¥ç›´æ¥ä¸‹è½½æˆ‘çš„åšå®¢æºç ï¼Œç„¶åå°†æ ¹ç›®å½•ä¸‹çš„ <code>/_config.yml</code> å’Œ <code>/themes/hexo-theme-matery/_config.yml</code><br>è¿™ä¸¤ä¸ªé…ç½®æ–‡ä»¶ä¸­çš„ä¿¡æ¯ä¿®æ”¹æˆæ‚¨çš„ä¿¡æ¯å°±å¯ä»¥éƒ¨ç½²æˆå’Œæˆ‘ä¸€æ‘¸ä¸€æ ·çš„åšå®¢äº†ã€‚æ˜¯ä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼Ÿè¿™å¯¹äºä¸€äº›æƒ³å†™åšå®¢ï¼Œä½†æ˜¯åˆä¸æƒ³å¤ªæŠ˜è…¾ï¼Œ<br>å¹¶ä¸”å¯¹ç¾è§‚æœ‰ä¸€å®šè¦æ±‚çš„æœ‹å‹æ¥è¯´ï¼Œç®€ç›´æ˜¯çˆ½çš„ä¸è¦ä¸è¦çš„ã€‚ğŸ˜œ <a href="https://github.com/pudongping/pudongping.github.io">ç‚¹æˆ‘ç«‹å³ä¸‹è½½æˆ‘çš„åšå®¢æºç </a></p><h2 id="å…³äºæˆ‘çš„åšå®¢é¡¹ç›®"><a href="#å…³äºæˆ‘çš„åšå®¢é¡¹ç›®" class="headerlink" title="å…³äºæˆ‘çš„åšå®¢é¡¹ç›®"></a>å…³äºæˆ‘çš„åšå®¢é¡¹ç›®</h2><p>è¿™ä¸ªåšå®¢ï¼Œæˆ‘æ˜¯åŸºäº <strong><a href="https://hexo.io/zh-cn/docs/">Hexo</a></strong> æ¡†æ¶æ­å»ºï¼Œå¹¶ä¸”ç”¨åˆ° <strong><a href="https://github.com/blinkfox/hexo-theme-matery">hexo-theme-matery</a></strong> ä¸»é¢˜ï¼Œ<br>åœ¨æ­¤åŸºç¡€ä¸Šåšäº†ä¸å°‘çš„ä¿®æ”¹ï¼Œå¢åŠ äº†ä¸€äº›æ–°çš„ç‰¹æ€§å’ŒåŠŸèƒ½ã€‚æˆ‘çš„åšå®¢è®¿é—®åœ°å€ä¸ºï¼š<a href="http://www.pudongping.com/">http://www.pudongping.com</a> æˆ–è€…è®¿é—® <a href="https://pudongping.github.io/">https://pudongping.github.io</a></p><h2 id="åˆ›å»ºé¡¹ç›®æ—¶ï¼Œå„ä¸ªè½¯ä»¶ç‰ˆæœ¬ä»‹ç»"><a href="#åˆ›å»ºé¡¹ç›®æ—¶ï¼Œå„ä¸ªè½¯ä»¶ç‰ˆæœ¬ä»‹ç»" class="headerlink" title="åˆ›å»ºé¡¹ç›®æ—¶ï¼Œå„ä¸ªè½¯ä»¶ç‰ˆæœ¬ä»‹ç»"></a>åˆ›å»ºé¡¹ç›®æ—¶ï¼Œå„ä¸ªè½¯ä»¶ç‰ˆæœ¬ä»‹ç»</h2><ul><li>ä¿®æ”¹é¡¹ç›®æ—¶é—´ä¸º 2021 å¹´ 6 æœˆ 5 æ—¥</li><li>ä½¿ç”¨çš„ node.js ç‰ˆæœ¬ä¸ºï¼šv16.2.0</li><li>ä½¿ç”¨çš„ npm ç‰ˆæœ¬ä¸ºï¼š7.13.0</li><li>ä½¿ç”¨çš„ hexo ç‰ˆæœ¬ä¸ºï¼š5.4.0</li><li>ä½¿ç”¨çš„ hexo-theme-matery çš®è‚¤ç‰ˆæœ¬ä¸ºï¼šv2.0.0</li><li>å…¶ä»–çš„ä¾èµ–åŒ…è§ package.json æ–‡ä»¶ï¼Œå…·ä½“ç‰ˆæœ¬å·è§ package-lock.json æ–‡ä»¶ã€‚</li></ul><h2 id="å¦‚ä½•æ­å»ºå’Œæˆ‘ä¸€æ‘¸ä¸€æ ·çš„åšå®¢ï¼Ÿ"><a href="#å¦‚ä½•æ­å»ºå’Œæˆ‘ä¸€æ‘¸ä¸€æ ·çš„åšå®¢ï¼Ÿ" class="headerlink" title="å¦‚ä½•æ­å»ºå’Œæˆ‘ä¸€æ‘¸ä¸€æ ·çš„åšå®¢ï¼Ÿ"></a>å¦‚ä½•æ­å»ºå’Œæˆ‘ä¸€æ‘¸ä¸€æ ·çš„åšå®¢ï¼Ÿ</h2><blockquote><p>å‰æä½ éœ€è¦å…ˆå®‰è£… <code>git</code> å’Œ <code>node.js</code> ï¼ˆå®‰è£…å¥½ node.js ä¹‹åï¼Œä¼šè‡ªåŠ¨å®‰è£… npmï¼Œå¼ºçƒˆå»ºè®®ä½¿ç”¨ <a href="https://github.com/nvm-sh/nvm">nvm</a> å®‰è£… node.js ä»¥æ–¹ä¾¿ç®¡ç†å¤šä¸ªç‰ˆæœ¬çš„ node.jsï¼‰</p></blockquote><ul><li>å®‰è£… <code>hexo-cli</code></li></ul><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"># å…¨å±€å®‰è£… hexonpm install -g hexo-cli# å±€éƒ¨å®‰è£… hexonpm install hexo<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>ç›´æ¥ä½¿ç”¨ <code>git</code> æ‹‰å–é¡¹ç›®å¹¶è¿›å…¥ç›¸åº”çš„æ–‡ä»¶ç›®å½•</li></ul><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"># ä½¿ç”¨ GitHub åœ°å€git clone https://github.com/pudongping/pudongping.github.io.git blog# ä½¿ç”¨ gitee åœ°å€ ï¼ˆè¦æ˜¯ä»£ç æ‹‰å–ä¸ä¸‹æ¥çš„è¯ï¼Œå»ºè®®ä½¿ç”¨ gitee åœ°å€ï¼‰git clone https://gitee.com/pudongping/pudongping.git blog<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>åˆ‡æ¢åˆ†æ”¯</li></ul><p>å»ºè®®åˆ‡æ¢åˆ° <code>hexo</code> åˆ†æ”¯ï¼Œæ–¹ä¾¿ä½ è‡ªå®šä¹‰ä½ çš„åšå®¢ã€‚</p><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"># å¦‚æœä½ æƒ³å®ç°å’Œæˆ‘ä¸€æ‘¸ä¸€æ ·çš„åšå®¢çš„è¯ï¼Œä½ å¯ä»¥ç›´æ¥åˆ‡æ¢åˆ° `main` åˆ†æ”¯ï¼Œè¿™æ˜¯æˆ‘è‡ªå·±å®Œæ•´çš„åšå®¢æºç åˆ†æ”¯ï¼Œå…¶ä¸­åŒ…å«äº†æˆ‘æ‰€æœ‰çš„åšå®¢æ–‡ç« git checkout main# å¦‚æœä½ åªæƒ³è·å–æˆ‘æ‰€æœ‰çš„ä¿®æ”¹ï¼Œå¹¶åŸºäºæ­¤åŸºç¡€ä¹‹ä¸Šæ”¹æˆè‡ªå·±çš„åšå®¢çš„è¯ï¼Œé‚£ä¹ˆå¯ä»¥åˆ‡æ¢åˆ° `hexo` åˆ†æ”¯ï¼Œè¿™ä¸ªåˆ†æ”¯ä¸Šæ˜¯æˆ‘åšå®¢ä¿®æ”¹çš„åŸºç¡€åˆ†æ”¯ï¼Œ# åœ¨æ­¤åˆ†æ”¯åŸºç¡€ä¹‹ä¸Šä½ å¯ä»¥æ·»åŠ ä½ è‡ªå·±çš„ä»»ä½•ä¿®æ”¹ã€‚ï¼ˆä¸åŒ…å«æˆ‘æ‰€æœ‰çš„åšå®¢æ–‡ç« å’Œæˆ‘è‡ªå®šä¹‰çš„å…¶ä»–ä¿®æ”¹ï¼‰git checkout hexo<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>å®‰è£…ä¾èµ–æ’ä»¶</li></ul><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">npm install<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li><p>ä¿®æ”¹æ ¹ç›®å½•ä¸‹çš„ <code>/_config.yml</code> å’Œ <code>/themes/hexo-theme-matery/_config.yml</code> çš„è¿™ä¸¤ä¸ªé…ç½®æ–‡ä»¶ï¼Œæ”¹æˆè‡ªå·±çš„ä¿¡æ¯</p></li><li><p>ç¼–è¯‘æºä»£ç </p></li></ul><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"># æ¸…é™¤ç”Ÿæˆçš„é™æ€æ–‡ä»¶hexo cl# ç”Ÿæˆé™æ€é¡µé¢è‡³ public é¡µé¢ ï¼ˆå¦‚æœåªæ˜¯æœ¬åœ°é¢„è§ˆï¼Œå¯ä¸è¿›è¡Œæ­¤æ­¥éª¤ï¼‰hexo g# ç”Ÿæˆæœ¬åœ°é¢„è§ˆhexo s# å¦‚æœéœ€è¦ç”Ÿæˆ github-pages çš„è¯ï¼Œåˆ™æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ ï¼ˆéœ€è¦å®‰è£… npm install hexo-deployer-git --save æ’ä»¶åŒ…ï¼‰hexo d<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>æœ¬åœ°è®¿é—®é¡¹ç›®</li></ul><p>ç›´æ¥åœ¨æµè§ˆå™¨ä¸­è®¿é—® <a href="http://localhost:4000/]">http://localhost:4000/</a> å³å¯ã€‚éƒ¨ç½²å®Œæ¯•ï¼</p><h2 id="ç‰¹æ€§"><a href="#ç‰¹æ€§" class="headerlink" title="ç‰¹æ€§"></a>ç‰¹æ€§</h2><h3 id="hexo-theme-matery-ä¸»é¢˜ç‰¹æ€§"><a href="#hexo-theme-matery-ä¸»é¢˜ç‰¹æ€§" class="headerlink" title="hexo-theme-matery ä¸»é¢˜ç‰¹æ€§"></a>hexo-theme-matery ä¸»é¢˜ç‰¹æ€§</h3><ul><li>ç®€å•æ¼‚äº®ï¼Œæ–‡ç« å†…å®¹ç¾è§‚æ˜“è¯»</li><li><a href="https://material.io/">Material Design</a> è®¾è®¡</li><li>å“åº”å¼è®¾è®¡ï¼Œåšå®¢åœ¨æ¡Œé¢ç«¯ã€å¹³æ¿ã€æ‰‹æœºç­‰è®¾å¤‡ä¸Šå‡èƒ½å¾ˆå¥½çš„å±•ç°</li><li>é¦–é¡µè½®æ’­æ–‡ç« åŠæ¯å¤©åŠ¨æ€åˆ‡æ¢ <code>Banner</code> å›¾ç‰‡</li><li>ç€‘å¸ƒæµå¼çš„åšå®¢æ–‡ç« åˆ—è¡¨ï¼ˆæ–‡ç« æ— ç‰¹è‰²å›¾ç‰‡æ—¶ä¼šæœ‰ <code>24</code> å¼ æ¼‚äº®çš„å›¾ç‰‡ä»£æ›¿ï¼‰</li><li>æ—¶é—´è½´å¼çš„å½’æ¡£é¡µ</li><li><strong>è¯äº‘</strong>çš„æ ‡ç­¾é¡µå’Œ<strong>é›·è¾¾å›¾</strong>çš„åˆ†ç±»é¡µ</li><li>ä¸°å¯Œçš„å…³äºæˆ‘é¡µé¢ï¼ˆåŒ…æ‹¬å…³äºæˆ‘ã€æ–‡ç« ç»Ÿè®¡å›¾ã€æˆ‘çš„é¡¹ç›®ã€æˆ‘çš„æŠ€èƒ½ã€ç›¸å†Œç­‰ï¼‰</li><li>å¯è‡ªå®šä¹‰çš„æ•°æ®çš„å‹æƒ…é“¾æ¥é¡µé¢</li><li>æ”¯æŒæ–‡ç« ç½®é¡¶å’Œæ–‡ç« æ‰“èµ</li><li>æ”¯æŒ <code>MathJax</code></li><li><code>TOC</code> ç›®å½•</li><li>å¯è®¾ç½®å¤åˆ¶æ–‡ç« å†…å®¹æ—¶è¿½åŠ ç‰ˆæƒä¿¡æ¯</li><li>å¯è®¾ç½®é˜…è¯»æ–‡ç« æ—¶åšå¯†ç éªŒè¯</li><li><a href="https://gitalk.github.io/">Gitalk</a>ã€<a href="https://imsun.github.io/gitment/">Gitment</a>ã€<a href="https://valine.js.org/">Valine</a> å’Œ <a href="https://disqus.com/">Disqus</a> è¯„è®ºæ¨¡å—ï¼ˆæ¨èä½¿ç”¨ <code>Gitalk</code>ï¼‰</li><li>é›†æˆäº†<a href="http://busuanzi.ibruce.info/">ä¸è’œå­ç»Ÿè®¡</a>ã€è°·æ­Œåˆ†æï¼ˆ<code>Google Analytics</code>ï¼‰å’Œæ–‡ç« å­—æ•°ç»Ÿè®¡ç­‰åŠŸèƒ½</li><li>æ”¯æŒåœ¨é¦–é¡µçš„éŸ³ä¹æ’­æ”¾å’Œè§†é¢‘æ’­æ”¾åŠŸèƒ½</li><li>æ”¯æŒ<code>emoji</code>è¡¨æƒ…ï¼Œç”¨<code>markdown emoji</code>è¯­æ³•ä¹¦å†™ç›´æ¥ç”Ÿæˆå¯¹åº”çš„èƒ½<strong>è·³è·ƒ</strong>çš„è¡¨æƒ…ã€‚</li><li>æ”¯æŒ <a href="http://www.daovoice.io/">DaoVoice</a>ã€<a href="https://www.tidio.com/">Tidio</a> åœ¨çº¿èŠå¤©åŠŸèƒ½ã€‚</li></ul><h3 id="ä¿®æ”¹æˆ–å¢åŠ çš„ç‰¹æ€§åŠŸèƒ½"><a href="#ä¿®æ”¹æˆ–å¢åŠ çš„ç‰¹æ€§åŠŸèƒ½" class="headerlink" title="ä¿®æ”¹æˆ–å¢åŠ çš„ç‰¹æ€§åŠŸèƒ½"></a>ä¿®æ”¹æˆ–å¢åŠ çš„ç‰¹æ€§åŠŸèƒ½</h3><ul><li>æ·»åŠ  emoji è¡¨æƒ…æ”¯æŒ</li><li>æ·»åŠ  RSS è®¢é˜…æ”¯æŒ</li><li>æ·»åŠ ç«™ç‚¹åœ°å›¾æ”¯æŒ</li><li>cssã€jsèµ„æºå¢åŠ  cdn åŠ é€Ÿ</li><li>åº•éƒ¨å¢åŠ å¤‡æ¡ˆå·ä¿¡æ¯</li><li>ä¿®æ”¹äº†ä¸»é¢˜é¢œè‰²</li><li>å¤„ç†äº†å›¾ç‰‡å› é˜²ç›—é“¾æ— æ³•æ˜¾ç¤ºé—®é¢˜</li><li>æ·»åŠ äº†åŠ¨æ€æ”¹å˜é¡µé¢æ ‡ç­¾çš„åŠŸèƒ½</li><li>æ·»åŠ äº†é¼ æ ‡ç‚¹å‡»çƒŸèŠ±çˆ†ç‚¸ç‰¹æ•ˆ</li><li>æ·»åŠ äº†é¼ æ ‡ç‚¹å‡»å‡ºç°è‡ªå®šä¹‰æ–‡å­—æµ®å±‚ç‰¹æ•ˆ</li><li>æ·»åŠ äº†é¡µé¢æ¨±èŠ±é£˜è½åŠ¨æ€ç‰¹æ•ˆ</li><li>æ·»åŠ äº†é¡µé¢é›ªèŠ±é£˜è½åŠ¨æ€ç‰¹æ•ˆ</li><li>ä¼˜åŒ–æ–‡ç« çš„ url</li><li>å›¾ç‰‡æ‡’åŠ è½½</li><li>æ·»åŠ äº†åœ¨<strong>å…³äºæˆ‘</strong>é¡µé¢å†™ç®€å†åŠŸèƒ½</li><li>ä¿®æ”¹äº† banner å›¾éšæœºè½®æ’­</li></ul><h2 id="åšå®¢æˆªå›¾"><a href="#åšå®¢æˆªå›¾" class="headerlink" title="åšå®¢æˆªå›¾"></a>åšå®¢æˆªå›¾</h2><p><img src="/medias/loading.gif" data-original="https://pudongping.github.io/medias/sample/page.png" alt="é¦–é¡µ"><br><img src="/medias/loading.gif" data-original="https://pudongping.github.io/medias/sample/articles-list.png" alt="æ–‡ç« åˆ—è¡¨"><br><img src="/medias/loading.gif" data-original="https://pudongping.github.io/medias/sample/articles-list-1.png" alt="æ–‡ç« åˆ—è¡¨"><br><img src="/medias/loading.gif" data-original="https://pudongping.github.io/medias/sample/article-detail.png" alt="æ–‡ç« è¯¦æƒ…"><br><img src="/medias/loading.gif" data-original="https://pudongping.github.io/medias/sample/article-detail-1.png" alt="æ–‡ç« è¯¦æƒ…"><br><img src="/medias/loading.gif" data-original="https://pudongping.github.io/medias/sample/tags.png" alt="æ ‡ç­¾é¡µ"><br><img src="/medias/loading.gif" data-original="https://pudongping.github.io/medias/sample/categories.png" alt="åˆ†ç±»é¡µ"><br><img src="/medias/loading.gif" data-original="https://pudongping.github.io/medias/sample/archives.png" alt="å½’æ¡£é¡µ"><br><img src="/medias/loading.gif" data-original="https://pudongping.github.io/medias/sample/about-me.png" alt="å…³äºæˆ‘é¡µ"><br><img src="/medias/loading.gif" data-original="https://pudongping.github.io/medias/sample/contact.png" alt="ç•™è¨€æ¿é¡µ"></p><h2 id="æ„Ÿè°¢æ”¯æŒ"><a href="#æ„Ÿè°¢æ”¯æŒ" class="headerlink" title="æ„Ÿè°¢æ”¯æŒ"></a>æ„Ÿè°¢æ”¯æŒ</h2><p>å¦‚æœä½ è§‰å¾—å¯¹ä½ æœ‰æ‰€å¸®åŠ©,è¯·å¸®å¿™ç»™ä¸ª <code>Star</code>ã€‚<br>å¦‚æœä½ æƒ³è´¡çŒ®ä¸€ä»½åŠ›é‡,æ¬¢è¿æäº¤ <code>Pull Request</code>ã€‚</p><h2 id="èµèµæåŠ©"><a href="#èµèµæåŠ©" class="headerlink" title="èµèµæåŠ©"></a>èµèµæåŠ©</h2><p>æœ‰é—®é¢˜å¯ä»¥åœ¨æ–‡ç« æœ€åè¯„è®ºåŒºè¿›è¡Œ <strong>ç•™è¨€å’Œè¯„è®º</strong> ï¼Œå¦‚æœä½ å–œæ¬¢æˆ‘çš„åšå®¢ï¼Œè¯·åšä¸»å–ä¸€æ¯å†°é˜”ä¹å‘€^_^ ğŸ˜˜</p><table>  <tbody><tr>    <td>        <img width="100" src="/medias/loading.gif" data-original="https://pudongping.github.io/medias/reward/alipay.png" alt="alipay">    </td>    <td>        <img width="100" src="/medias/loading.gif" data-original="https://pudongping.github.io/medias/reward/wechat.png" alt="wechat">    </td>  </tr></tbody></table><blockquote><p>ğŸ˜˜ è‹¥æœ‰å…±é¸£ï¼Œç•™è¨€è¶³çŸ£ï¼Œè‹¥æœ‰èµèµï¼Œä½•ä»¥å¤åŠ ï¼Ÿ ğŸ¤</p></blockquote><h2 id="LICENSE"><a href="#LICENSE" class="headerlink" title="LICENSE"></a>LICENSE</h2><p>MIT</p>]]></content>
      
      
      <categories>
          
          <category> å¼€æº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GitHub </tag>
            
            <tag> åšå®¢ </tag>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
